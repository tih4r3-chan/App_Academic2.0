(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{14:(rn,it,x)=>{"use strict";x.d(it,{nm:()=>Kr});var f=x(2793);x(5879),x(4097);var Re=x(5861),He=x(4303),ge=x(4537),qe=x(9058),Me=x(7879);const se=new Map,ve={activated:!1,tokenObservers:[]},Oe={initialized:!1,enabled:!1};function Qe(Je){return se.get(Je)||Object.assign({},ve)}function dt(){return Oe}const Vt="https://content-firebaseappcheck.googleapis.com/v1",ht="exchangeDebugToken",ie={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Se{constructor(Ke,lt,Nt,Ct,_n){if(this.operation=Ke,this.retryPolicy=lt,this.getWaitDuration=Nt,this.lowerBound=Ct,this.upperBound=_n,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>_n)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var lt=this;return(0,Re.Z)(function*(){lt.stop();try{lt.pending=new qe.BH,yield function Ze(Je){return new Promise(Ke=>{setTimeout(Ke,Je)})}(lt.getNextRun(Ke)),lt.pending.resolve(),yield lt.pending.promise,lt.pending=new qe.BH,yield lt.operation(),lt.pending.resolve(),yield lt.pending.promise,lt.process(!0).catch(()=>{})}catch(Nt){lt.retryPolicy(Nt)?lt.process(!1).catch(()=>{}):lt.stop()}})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const lt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),lt}}}const tt=new qe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function At(Je){if(!Qe(Je).activated)throw tt.create("use-before-activation",{appName:Je.name})}function Cn(Je,Ke){return yt.apply(this,arguments)}function yt(){return(yt=(0,Re.Z)(function*({url:Je,body:Ke},lt){const Nt={"Content-Type":"application/json"},Ct=lt.getImmediate({optional:!0});if(Ct){const ci=yield Ct.getHeartbeatsHeader();ci&&(Nt["X-Firebase-Client"]=ci)}const _n={method:"POST",body:JSON.stringify(Ke),headers:Nt};let Xn,sr;try{Xn=yield fetch(Je,_n)}catch(ci){throw tt.create("fetch-network-error",{originalErrorMessage:null==ci?void 0:ci.message})}if(200!==Xn.status)throw tt.create("fetch-status-error",{httpStatus:Xn.status});try{sr=yield Xn.json()}catch(ci){throw tt.create("fetch-parse-error",{originalErrorMessage:null==ci?void 0:ci.message})}const lr=sr.ttl.match(/^([\d.]+)(s)$/);if(!lr||!lr[2]||isNaN(Number(lr[1])))throw tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${sr.ttl}`});const ls=1e3*Number(lr[1]),Eo=Date.now();return{token:sr.token,expireTimeMillis:Eo+ls,issuedAtTimeMillis:Eo}})).apply(this,arguments)}function Ut(Je,Ke){const{projectId:lt,appId:Nt,apiKey:Ct}=Je.options;return{url:`${Vt}/projects/${lt}/apps/${Nt}:${ht}?key=${Ct}`,body:{debug_token:Ke}}}const tn="firebase-app-check-database",Hn=1,kn="firebase-app-check-store";let gn=null;function ar(){return(ar=(0,Re.Z)(function*(Je,Ke){const Nt=(yield function Rn(){return gn||(gn=new Promise((Je,Ke)=>{try{const lt=indexedDB.open(tn,Hn);lt.onsuccess=Nt=>{Je(Nt.target.result)},lt.onerror=Nt=>{var Ct;Ke(tt.create("storage-open",{originalErrorMessage:null===(Ct=Nt.target.error)||void 0===Ct?void 0:Ct.message}))},lt.onupgradeneeded=Nt=>{0===Nt.oldVersion&&Nt.target.result.createObjectStore(kn,{keyPath:"compositeKey"})}}catch(lt){Ke(tt.create("storage-open",{originalErrorMessage:null==lt?void 0:lt.message}))}}),gn)}()).transaction(kn,"readwrite"),_n=Nt.objectStore(kn).put({compositeKey:Je,value:Ke});return new Promise((Xn,sr)=>{_n.onsuccess=lr=>{Xn()},Nt.onerror=lr=>{var ls;sr(tt.create("storage-set",{originalErrorMessage:null===(ls=lr.target.error)||void 0===ls?void 0:ls.message}))}})})).apply(this,arguments)}const Ir=new Me.Yd("@firebase/app-check");function ti(Je,Ke){return(0,qe.hl)()?function Er(Je,Ke){return function $n(Je,Ke){return ar.apply(this,arguments)}(function $t(Je){return`${Je.options.appId}-${Je.name}`}(Je),Ke)}(Je,Ke).catch(lt=>{Ir.warn(`Failed to write token to IndexedDB. Error: ${lt}`)}):Promise.resolve()}function Mi(){return dt().enabled}function ni(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,Re.Z)(function*(){const Je=dt();if(Je.enabled&&Je.token)return Je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dt={error:"UNKNOWN_ERROR"};function We(Je){return qe.US.encodeString(JSON.stringify(Je),!1)}function wt(Je){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,Re.Z)(function*(Je,Ke=!1){const lt=Je.app;At(lt);const Nt=Qe(lt);let _n,Ct=Nt.token;if(Ct&&!ee(Ct)&&(Nt.token=void 0,Ct=void 0),!Ct){const lr=yield Nt.cachedTokenPromise;lr&&(ee(lr)?Ct=lr:yield ti(lt,void 0))}if(!Ke&&Ct&&ee(Ct))return{token:Ct.token};let sr,Xn=!1;if(Mi()){Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Cn(Ut(lt,yield ni()),Je.heartbeatServiceProvider).finally(()=>{Nt.exchangeTokenPromise=void 0}),Xn=!0);const lr=yield Nt.exchangeTokenPromise;return yield ti(lt,lr),Nt.token=lr,{token:lr.token}}try{Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Nt.provider.getToken().finally(()=>{Nt.exchangeTokenPromise=void 0}),Xn=!0),Ct=yield Qe(lt).exchangeTokenPromise}catch(lr){"appCheck/throttled"===lr.code?Ir.warn(lr.message):Ir.error(lr),_n=lr}return Ct?_n?sr=ee(Ct)?{token:Ct.token,internalError:_n}:Be(_n):(sr={token:Ct.token},Nt.token=Ct,yield ti(lt,Ct)):sr=Be(_n),Xn&&function xe(Je,Ke){const lt=Qe(Je).tokenObservers;for(const Nt of lt)try{"EXTERNAL"===Nt.type&&null!=Ke.error?Nt.error(Ke.error):Nt.next(Ke)}catch{}}(lt,sr),sr})).apply(this,arguments)}function sn(Je){return vn.apply(this,arguments)}function vn(){return(vn=(0,Re.Z)(function*(Je){const Ke=Je.app;At(Ke);const{provider:lt}=Qe(Ke);if(Mi()){const Nt=yield ni(),{token:Ct}=yield Cn(Ut(Ke,Nt),Je.heartbeatServiceProvider);return{token:Ct}}{const{token:Nt}=yield lt.getToken();return{token:Nt}}})).apply(this,arguments)}function ke(Je,Ke){const lt=Qe(Je),Nt=lt.tokenObservers.filter(Ct=>Ct.next!==Ke);0===Nt.length&&lt.tokenRefresher&&lt.tokenRefresher.isRunning()&&lt.tokenRefresher.stop(),lt.tokenObservers=Nt}function Z(Je){const{app:Ke}=Je,lt=Qe(Ke);let Nt=lt.tokenRefresher;Nt||(Nt=function Y(Je){const{app:Ke}=Je;return new Se((0,Re.Z)(function*(){let Nt;if(Nt=Qe(Ke).token?yield wt(Je,!0):yield wt(Je),Nt.error)throw Nt.error;if(Nt.internalError)throw Nt.internalError}),()=>!0,()=>{const lt=Qe(Ke);if(lt.token){let Nt=lt.token.issuedAtTimeMillis+.5*(lt.token.expireTimeMillis-lt.token.issuedAtTimeMillis)+3e5;return Nt=Math.min(Nt,lt.token.expireTimeMillis-3e5),Math.max(0,Nt-Date.now())}return 0},ie.RETRIAL_MIN_WAIT,ie.RETRIAL_MAX_WAIT)}(Je),lt.tokenRefresher=Nt),!Nt.isRunning()&&lt.isTokenAutoRefreshEnabled&&Nt.start()}function ee(Je){return Je.expireTimeMillis-Date.now()>0}function Be(Je){return{token:We(Dt),error:Je}}class bt{constructor(Ke,lt){this.app=Ke,this.heartbeatServiceProvider=lt}_delete(){const{tokenObservers:Ke}=Qe(this.app);for(const lt of Ke)ke(this.app,lt.next);return Promise.resolve()}}const Dr="app-check-internal";!function Ti(){(0,He.Xd)(new ge.wA("app-check",Je=>function kt(Je,Ke){return new bt(Je,Ke)}(Je.getProvider("app").getImmediate(),Je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Je,Ke,lt)=>{Je.getProvider(Dr).initialize()})),(0,He.Xd)(new ge.wA(Dr,Je=>function An(Je){return{getToken:Ke=>wt(Je,Ke),getLimitedUseToken:()=>sn(Je),addTokenListener:Ke=>function zn(Je,Ke,lt,Nt){const{app:Ct}=Je,_n=Qe(Ct);if(_n.tokenObservers=[..._n.tokenObservers,{next:lt,error:Nt,type:Ke}],_n.token&&ee(_n.token)){const sr=_n.token;Promise.resolve().then(()=>{lt({token:sr.token}),Z(Je)}).catch(()=>{})}_n.cachedTokenPromise.then(()=>Z(Je))}(Je,"INTERNAL",Ke),removeTokenListener:Ke=>ke(Je.app,Ke)}}(Je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,He.KN)("@firebase/app-check","0.8.0")}();class Kr{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},6796:(rn,it,x)=>{"use strict";x.d(it,{zQ:()=>Vt,ww:()=>mn,rT:()=>Oe,f7:()=>ct,L6:()=>se,_Q:()=>ve,lh:()=>Qe,Qv:()=>Me,nw:()=>dt});var f=x(5879),g=x(8645),K=x(2096),ne=x(5592),Te=x(2459),Ee=x(3019),he=x(3093),Ge=x(4664),$e=x(7398),ue=x(4552);class le extends g.x{constructor(ht=1/0,ie=1/0,ye=ue.l){super(),this._bufferSize=ht,this._windowTime=ie,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ie===1/0,this._bufferSize=Math.max(1,ht),this._windowTime=Math.max(1,ie)}next(ht){const{isStopped:ie,_buffer:ye,_infiniteTimeWindow:Se,_timestampProvider:Ze,_windowTime:rt}=this;ie||(ye.push(ht),!Se&&ye.push(Ze.now()+rt)),this._trimBuffer(),super.next(ht)}_subscribe(ht){this._throwIfClosed(),this._trimBuffer();const ie=this._innerSubscribe(ht),{_infiniteTimeWindow:ye,_buffer:Se}=this,Ze=Se.slice();for(let rt=0;rt<Ze.length&&!ht.closed;rt+=ye?1:2)ht.next(Ze[rt]);return this._checkFinalizedStatuses(ht),ie}_trimBuffer(){const{_bufferSize:ht,_timestampProvider:ie,_buffer:ye,_infiniteTimeWindow:Se}=this,Ze=(Se?1:2)*ht;if(ht<1/0&&Ze<ye.length&&ye.splice(0,ye.length-Ze),!Se){const rt=ie.now();let tt=0;for(let Rt=1;Rt<ye.length&&ye[Rt]<=rt;Rt+=2)tt=Rt;tt&&ye.splice(0,tt+1)}}}var be=x(3020);function Ae(Qt,ht,ie){let ye,Se=!1;return Qt&&"object"==typeof Qt?({bufferSize:ye=1/0,windowTime:ht=1/0,refCount:Se=!1,scheduler:ie}=Qt):ye=null!=Qt?Qt:1/0,(0,be.B)({connector:()=>new le(ye,ht,ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Se})}var Ne=x(1374),Ce=x(4674);function Ye(Qt,ht){return(0,Ce.m)(ht)?(0,Ge.w)(()=>Qt,ht):(0,Ge.w)(()=>Qt)}var Ve=x(5137),Ie=x(2181),me=x(2793),ut=x(6304),Re=x(6814),He=x(14),ge=x(120);const Me=new f.OlP("angularfire2.auth.use-emulator"),se=new f.OlP("angularfire2.auth.settings"),ve=new f.OlP("angularfire2.auth.tenant-id"),Oe=new f.OlP("angularfire2.auth.langugage-code"),Qe=new f.OlP("angularfire2.auth.use-device-language"),ct=new f.OlP("angularfire.auth.persistence"),dt=(Qt,ht,ie,ye,Se,Ze,rt,tt)=>(0,ut.cc)(`${Qt.name}.auth`,"AngularFireAuth",Qt.name,()=>{const Rt=ht.runOutsideAngular(()=>Qt.auth());if(ie&&Rt.useEmulator(...ie),ye&&(Rt.tenantId=ye),Rt.languageCode=Se,Ze&&Rt.useDeviceLanguage(),rt)for(const[At,Ht]of Object.entries(rt))Rt.settings[At]=Ht;return tt&&Rt.setPersistence(tt),Rt},[ie,ye,Se,Ze,rt,tt]);let Vt=(()=>{class Qt{constructor(ie,ye,Se,Ze,rt,tt,Rt,At,Ht,Xe,Cn,yt){const gt=new g.x,mt=(0,K.of)(void 0).pipe((0,he.Q)(rt.outsideAngular),(0,Ge.w)(()=>Ze.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,8977)))),(0,$e.U)(()=>(0,ut.on)(ie,Ze,ye)),(0,$e.U)(Ut=>dt(Ut,Ze,tt,At,Ht,Xe,Rt,Cn)),Ae({bufferSize:1,refCount:!1}));if((0,Re.PM)(Se))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{mt.pipe((0,Ne.P)()).subscribe();const tn=mt.pipe((0,Ge.w)(dn=>dn.getRedirectResult().then(gn=>gn,()=>null)),me.iC,Ae({bufferSize:1,refCount:!1})),Hn=mt.pipe((0,Ge.w)(dn=>new ne.y(gn=>({unsubscribe:Ze.runOutsideAngular(()=>dn.onAuthStateChanged(Rn=>gn.next(Rn),Rn=>gn.error(Rn),()=>gn.complete()))})))),kn=mt.pipe((0,Ge.w)(dn=>new ne.y(gn=>({unsubscribe:Ze.runOutsideAngular(()=>dn.onIdTokenChanged(Rn=>gn.next(Rn),Rn=>gn.error(Rn),()=>gn.complete()))}))));this.authState=tn.pipe(Ye(Hn),(0,Ve.R)(rt.outsideAngular),(0,he.Q)(rt.insideAngular)),this.user=tn.pipe(Ye(kn),(0,Ve.R)(rt.outsideAngular),(0,he.Q)(rt.insideAngular)),this.idToken=this.user.pipe((0,Ge.w)(dn=>dn?(0,Te.D)(dn.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,Ge.w)(dn=>dn?(0,Te.D)(dn.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,Ee.T)(tn,gt,this.authState.pipe((0,Ie.h)(dn=>!dn))).pipe((0,$e.U)(dn=>null!=dn&&dn.user?dn:null),(0,Ve.R)(rt.outsideAngular),(0,he.Q)(rt.insideAngular))}return(0,ut.pX)(this,mt,Ze,{spy:{apply:(Ut,tn,Hn)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&Hn.then(kn=>gt.next(kn))}}})}}return Qt.\u0275fac=function(ie){return new(ie||Qt)(f.LFG(ut.Dh),f.LFG(ut.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(me.HU),f.LFG(Me,8),f.LFG(se,8),f.LFG(ve,8),f.LFG(Oe,8),f.LFG(Qe,8),f.LFG(ct,8),f.LFG(He.nm,8))},Qt.\u0275prov=f.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"any"}),Qt})(),mn=(()=>{class Qt{constructor(){ge.Z.registerVersion("angularfire",me.q4.full,"auth-compat")}}return Qt.\u0275fac=function(ie){return new(ie||Qt)},Qt.\u0275mod=f.oAB({type:Qt}),Qt.\u0275inj=f.cJS({providers:[Vt]}),Qt})()},8022:(rn,it,x)=>{"use strict";x.d(it,{ST:()=>iv,yb:()=>l_});var f=x(5879),g=x(6321),K=x(5592),ne=x(2459),Te=x(2096),Ee=x(2793),he=x(7921),Ge=x(9360),$e=x(8251);function ue(){return(0,Ge.e)((i,e)=>{let n,s=!1;i.subscribe((0,$e.x)(e,l=>{const u=n;n=l,s&&e.next([u,l]),s=!0}))})}var se,le=x(7398),be=x(6699),Ae=x(3997),Ne=x(2181),Ce=x(6304),Ye=x(6814),Ie=(x(8977),x(3399)),me=x(5861),ut=x(7592),Re=x(4537),He=x(7879),ge=x(9058),qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},ve=ve||{},Oe=qe||self;function Qe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ct(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Vt="closure_uid_"+(1e9*Math.random()>>>0),mn=0;function Qt(i,e,n){return i.call.apply(i.bind,arguments)}function ht(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function ie(i,e,n){return(ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qt:ht).apply(null,arguments)}function ye(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Se(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,u){for(var m=Array(arguments.length-2),A=2;A<arguments.length;A++)m[A-2]=arguments[A];return e.prototype[l].apply(s,m)}}function Ze(){this.s=this.s,this.o=this.o}Ze.prototype.s=!1,Ze.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dt(i){Object.prototype.hasOwnProperty.call(i,Vt)&&i[Vt]||(i[Vt]=++mn)}(this)},Ze.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Rt(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function At(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Qe(s)){const l=i.length||0,u=s.length||0;i.length=l+u;for(let m=0;m<u;m++)i[l+m]=s[m]}else i.push(s)}}function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Oe.addEventListener("test",()=>{},e),Oe.removeEventListener("test",()=>{},e)}catch{}return i}();function Cn(i){return/^[\s\xa0]*$/.test(i)}function yt(){var i=Oe.navigator;return i&&(i=i.userAgent)?i:""}function gt(i){return-1!=yt().indexOf(i)}function mt(i){return mt[" "](i),i}mt[" "]=function(){};var Er,i,tn=gt("Opera"),Hn=gt("Trident")||gt("MSIE"),kn=gt("Edge"),dn=kn||Hn,gn=gt("Gecko")&&!(-1!=yt().toLowerCase().indexOf("webkit")&&!gt("Edge"))&&!(gt("Trident")||gt("MSIE"))&&!gt("Edge"),Rn=-1!=yt().toLowerCase().indexOf("webkit")&&!gt("Edge");function xr(){var i=Oe.document;return i?i.documentMode:void 0}e:{var On="",Pn=(i=yt(),gn?/rv:([^\);]+)(\)|;)/.exec(i):kn?/Edge\/([\d\.]+)/.exec(i):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Rn?/WebKit\/(\S+)/.exec(i):tn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Pn&&(On=Pn?Pn[1]:""),Hn){var $n=xr();if(null!=$n&&$n>parseFloat(On)){Er=String($n);break e}}Er=On}var Cr=Oe.document&&Hn&&(xr()||parseInt(Er,10))||void 0;function $t(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(gn){e:{try{mt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ir[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$t.$.h.call(this)}}Se($t,Ht);var Ir={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Wt="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function ti(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++Jn,this.fa=this.ia=!1}function ir(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Jr(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function ni(i){const e={};for(const n in i)e[n]=i[n];return e}const Lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let u=0;u<Lr.length;u++)n=Lr[u],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Dt(i){this.src=i,this.g={},this.h=0}function We(i,e){var n=e.type;if(n in i.g){var u,s=i.g[n],l=tt(s,e);(u=0<=l)&&Array.prototype.splice.call(s,l,1),u&&(ir(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function wt(i,e,n,s){for(var l=0;l<i.length;++l){var u=i[l];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==s)return l}return-1}Dt.prototype.add=function(i,e,n,s,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var m=wt(i,e,s,l);return-1<m?(e=i[m],n||(e.ia=!1)):((e=new ti(e,this.src,u,!!s,l)).ia=n,i.push(e)),e};var Kt="closure_lm_"+(1e6*Math.random()|0),sn={};function vn(i,e,n,s,l){if(s&&s.once)return Z(i,e,n,s,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vn(i,e[u],n,s,l);return null}return n=An(n),i&&i[Wt]?i.O(e,n,ct(s)?!!s.capture:!!s,l):zn(i,e,n,!1,s,l)}function zn(i,e,n,s,l,u){if(!e)throw Error("Invalid event type");var m=ct(l)?!!l.capture:!!l,A=bt(i);if(A||(i[Kt]=A=new Dt(i)),(n=A.add(e,n,s,m,u)).proxy)return n;if(s=function ke(){const e=Be;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Xe||(l=m),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(ee(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function Z(i,e,n,s,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Z(i,e[u],n,s,l);return null}return n=An(n),i&&i[Wt]?i.P(e,n,ct(s)?!!s.capture:!!s,l):zn(i,e,n,!0,s,l)}function Y(i,e,n,s,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)Y(i,e[u],n,s,l);else s=ct(s)?!!s.capture:!!s,n=An(n),i&&i[Wt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=wt(u=i.g[e],n,s,l))&&(ir(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=bt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=wt(e,n,s,l)),(n=-1<i?e[i]:null)&&xe(n))}function xe(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Wt])We(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(ee(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=bt(e))?(We(n,i),0==n.h&&(n.src=null,e[Kt]=null)):ir(i)}}}function ee(i){return i in sn?sn[i]:sn[i]="on"+i}function Be(i,e){if(i.fa)i=!0;else{e=new $t(e,this);var n=i.listener,s=i.la||i.src;i.ia&&xe(i),i=n.call(s,e)}return i}function bt(i){return(i=i[Kt])instanceof Dt?i:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(i){return"function"==typeof i?i:(i[kt]||(i[kt]=function(e){return i.handleEvent(e)}),i[kt])}function en(){Ze.call(this),this.i=new Dt(this),this.S=this,this.J=null}function Fn(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var l=e;$r(e=new Ht(s,i),l)}if(l=!0,n)for(var u=n.length-1;0<=u;u--){var m=e.g=n[u];l=Yn(m,s,!0,e)&&l}if(l=Yn(m=e.g=i,s,!0,e)&&l,l=Yn(m,s,!1,e)&&l,n)for(u=0;u<n.length;u++)l=Yn(m=e.g=n[u],s,!1,e)&&l}function Yn(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.fa&&m.capture==n){var A=m.listener,L=m.la||m.src;m.ia&&We(i.i,m),l=!1!==A.call(L,s)&&l}}return l&&!s.defaultPrevented}Se(en,Ze),en.prototype[Wt]=!0,en.prototype.removeEventListener=function(i,e,n,s){Y(this,i,e,n,s)},en.prototype.N=function(){if(en.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)ir(n[s]);delete i.g[e],i.h--}}this.J=null},en.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},en.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Rr=Oe.JSON.stringify;function Fe(){var i=Qn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ft=new class nt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qt,i=>i.reset());class qt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jt(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Sn(i){Oe.setTimeout(()=>{throw i},0)}let Zt,er=!1,Qn=new class _t{constructor(){this.h=this.g=null}add(e,n){const s=ft.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},Gr=()=>{const i=Oe.Promise.resolve(void 0);Zt=()=>{i.then(xi)}};var xi=()=>{for(var i;i=Fe();){try{i.h.call(i.g)}catch(n){Sn(n)}var e=ft;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}er=!1};function dr(i,e){en.call(this),this.h=i||1,this.g=e||Oe,this.j=ie(this.qb,this),this.l=Date.now()}function Or(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Mr(i,e,n){if("function"==typeof i)n&&(i=ie(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ie(i.handleEvent,i)}return 2147483647<Number(e)?-1:Oe.setTimeout(i,e||0)}function cr(i){i.g=Mr(()=>{i.g=null,i.i&&(i.i=!1,cr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Se(dr,en),(se=dr.prototype).ga=!1,se.T=null,se.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fn(this,"tick"),this.ga&&(Or(this),this.start()))}},se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.N=function(){dr.$.N.call(this),Or(this),delete this.g};class Pr extends Ze{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(i){Ze.call(this),this.h=i,this.g={}}Se(br,Ze);var Wr=[];function Bi(i,e,n,s){Array.isArray(n)||(n&&(Wr[0]=n.toString()),n=Wr);for(var l=0;l<n.length;l++){var u=vn(e,n[l],s||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function Br(i){Jr(i.g,function(e,n){this.g.hasOwnProperty(n)&&xe(e)},i),i.g={}}function Ci(){this.g=!0}function Ei(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kr(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<l.length;m++)l[m]=""}}}return Rr(n)}catch{return e}}(i,n)+(s?" "+s:"")})}br.prototype.N=function(){br.$.N.call(this),Br(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ci.prototype.Ea=function(){this.g=!1},Ci.prototype.info=function(){};var hi={},J=null;function q(){return J=J||new en}function De(i){Ht.call(this,hi.Ta,i)}function Pe(i){const e=q();Fn(e,new De(e))}function Et(i,e){Ht.call(this,hi.STAT_EVENT,i),this.stat=e}function st(i){const e=q();Fn(e,new Et(e,i))}function Mt(i,e){Ht.call(this,hi.Ua,i),this.size=e}function Bt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){i()},e)}hi.Ta="serverreachability",Se(De,Ht),hi.STAT_EVENT="statevent",Se(Et,Ht),hi.Ua="timingevent",Se(Mt,Ht);var xt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ln(){}function Zn(){}ln.prototype.h=null;var lt,ur={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Je(){Ht.call(this,"d")}function Ke(){Ht.call(this,"c")}function Nt(){}function Ct(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new br(this),this.P=Xn,this.V=new dr(i=dn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _n}function _n(){this.i=null,this.g="",this.h=!1}Se(Je,Ht),Se(Ke,Ht),Se(Nt,ln),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},lt=new Nt;var Xn=45e3,sr={},lr={};function ls(i,e,n){i.L=1,i.v=$s(fi(e)),i.s=n,i.S=!0,Eo(i,null)}function Eo(i,e){i.G=Date.now(),wr(i),i.A=fi(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Oi(n.i,"t",s),i.C=0,n=i.l.J,i.h=new _n,i.g=rl(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Pr(ie(i.Pa,i,i.g),i.O)),Bi(i.U,i.g,"readystatechange",i.nb),e=i.I?ni(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Pe(),function Dr(i,e,n,s,l,u){i.info(function(){if(i.g)if(u)for(var m="",A=u.split("&"),L=0;L<A.length;L++){var z=A[L].split("=");if(1<z.length){var re=z[0];z=z[1];var Ue=re.split("_");m=2<=Ue.length&&"type"==Ue[1]?m+(re+"=")+z+"&":m+(re+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+m})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ci(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function no(i,e,n){let l,s=!0;for(;!i.J&&i.C<n.length;){if(l=Es(i,n),l==lr){4==e&&(i.o=4,st(14),s=!1),Ei(i.j,i.m,null,"[Incomplete Response]");break}if(l==sr){i.o=4,st(15),Ei(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Ei(i.j,i.m,l,null),Is(i,l)}ci(i)&&l!=lr&&l!=sr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,st(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ca(e),e.M=!0,st(11))):(Ei(i.j,i.m,n,"[Invalid Chunked Response]"),ui(i),Yr(i))}function Es(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?lr:(n=Number(e.substring(n,s)),isNaN(n)?sr:(s+=1)+n>e.length?lr:(e=e.slice(s,s+n),i.C=s+n,e))}function wr(i){i.Y=Date.now()+i.P,yn(i,i.P)}function yn(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Bt(ie(i.lb,i),e)}function Gn(i){i.B&&(Oe.clearTimeout(i.B),i.B=null)}function Yr(i){0==i.l.H||i.J||Oo(i.l,i)}function ui(i){Gn(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Or(i.V),Br(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Is(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||js(n.i,i)))if(!i.K&&js(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Qs(n),rs(n)}wa(n),st(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bt(ie(n.ib,n),6e3));if(1>=Us(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((i.K||n.g==i)&&Qs(n),!Cn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let z=l[e];if(n.V=z[0],z=z[1],2==n.H)if("c"==z[0]){n.K=z[1],n.pa=z[2];const re=z[3];null!=re&&(n.ra=re,n.l.info("VER="+n.ra));const Ue=z[4];null!=Ue&&(n.Ga=Ue,n.l.info("SVER="+n.Ga));const It=z[5];null!=It&&"number"==typeof It&&0<It&&(n.L=s=1.5*It,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Ft=i.g;if(Ft){const fn=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fn){var u=s.i;u.g||-1==fn.indexOf("spdy")&&-1==fn.indexOf("quic")&&-1==fn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Gi(u,u.h),u.h=null))}if(s.F){const Nn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Nn&&(s.Da=Nn,Zr(s.I,s.F,Nn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var m=i;if((s=n).wa=Jl(s,s.J?s.pa:null,s.Y),m.K){Ni(s.i,m);var A=m,L=s.L;L&&A.setTimeout(L),A.B&&(Gn(A),wr(A)),s.g=m}else Fa(s);0<n.j.length&&bs(n)}else"stop"!=z[0]&&"close"!=z[0]||Uo(n,7);else 3==n.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Uo(n,7):ns(n):"noop"!=z[0]&&n.h&&n.h.Aa(z),n.A=0)}Pe()}catch{}}function ri(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Qe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Io(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Qe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function Ii(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Qe(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,u=0;u<l;u++)e.call(void 0,s[u],n&&n[u],i)}(se=Ct.prototype).setTimeout=function(i){this.P=i},se.nb=function(i){i=i.target;const e=this.M;e&&3==te(i)?e.l():this.Pa(i)},se.Pa=function(i){try{if(i==this.g)e:{const re=te(this.g);var e=this.g.Ia();if(this.g.da(),!(3>re)&&(3!=re||dn||this.g&&(this.h.h||this.g.ja()||Tt(this.g)))){this.J||4!=re||7==e||Pe(),Gn(this);var n=this.g.da();this.ca=n;t:if(ci(this)){var s=Tt(this.g);i="";var l=s.length,u=4==te(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Yr(this);var m="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:u&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==n,function Ti(i,e,n,s,l,u,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.W,re,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cn(A)){var z=A;break t}}z=null}if(!(n=z)){this.i=!1,this.o=3,st(12),ui(this),Yr(this);break e}Ei(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,n)}this.S?(no(this,re,m),dn&&this.i&&3==re&&(Bi(this.U,this.V,"tick",this.mb),this.V.start())):(Ei(this.j,this.m,m,null),Is(this,m)),4==re&&ui(this),this.i&&!this.J&&(4==re?Oo(this.l,this):(this.i=!1,wr(this)))}else(function En(i){const e={};i=(i.g&&2<=te(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Cn(i[s]))continue;var n=jt(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[l]||[];e[l]=u,u.push(n)}!function Mi(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<m.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),ui(this),Yr(this)}}}catch{}},se.mb=function(){if(this.g){var i=te(this.g),e=this.g.ja();this.C<e.length&&(Gn(this),no(this,i,e),this.i&&4!=i&&wr(this))}},se.cancel=function(){this.J=!0,ui(this)},se.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pe(),st(17)),ui(this),this.o=2,Yr(this)):yn(this,this.Y-i)};var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bn(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Bn){this.h=i.h,Do(this,i.j),this.s=i.s,this.g=i.g,Ms(this,i.m),this.l=i.l;var e=i.i,n=new ho;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ii(this,n),this.o=i.o}else i&&(e=String(i).match(gs))?(this.h=!1,Do(this,e[1]||"",!0),this.s=vi(e[2]||""),this.g=vi(e[3]||"",!0),Ms(this,e[4]),this.l=vi(e[5]||"",!0),ii(this,e[6]||"",!0),this.o=vi(e[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}function fi(i){return new Bn(i)}function Do(i,e,n){i.j=n?vi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ms(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ii(i,e,n){e instanceof ho?(i.i=e,function Ds(i,e){e&&!i.j&&(ts(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(bo(this,s),Oi(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=zi(e,uo)),i.i=new ho(e,i.h))}function Zr(i,e,n){i.i.set(e,n)}function $s(i){return Zr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function zi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Zs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Zs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Bn.prototype.toString=function(){var i=[],e=this.j;e&&i.push(zi(e,Bs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(zi(e,Bs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(zi(n,"/"==n.charAt(0)?Vs:ms,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",zi(n,hr)),i.join("")};var Bs=/[#\/\?@]/g,ms=/[#\?:]/g,Vs=/[#\?]/g,uo=/[#\?@]/g,hr=/#/g;function ho(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ts(i){i.g||(i.g=new Map,i.h=0,i.i&&function co(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var u=i[n].substring(0,s);l=i[n].substring(s+1)}else u=i[n];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function bo(i,e){ts(i),e=yi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ri(i,e){return ts(i),e=yi(i,e),i.g.has(e)}function Oi(i,e,n){bo(i,e),0<n.length&&(i.i=null,i.g.set(yi(i,e),Rt(n)),i.h+=n.length)}function yi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function la(i){this.l=i||Vi,i=Oe.PerformanceNavigationTiming?0<(i=Oe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Oe.g&&Oe.g.Ka&&Oe.g.Ka()&&Oe.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=ho.prototype).add=function(i,e){ts(this),this.i=null,i=yi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},se.forEach=function(i,e){ts(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},se.ta=function(){ts(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let u=0;u<l.length;u++)n.push(e[s])}return n},se.Z=function(i){ts(this);let e=[];if("string"==typeof i)Ri(this,i)&&(e=e.concat(this.g.get(yi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},se.set=function(i,e){return ts(this),this.i=null,Ri(this,i=yi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const u=encodeURIComponent(String(s)),m=this.Z(s);for(s=0;s<m.length;s++){var l=u;""!==m[s]&&(l+="="+encodeURIComponent(String(m[s]))),i.push(l)}}return this.i=i.join("&")};var Vi=10;function Hi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Us(i){return i.h?1:i.g?i.g.size:0}function js(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Gi(i,e){i.g?i.g.add(e):i.h=e}function Ni(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function cs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Rt(i.i)}la.prototype.cancel=function(){if(this.i=cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Fo=class{stringify(i){return Oe.JSON.stringify(i,void 0)}parse(i){return Oe.JSON.parse(i,void 0)}};function Lo(){this.g=new Fo}function Ro(i,e,n){const s=n||"";try{ri(i,function(l,u){let m=l;ct(l)&&(m=Rr(l)),e.push(s+u+"="+encodeURIComponent(m))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function $o(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function fo(i){this.l=i.fc||null,this.j=i.ob||!1}function Co(i,e){en.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ko,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Se(fo,ln),fo.prototype.g=function(){return new Co(this.l,this.j)},fo.prototype.i=function(i){return function(){return i}}({}),Se(Co,en);var Ko=0;function nl(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function di(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ca(i)}function ca(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=Co.prototype).open=function(i,e){if(this.readyState!=Ko)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ca(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,di(this)),this.readyState=Ko},se.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nl(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},se.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?di(this):ca(this),3==this.readyState&&nl(this)}},se.Za=function(i){this.g&&(this.response=this.responseText=i,di(this))},se.Ya=function(i){this.g&&(this.response=i,di(this))},se.ka=function(){this.g&&di(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ka=Oe.JSON.parse;function B(i){en.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P,this.L=this.M=!1}Se(B,en);var P="",oe=/^https?$/i,$=["POST","PUT"];function Gt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,y(i),E(i)}function y(i){i.F||(i.F=!0,Fn(i,"complete"),Fn(i,"error"))}function V(i){if(i.h&&typeof ve<"u"&&(!i.C[1]||4!=te(i)||2!=i.da()))if(i.v&&4==te(i))Mr(i.La,0,i);else if(Fn(i,"readystatechange"),4==te(i)){i.h=!1;try{const m=i.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===m){var l=String(i.I).match(gs)[1]||null;!l&&Oe.self&&Oe.self.location&&(l=Oe.self.location.protocol.slice(0,-1)),s=!oe.test(l?l.toLowerCase():"")}n=s}if(n)Fn(i,"complete"),Fn(i,"success");else{i.m=6;try{var u=2<te(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",y(i)}}finally{E(i)}}}function E(i,e){if(i.g){F(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Fn(i,"ready");try{n.onreadystatechange=s}catch{}}}function F(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Oe.clearTimeout(i.A),i.A=null)}function te(i){return i.g?i.g.readyState:0}function Tt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case P:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function In(i){let e="";return Jr(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Un(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=In(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Zr(i,e,n))}function mr(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Xr(i){this.Ga=0,this.j=[],this.l=new Ci,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mr("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mr("baseRetryDelayMs",5e3,i),this.hb=mr("retryDelaySeedMs",1e4,i),this.eb=mr("forwardChannelMaxRetries",2,i),this.xa=mr("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new la(i&&i.concurrentRequestLimit),this.Ja=new Lo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ns(i){if(Hs(i),3==i.H){var e=i.W++,n=fi(i.I);if(Zr(n,"SID",i.K),Zr(n,"RID",e),Zr(n,"TYPE","terminate"),Vo(i,n),(e=new Ct(i,i.l,e)).L=2,e.v=$s(fi(n)),n=!1,Oe.navigator&&Oe.navigator.sendBeacon)try{n=Oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Oe.Image&&((new Image).src=e.v,n=!0),n||(e.g=rl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wr(e)}Ta(i)}function rs(i){i.g&&(Ca(i),i.g.cancel(),i.g=null)}function Hs(i){rs(i),i.u&&(Oe.clearTimeout(i.u),i.u=null),Qs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Oe.clearTimeout(i.m),i.m=null)}function bs(i){if(!Hi(i.i)&&!i.m){i.m=!0;var e=i.Na;Zt||Gr(),er||(Zt(),er=!0),Qn.add(e,i),i.C=0}}function Bo(i,e){var n;n=e?e.m:i.W++;const s=fi(i.I);Zr(s,"SID",i.K),Zr(s,"RID",n),Zr(s,"AID",i.V),Vo(i,s),i.o&&i.s&&Un(s,i.o,i.s),n=new Ct(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ki(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Gi(i.i,n),ls(n,s,e)}function Vo(i,e){i.na&&Jr(i.na,function(n,s){Zr(e,s,n)}),i.h&&ri({},function(n,s){Zr(e,s,n)})}function Ki(i,e,n){n=Math.min(i.j.length,n);var s=i.h?ie(i.h.Va,i.h,i):null;e:{var l=i.j;let u=-1;for(;;){const m=["count="+n];-1==u?0<n?(u=l[0].g,m.push("ofs="+u)):u=0:m.push("ofs="+u);let A=!0;for(let L=0;L<n;L++){let z=l[L].g;const re=l[L].map;if(z-=u,0>z)u=Math.max(0,l[L].g-100),A=!1;else try{Ro(re,m,"req"+z+"_")}catch{s&&s(re)}}if(A){s=m.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function Fa(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Zt||Gr(),er||(Zt(),er=!0),Qn.add(e,i),i.A=0}}function wa(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Bt(ie(i.Ma,i),da(i,i.A)),i.A++,0))}function Ca(i){null!=i.B&&(Oe.clearTimeout(i.B),i.B=null)}function ua(i){i.g=new Ct(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=fi(i.wa);Zr(e,"RID","rpc"),Zr(e,"SID",i.K),Zr(e,"AID",i.V),Zr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Zr(e,"TO",i.qa),Zr(e,"TYPE","xmlhttp"),Vo(i,e),i.o&&i.s&&Un(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=$s(fi(e)),n.s=null,n.S=!0,Eo(n,i)}function Qs(i){null!=i.v&&(Oe.clearTimeout(i.v),i.v=null)}function Oo(i,e){var n=null;if(i.g==e){Qs(i),Ca(i),i.g=null;var s=2}else{if(!js(i.i,e))return;n=e.F,Ni(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;Fn(s=q(),new Mt(s,n)),bs(i)}else Fa(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function Xs(i,e){return!(Us(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Bt(ie(i.Na,i,e),da(i,i.C)),i.C++,0)))}(i,e)||2==s&&wa(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Uo(i,5);break;case 4:Uo(i,10);break;case 3:Uo(i,6);break;default:Uo(i,2)}}function da(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Uo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=ie(i.pb,i);n||(n=new Bn("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||Do(n,"https"),$s(n)),function wo(i,e){const n=new Ci;if(Oe.Image){const s=new Image;s.onload=ye($o,n,s,"TestLoadImage: loaded",!0,e),s.onerror=ye($o,n,s,"TestLoadImage: error",!1,e),s.onabort=ye($o,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=ye($o,n,s,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else st(2);i.H=0,i.h&&i.h.za(e),Ta(i),Hs(i)}function Ta(i){if(i.H=0,i.ma=[],i.h){const e=cs(i.i);(0!=e.length||0!=i.j.length)&&(At(i.ma,e),At(i.ma,i.j),i.i.i.length=0,Rt(i.j),i.j.length=0),i.h.ya()}}function Jl(i,e,n){var s=n instanceof Bn?fi(n):new Bn(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Ms(s,s.m);else{var l=Oe.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new Bn(null);s&&Do(u,s),e&&(u.g=e),l&&Ms(u,l),n&&(u.l=n),s=u}return e=i.Da,(n=i.F)&&e&&Zr(s,n,e),Zr(s,"VER",i.ra),Vo(i,s),s}function rl(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new B(n&&i.Ha&&!i.va?new fo({ob:!0}):i.va)).Oa(i.J),e}function xl(){}function Sa(){if(Hn&&!(10<=Number(Cr)))throw Error("Environmental error: no available transport.")}function xs(i,e){en.call(this),this.g=new Xr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Cn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new po(this)}function ha(i){Je.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Rl(){Ke.call(this),this.status=1}function po(i){this.g=i}function ws(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yo(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=i.g[3],m=(e=i.g[0])+(u^(n=i.g[1])&((l=i.g[2])^u))+s[0]+3614090360&4294967295;m=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=n+(m<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^n&(l^u))+s[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^n&(l^u))+s[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^n&(l^u))+s[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(l^u&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(n^l^u)+s[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^u)+s[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^u)+s[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^u)+s[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(l^(n|~u))+s[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~n))+s[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=n+(u^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(n|~u))+s[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~n))+s[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=n+(u^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(n|~u))+s[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~n))+s[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=n+(u^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((u=(e=n+((m=e+(l^(n|~u))+s[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((l=u+((m=l+(e^(u|~n))+s[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(m<<21&4294967295|m>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+u&4294967295}function si(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var u=0|i[l];s&&u==e||(n[l]=u,s=!1)}this.g=n}(se=B.prototype).Oa=function(i){this.M=i},se.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lt.g(),this.C=function qn(i){return i.h||(i.h=i.i())}(this.u?this.u:lt),this.g.onreadystatechange=ie(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void Gt(this,u)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const u of s.keys())n.set(u,s.get(u))}s=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),l=Oe.FormData&&i instanceof Oe.FormData,!(0<=tt($,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,m]of n)this.g.setRequestHeader(u,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F(this),0<this.B&&((this.L=function de(i){return Hn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ie(this.ua,this)):this.A=Mr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){Gt(this,u)}},se.ua=function(){typeof ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Fn(this,"complete"),Fn(this,"abort"),E(this))},se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),E(this,!0)),B.$.N.call(this)},se.La=function(){this.s||(this.G||this.v||this.l?V(this):this.kb())},se.kb=function(){V(this)},se.isActive=function(){return!!this.g},se.da=function(){try{return 2<te(this)?this.g.status:-1}catch{return-1}},se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ka(e)}},se.Ia=function(){return this.m},se.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=Xr.prototype).ra=8,se.H=1,se.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Ct(this,this.l,i);let u=this.s;if(this.U&&(u?(u=ni(u),$r(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ki(this,l,e),Zr(n=fi(this.I),"RID",i),Zr(n,"CVER",22),this.F&&Zr(n,"X-HTTP-Session-Id",this.F),Vo(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(In(u)))+"&"+e:this.o&&Un(n,this.o,u)),Gi(this.i,l),this.bb&&Zr(n,"TYPE","init"),this.P?(Zr(n,"$req",e),Zr(n,"SID","null"),l.aa=!0,ls(l,n,null)):ls(l,n,e),this.H=2}}else 3==this.H&&(i?Bo(this,i):0==this.j.length||Hi(this.i)||Bo(this))},se.Ma=function(){if(this.u=null,ua(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Bt(ie(this.jb,this),i)}},se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,st(10),rs(this),ua(this))},se.ib=function(){null!=this.v&&(this.v=null,rs(this),wa(this),st(19))},se.pb=function(i){i?(this.l.info("Successfully pinged google.com"),st(2)):(this.l.info("Failed to ping google.com"),st(1))},se.isActive=function(){return!!this.h&&this.h.isActive(this)},(se=xl.prototype).Ba=function(){},se.Aa=function(){},se.za=function(){},se.ya=function(){},se.isActive=function(){return!0},se.Va=function(){},Sa.prototype.g=function(i,e){return new xs(i,e)},Se(xs,en),xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;st(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Jl(i,null,i.Y),bs(i)},xs.prototype.close=function(){ns(this.g)},xs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Rr(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&bs(e)},xs.prototype.N=function(){this.g.h=null,delete this.j,ns(this.g),delete this.g,xs.$.N.call(this)},Se(ha,Je),Se(Rl,Ke),Se(po,xl),po.prototype.Ba=function(){Fn(this.g,"a")},po.prototype.Aa=function(i){Fn(this.g,new ha(i))},po.prototype.za=function(i){Fn(this.g,new Rl)},po.prototype.ya=function(){Fn(this.g,"b")},Se(ws,function Cc(){this.blockSize=-1}),ws.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ws.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=n;)Yo(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(s[l++]=i.charCodeAt(u++),l==this.blockSize){Yo(this,s),l=0;break}}else for(;u<e;)if(s[l++]=i[u++],l==this.blockSize){Yo(this,s),l=0;break}}this.h=l,this.i+=e},ws.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var C={};function U(i){return-128<=i&&128>i?function Ut(i,e){var n=C;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new si([0|e],0>e?-1:0)}):new si([0|i],0>i?-1:0)}function _e(i){if(isNaN(i)||!isFinite(i))return je;if(0>i)return or(_e(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=ce;return new si(e,0)}var ce=4294967296,je=U(0),Ot=U(1),an=U(16777216);function fr(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function vr(i){return-1==i.h}function or(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new si(n,~i.h).add(Ot)}function pr(i,e){return i.add(or(e))}function Di(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Vr(i,e){this.g=i,this.h=e}function oi(i,e){if(fr(e))throw Error("division by zero");if(fr(i))return new Vr(je,je);if(vr(i))return e=oi(or(i),e),new Vr(or(e.g),or(e.h));if(vr(e))return e=oi(i,or(e)),new Vr(or(e.g),e.h);if(30<i.g.length){if(vr(i)||vr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ot,s=e;0>=s.X(i);)n=zs(n),s=zs(s);var l=Rs(n,1),u=Rs(s,1);for(s=Rs(s,2),n=Rs(n,2);!fr(s);){var m=u.add(s);0>=m.X(i)&&(l=l.add(n),u=m),s=Rs(s,1),n=Rs(n,1)}return e=pr(i,l.R(e)),new Vr(l,e)}for(l=je;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),m=(u=_e(n)).R(e);vr(m)||0<m.X(i);)m=(u=_e(n-=s)).R(e);fr(u)&&(u=Ot),l=l.add(u),i=pr(i,m)}return new Vr(l,i)}function zs(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new si(n,i.h)}function Rs(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],u=0;u<s;u++)l[u]=0<e?i.D(u+n)>>>e|i.D(u+n+1)<<32-e:i.D(u+n);return new si(l,i.h)}(se=si.prototype).ea=function(){if(vr(this))return-or(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:ce+s)*e,e*=ce}return i},se.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(fr(this))return"0";if(vr(this))return"-"+or(this).toString(i);for(var e=_e(Math.pow(i,6)),n=this,s="";;){var l=oi(n,e).g,u=((0<(n=pr(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(fr(n=l))return u+s;for(;6>u.length;)u="0"+u;s=u+s}},se.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},se.X=function(i){return vr(i=pr(this,i))?-1:fr(i)?0:1},se.abs=function(){return vr(this)?or(this):this},se.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var u=s+(65535&this.D(l))+(65535&i.D(l)),m=(u>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=m>>>16,n[l]=(m&=65535)<<16|(u&=65535)}return new si(n,-2147483648&n[n.length-1]?-1:0)},se.R=function(i){if(fr(this)||fr(i))return je;if(vr(this))return vr(i)?or(this).R(or(i)):or(or(this).R(i));if(vr(i))return or(this.R(or(i)));if(0>this.X(an)&&0>i.X(an))return _e(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var u=this.D(s)>>>16,m=65535&this.D(s),A=i.D(l)>>>16,L=65535&i.D(l);n[2*s+2*l]+=m*L,Di(n,2*s+2*l),n[2*s+2*l+1]+=u*L,Di(n,2*s+2*l+1),n[2*s+2*l+1]+=m*A,Di(n,2*s+2*l+1),n[2*s+2*l+2]+=u*A,Di(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new si(n,0)},se.gb=function(i){return oi(this,i).h},se.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new si(n,this.h&i.h)},se.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new si(n,this.h|i.h)},se.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new si(n,this.h^i.h)},Sa.prototype.createWebChannel=Sa.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,zt.COMPLETE="complete",Zn.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",en.prototype.listen=en.prototype.O,B.prototype.listenOnce=B.prototype.P,B.prototype.getLastError=B.prototype.Sa,B.prototype.getLastErrorCode=B.prototype.Ia,B.prototype.getStatus=B.prototype.da,B.prototype.getResponseJson=B.prototype.Wa,B.prototype.getResponseText=B.prototype.ja,B.prototype.send=B.prototype.ha,B.prototype.setWithCredentials=B.prototype.Oa,ws.prototype.digest=ws.prototype.l,ws.prototype.reset=ws.prototype.reset,ws.prototype.update=ws.prototype.j,si.prototype.add=si.prototype.add,si.prototype.multiply=si.prototype.R,si.prototype.modulo=si.prototype.gb,si.prototype.compare=si.prototype.X,si.prototype.toNumber=si.prototype.ea,si.prototype.toString=si.prototype.toString,si.prototype.getBits=si.prototype.D,si.fromNumber=_e,si.fromString=function k(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return or(k(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_e(Math.pow(e,8)),s=je,l=0;l<i.length;l+=8){var u=Math.min(8,i.length-l),m=parseInt(i.substring(l,l+u),e);8>u?(u=_e(Math.pow(e,u)),s=s.R(u).add(_e(m))):s=(s=s.R(n)).add(_e(m))}return s};var Gs=Me.createWebChannelTransport=function(){return new Sa},ro=Me.getStatEventTarget=function(){return q()},is=Me.ErrorCode=xt,jo=Me.EventType=zt,Zo=Me.Event=hi,pi=Me.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cs=Me.FetchXmlHttpFactory=fo,fa=Me.WebChannel=Zn,Ts=Me.XhrIo=B,il=Me.Md5=ws,Aa=Me.Integer=si;const pa="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let sl="9.23.0";const To=new He.Yd("@firebase/firestore");function Tc(){return To.logLevel}function on(i,...e){if(To.logLevel<=He.in.DEBUG){const n=e.map(Po);To.debug(`Firestore (${sl}): ${i}`,...n)}}function Yi(i,...e){if(To.logLevel<=He.in.ERROR){const n=e.map(Po);To.error(`Firestore (${sl}): ${i}`,...n)}}function Os(i,...e){if(To.logLevel<=He.in.WARN){const n=e.map(Po);To.warn(`Firestore (${sl}): ${i}`,...n)}}function Po(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function hn(i="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+i;throw Yi(e),new Error(e)}function tr(i,e){i||hn()}function Mn(i,e){return i}const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends ge.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ec{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ai.UNAUTHENTICATED))}shutdown(){}}class ga{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ol{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const u=z=>this.i!==l?(l=this.i,n(z)):Promise.resolve();let m=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ur,e.enqueueRetryable(()=>u(this.currentUser))};const A=()=>{const z=m;e.enqueueRetryable((0,me.Z)(function*(){yield z.promise,yield u(s.currentUser)}))},L=z=>{on("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(z=>L(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?L(z):(on("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ur)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(on("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tr("string"==typeof s.accessToken),new ec(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tr(null===e||"string"==typeof e),new ai(e)}}class ol{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tc{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new ol(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=u=>{null!=u.error&&on("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.T;return this.T=u.token,on("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{on("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):on("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tr("string"==typeof n.token),this.T=n.token,new vu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class La{static A(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Qr(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return s}}function _r(i,e){return i<e?-1:i>e?1:0}function Wi(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function nc(i){return i+"\0"}class Si{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Yt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Yt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Yt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Si(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_r(this.nanoseconds,e.nanoseconds):_r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jn(e)}static min(){return new jn(new Si(0,0))}static max(){return new jn(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class So{constructor(e,n,s){void 0===n?n=0:n>e.length&&hn(),void 0===s?s=e.length-n:s>e.length-n&&hn(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===So.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof So?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=e.get(l),m=n.get(l);if(u<m)return-1;if(u>m)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qr extends So{construct(e,n,s){return new qr(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Yt(St.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new qr(n)}static emptyPath(){return new qr([])}}const yu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends So{construct(e,n,s){return new Zi(e,n,s)}static isValidIdentifier(e){return yu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(0===s.length)throw new Yt(St.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let m=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new Yt(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[l+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Yt(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,l+=2}else"`"===A?(m=!m,l++):"."!==A||m?(s+=A,l++):(u(),l++)}if(u(),m)throw new Yt(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(n)}static emptyPath(){return new Zi([])}}class Dn{constructor(e){this.path=e}static fromPath(e){return new Dn(qr.fromString(e))}static fromName(e){return new Dn(qr.fromString(e).popFirst(5))}static empty(){return new Dn(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return qr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dn(new qr(e.slice()))}}class Ps{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function Js(i){return i.fields.find(e=>2===e.kind)}function ma(i){return i.fields.filter(e=>2!==e.kind)}Ps.UNKNOWN_ID=-1;class No{constructor(e,n){this.fieldPath=e,this.kind=n}}class D{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new D(0,b.min())}}function S(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=jn.fromTimestamp(1e9===s?new Si(n+1,0):new Si(n,s));return new b(l,Dn.empty(),e)}function O(i){return new b(i.readTime,i.key,-1)}class b{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new b(jn.min(),Dn.empty(),-1)}static max(){return new b(jn.max(),Dn.empty(),-1)}}function N(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Dn.comparator(i.documentKey,e.documentKey),0!==n?n:_r(i.largestBatchId,e.largestBatchId))}const X="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function at(i){return cn.apply(this,arguments)}function cn(){return cn=(0,me.Z)(function*(i){if(i.code!==St.FAILED_PRECONDITION||i.message!==X)throw i;on("LocalStore","Unexpectedly lost primary lease")}),cn.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,s)=>{n(e)})}static reject(e){return new pe((n,s)=>{s(e)})}static waitFor(e){return new pe((n,s)=>{let l=0,u=0,m=!1;e.forEach(A=>{++l,A.next(()=>{++u,m&&u===l&&n()},L=>s(L))}),m=!0,u===l&&n()})}static or(e){let n=pe.resolve(!1);for(const s of e)n=n.next(l=>l?pe.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new pe((s,l)=>{const u=e.length,m=new Array(u);let A=0;for(let L=0;L<u;L++){const z=L;n(e[z]).next(re=>{m[z]=re,++A,A===u&&s(m)},re=>l(re))}})}static doWhile(e,n){return new pe((s,l)=>{const u=()=>{!0===e()?n().next(()=>{u()},l):s()};u()})}}class bn{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Ur,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Ui(e,n.error)):this.v.resolve()},this.transaction.onerror=s=>{const l=eo(s.target.error);this.v.reject(new Ui(e,l))}}static open(e,n,s,l){try{return new bn(n,e.transaction(l,s))}catch(u){throw new Ui(n,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(on("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new us(n)}}class Wn{constructor(e,n,s){this.name=e,this.version=n,this.V=s,12.2===Wn.S((0,ge.z$)())&&Yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return on("SimpleDb","Removing database:",e),Ss(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.hl)())return!1;if(Wn.C())return!0;const e=(0,ge.z$)(),n=Wn.S(e),s=0<n&&n<10,l=Wn.N(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var n=this;return(0,me.Z)(function*(){return n.db||(on("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=m=>{s(m.target.result)},u.onblocked=()=>{l(new Ui(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const A=m.target.error;l("VersionError"===A.name?new Yt(St.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Yt(St.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Ui(e,A))},u.onupgradeneeded=m=>{on("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',m.oldVersion),n.V.O(m.target.result,u.transaction,m.oldVersion,n.version).next(()=>{on("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=s=>n.F(s)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var u=this;return(0,me.Z)(function*(){const m="readonly"===n;let A=0;for(;;){++A;try{u.db=yield u.$(e);const L=bn.open(u.db,e,m?"readonly":"readwrite",s),z=l(L).next(re=>(L.P(),re)).catch(re=>(L.abort(re),pe.reject(re))).toPromise();return z.catch(()=>{}),yield L.R,z}catch(L){const z=L,re="FirebaseError"!==z.name&&A<3;if(on("SimpleDb","Transaction failed with error:",z.message,"Retrying:",re),u.close(),!re)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ki{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ss(this.L.delete())}}class Ui extends Yt{constructor(e,n){super(St.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Nr(i){return"IndexedDbTransactionError"===i.name}class us{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(on("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(on("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ss(s)}add(e){return on("SimpleDb","ADD",this.store.name,e,e),Ss(this.store.add(e))}get(e){return Ss(this.store.get(e)).next(n=>(void 0===n&&(n=null),on("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return on("SimpleDb","DELETE",this.store.name,e),Ss(this.store.delete(e))}count(){return on("SimpleDb","COUNT",this.store.name),Ss(this.store.count())}j(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),u=[];return this.W(l,(m,A)=>{u.push(A)}).next(()=>u)}{const l=this.store.getAll(s.range);return new pe((u,m)=>{l.onerror=A=>{m(A.target.error)},l.onsuccess=A=>{u(A.target.result)}})}}H(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new pe((l,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}J(e,n){on("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.Y=!1;const l=this.cursor(s);return this.W(l,(u,m,A)=>A.delete())}X(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.W(l,n)}Z(e){const n=this.cursor({});return new pe((s,l)=>{n.onerror=u=>{const m=eo(u.target.error);l(m)},n.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(A=>{A?m.continue():s()}):s()}})}W(e,n){const s=[];return new pe((l,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const A=m.target.result;if(!A)return void l();const L=new ki(A),z=n(A.primaryKey,A.value,L);if(z instanceof pe){const re=z.catch(Ue=>(L.done(),pe.reject(Ue)));s.push(re)}L.isDone?l():null===L.K?A.continue():A.continue(L.K)}}).next(()=>pe.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ss(i){return new pe((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=eo(s.target.error);n(l)}})}let Xi=!1;function eo(i){const e=Wn.S((0,ge.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new Yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xi||(Xi=!0,setTimeout(()=>{throw s},0)),s}}return i}class bi{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;on("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){n.task=null;try{on("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(s){Nr(s)?on("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield at(s)}yield n.et(6e4)}))}}class Xo{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,me.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.st(s,e))})()}st(e,n){const s=new Set;let l=n,u=!0;return pe.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return on("IndexBackiller",`Processing collection: ${m}`),this.it(e,m,l).next(A=>{l-=A,s.add(m)});u=!1})).next(()=>n-l)}it(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.rt(l,u)).next(A=>(on("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,n,A))).next(()=>m.size)}))}rt(e,n){let s=e;return n.changes.forEach((l,u)=>{const m=O(u);N(m,s)>0&&(s=m)}),new b(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Qi=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>s.writeSequenceNumber(l))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function io(i){return null==i}function Pl(i){return 0===i&&1/i==-1/0}function Mc(i){return"number"==typeof i&&Number.isInteger(i)&&!Pl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function As(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Qo(e)),e=al(i.get(n),e);return Qo(e)}function al(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function Qo(i){return i+"\x01\x01"}function Ns(i){const e=i.length;if(tr(e>=2),2===e)return tr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),qr.emptyPath();const n=e-2,s=[];let l="";for(let u=0;u<e;){const m=i.indexOf("\x01",u);switch((m<0||m>n)&&hn(),i.charAt(m+1)){case"\x01":const A=i.substring(u,m);let L;0===l.length?L=A:(l+=A,L=l,l=""),s.push(L);break;case"\x10":l+=i.substring(u,m),l+="\0";break;case"\x11":l+=i.substring(u,m+1);break;default:hn()}u=m+2}return new qr(s)}const ll=["userId","batchId"];function $a(i,e){return[i,As(e)]}function rc(i,e,n){return[i,As(e),n]}const ic={},nh=["prefixPath","collectionGroup","readTime","documentId"],xc=["prefixPath","collectionGroup","documentId"],_u=["collectionGroup","readTime","prefixPath","documentId"],Ba=["canonicalId","targetId"],Va=["targetId","path"],nf=["path","targetId"],nd=["collectionId","parent"],Rc=["indexId","uid"],rh=["uid","sequenceNumber"],rd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rf=["indexId","uid","orderedDocumentKey"],id=["userId","collectionPath","documentId"],sf=["userId","collectionPath","largestBatchId"],sc=["userId","collectionGroup","largestBatchId"],cl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ih=[...cl,"documentOverlays"],Ua=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Oc=Ua,Pc=[...Oc,"indexConfiguration","indexState","indexEntries"];class Nc extends fe{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function ks(i,e){const n=Mn(i);return Wn.M(n.ht,e)}function sd(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function va(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Jo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Fi{constructor(e,n){this.comparator=e,this.root=n||vs.EMPTY}insert(e,n){return new Fi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ya(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ya(this.root,e,this.comparator,!1)}getReverseIterator(){return new ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ya(this.root,e,this.comparator,!0)}}class ya{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=null!=s?s:vs.RED,this.left=null!=l?l:vs.EMPTY,this.right=null!=u?u:vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new vs(null!=e?e:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===u?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return vs.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(i,e,n,s,l){return this}insert(i,e,n){return new vs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xa(this.data.getIterator())}getIteratorFrom(e){return new xa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pi(this.comparator);return n.data=e,n}}class xa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _a(i){return i.hasNext()?i.getNext():void 0}class to{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new to([])}unionWith(e){let n=new Pi(Zi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new to(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wi(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class Nl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ds{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Nl("Invalid base64 string: "+l):l}}(e);return new ds(n)}static fromUint8Array(e){const n=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new ds(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const od=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(i){if(tr(!!i),"string"==typeof i){let e=0;const n=od.exec(i);if(tr(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ji(i.seconds),nanos:Ji(i.nanos)}}function Ji(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function go(i){return"string"==typeof i?ds.fromBase64String(i):ds.fromUint8Array(i)}function kc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ho(i){const e=i.mapValue.fields.__previous_value__;return kc(e)?Ho(e):e}function ul(i){const e=Ra(i.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}class ac{constructor(e,n,s,l,u,m,A,L,z){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=A,this.longPollingOptions=L,this.useFetchStreams=z}}class Oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const Li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dl={nullValue:"NULL_VALUE"};function mo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kc(i)?4:wn(i)?9007199254740991:10:hn()}function ea(i,e){if(i===e)return!0;const n=mo(i);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ul(i).isEqual(ul(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=Ra(s.timestampValue),m=Ra(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,go(i.bytesValue).isEqual(go(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Ji(s.geoPointValue.latitude)===Ji(l.geoPointValue.latitude)&&Ji(s.geoPointValue.longitude)===Ji(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ji(s.integerValue)===Ji(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Ji(s.doubleValue),m=Ji(l.doubleValue);return u===m?Pl(u)===Pl(m):isNaN(u)&&isNaN(m)}return!1}(i,e);case 9:return Wi(i.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:return function(s,l){const u=s.mapValue.fields||{},m=l.mapValue.fields||{};if(sd(u)!==sd(m))return!1;for(const A in u)if(u.hasOwnProperty(A)&&(void 0===m[A]||!ea(u[A],m[A])))return!1;return!0}(i,e);default:return hn()}var l}function Fc(i,e){return void 0!==(i.values||[]).find(n=>ea(n,e))}function Ea(i,e){if(i===e)return 0;const n=mo(i),s=mo(e);if(n!==s)return _r(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return _r(i.booleanValue,e.booleanValue);case 2:return function(l,u){const m=Ji(l.integerValue||l.doubleValue),A=Ji(u.integerValue||u.doubleValue);return m<A?-1:m>A?1:m===A?0:isNaN(m)?isNaN(A)?0:-1:1}(i,e);case 3:return Lc(i.timestampValue,e.timestampValue);case 4:return Lc(ul(i),ul(e));case 5:return _r(i.stringValue,e.stringValue);case 6:return function(l,u){const m=go(l),A=go(u);return m.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),A=u.split("/");for(let L=0;L<m.length&&L<A.length;L++){const z=_r(m[L],A[L]);if(0!==z)return z}return _r(m.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,u){const m=_r(Ji(l.latitude),Ji(u.latitude));return 0!==m?m:_r(Ji(l.longitude),Ji(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,u){const m=l.values||[],A=u.values||[];for(let L=0;L<m.length&&L<A.length;++L){const z=Ea(m[L],A[L]);if(z)return z}return _r(m.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===Li.mapValue&&u===Li.mapValue)return 0;if(l===Li.mapValue)return 1;if(u===Li.mapValue)return-1;const m=l.fields||{},A=Object.keys(m),L=u.fields||{},z=Object.keys(L);A.sort(),z.sort();for(let re=0;re<A.length&&re<z.length;++re){const Ue=_r(A[re],z[re]);if(0!==Ue)return Ue;const It=Ea(m[A[re]],L[z[re]]);if(0!==It)return It}return _r(A.length,z.length)}(i.mapValue,e.mapValue);default:throw hn()}}function Lc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _r(i,e);const n=Ra(i),s=Ra(e),l=_r(n.seconds,s.seconds);return 0!==l?l:_r(n.nanos,s.nanos)}function ta(i){return hl(i)}function hl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=Ra(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?go(i.bytesValue).toBase64():"referenceValue"in i?Dn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",u=!0;for(const m of s.values||[])u?u=!1:l+=",",l+=hl(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let u="{",m=!0;for(const A of l)m?m=!1:u+=",",u+=`${A}:${hl(s.fields[A])}`;return u+"}"}(i.mapValue):hn();var e}function R(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function G(i){return!!i&&"integerValue"in i}function we(i){return!!i&&"arrayValue"in i}function et(i){return!!i&&"nullValue"in i}function pt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pt(i){return!!i&&"mapValue"in i}function Tn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return va(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Tn(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tn(i.arrayValue.values[n]);return e}return Object.assign({},i)}function wn(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function nr(i){return"nullValue"in i?dl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?R(Oa.empty(),Dn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:hn()}function Tr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?R(Oa.empty(),Dn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Li:hn()}function Sr(i,e){const n=Ea(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ks(i,e){const n=Ea(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pt(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tn(n)}setAll(e){let n=Zi.emptyPath(),s={},l=[];e.forEach((m,A)=>{if(!n.isImmediateParentOf(A)){const L=this.getFieldsMap(n);this.applyChanges(L,s,l),s={},l=[],n=A.popLast()}m?s[A.lastSegment()]=Tn(m):l.push(A.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Pt(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Pt(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){va(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new li(Tn(this.value))}}function fl(i){const e=[];return va(i.fields,(n,s)=>{const l=new Zi([n]);if(Pt(s)){const u=fl(s.mapValue).fields;if(0===u.length)e.push(l);else for(const m of u)e.push(l.child(m))}else e.push(l)}),new to(e)}class Ar{constructor(e,n,s,l,u,m,A){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=m,this.documentState=A}static newInvalidDocument(e){return new Ar(e,0,jn.min(),jn.min(),jn.min(),li.empty(),0)}static newFoundDocument(e,n,s,l){return new Ar(e,1,n,jn.min(),s,l,0)}static newNoDocument(e,n){return new Ar(e,2,n,jn.min(),jn.min(),li.empty(),0)}static newUnknownDocument(e,n){return new Ar(e,3,n,jn.min(),jn.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ao{constructor(e,n){this.position=e,this.inclusive=n}}function so(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const u=e[l],m=i.position[l];if(s=u.field.isKeyField()?Dn.comparator(Dn.fromName(m.referenceValue),n.key):Ea(m,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function Ia(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ea(i.position[n],e.position[n]))return!1;return!0}class Ys{constructor(e,n="asc"){this.field=e,this.dir=n}}function kl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class sh{}class ei extends sh{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new lf(e,n,s):"array-contains"===n?new uc(e,s):"in"===n?new uf(e,s):"not-in"===n?new ig(e,s):"array-contains-any"===n?new Iu(e,s):new ei(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new cf(e,s):new ng(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ea(n,this.value)):null!==n&&mo(this.value)===mo(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gi extends sh{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new gi(e,n)}matches(e){return lc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function lc(i){return"and"===i.op}function Eu(i){return"or"===i.op}function ad(i){return af(i)&&lc(i)}function af(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function ko(i){if(i instanceof ei)return i.field.canonicalString()+i.op.toString()+ta(i.value);if(ad(i))return i.filters.map(e=>ko(e)).join(",");{const e=i.filters.map(n=>ko(n)).join(",");return`${i.op}(${e})`}}function ld(i,e){return i instanceof ei?(n=i,(s=e)instanceof ei&&n.op===s.op&&n.field.isEqual(s.field)&&ea(n.value,s.value)):i instanceof gi?function(n,s){return s instanceof gi&&n.op===s.op&&n.filters.length===s.filters.length&&n.filters.reduce((l,u,m)=>l&&ld(u,s.filters[m]),!0)}(i,e):void hn();var n,s}function cc(i,e){const n=i.filters.concat(e);return gi.create(n,i.op)}function tg(i){return i instanceof ei?`${(e=i).field.canonicalString()} ${e.op} ${ta(e.value)}`:i instanceof gi?function(e){return e.op.toString()+" {"+e.getFilters().map(tg).join(" ,")+"}"}(i):"Filter";var e}class lf extends ei{constructor(e,n,s){super(e,n,s),this.key=Dn.fromName(s.referenceValue)}matches(e){const n=Dn.comparator(e.key,this.key);return this.matchesComparison(n)}}class cf extends ei{constructor(e,n){super(e,"in",n),this.keys=rg(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ng extends ei{constructor(e,n){super(e,"not-in",n),this.keys=rg(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rg(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Dn.fromName(s.referenceValue))}class uc extends ei{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return we(n)&&Fc(n.arrayValue,this.value)}}class uf extends ei{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fc(this.value.arrayValue,n)}}class ig extends ei{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fc(this.value.arrayValue,n)}}class Iu extends ei{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!we(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Fc(this.value.arrayValue,s))}}class cd{constructor(e,n=null,s=[],l=[],u=null,m=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=m,this.endAt=A,this.dt=null}}function Du(i,e=null,n=[],s=[],l=null,u=null,m=null){return new cd(i,e,n,s,l,u,m)}function ja(i){const e=Mn(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ko(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),io(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ta(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ta(s)).join(",")),e.dt=n}return e.dt}function bu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!kl(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ld(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ia(i.startAt,e.startAt)&&Ia(i.endAt,e.endAt)}function pl(i){return Dn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ud(i,e){return i.filters.filter(n=>n instanceof ei&&n.field.isEqual(e))}function oh(i,e,n){let s=dl,l=!0;for(const u of ud(i,e)){let m=dl,A=!0;switch(u.op){case"<":case"<=":m=nr(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,A=!1;break;case"!=":case"not-in":m=dl}Sr({value:s,inclusive:l},{value:m,inclusive:A})<0&&(s=m,l=A)}if(null!==n)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=n.position[u];Sr({value:s,inclusive:l},{value:m,inclusive:n.inclusive})<0&&(s=m,l=n.inclusive);break}return{value:s,inclusive:l}}function $c(i,e,n){let s=Li,l=!0;for(const u of ud(i,e)){let m=Li,A=!0;switch(u.op){case">=":case">":m=Tr(u.value),A=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,A=!1;break;case"!=":case"not-in":m=Li}Ks({value:s,inclusive:l},{value:m,inclusive:A})>0&&(s=m,l=A)}if(null!==n)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=n.position[u];Ks({value:s,inclusive:l},{value:m,inclusive:n.inclusive})>0&&(s=m,l=n.inclusive);break}return{value:s,inclusive:l}}class Da{constructor(e,n=null,s=[],l=[],u=null,m="F",A=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=m,this.startAt=A,this.endAt=L,this.wt=null,this._t=null}}function ah(i,e,n,s,l,u,m,A){return new Da(i,e,n,s,l,u,m,A)}function Bc(i){return new Da(i)}function df(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Fl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function gl(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function wu(i){return null!==i.collectionGroup}function Vc(i){const e=Mn(i);if(null===e.wt){e.wt=[];const n=gl(e),s=Fl(e);if(null!==n&&null===s)n.isKeyField()||e.wt.push(new Ys(n)),e.wt.push(new Ys(Zi.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ys(Zi.keyField(),u))}}}return e.wt}function Mo(i){const e=Mn(i);if(!e._t)if("F"===e.limitType)e._t=Du(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const u of Vc(e))n.push(new Ys(u.field,"desc"===u.dir?"asc":"desc"));const s=e.endAt?new Ao(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ao(e.startAt.position,e.startAt.inclusive):null;e._t=Du(e.path,e.collectionGroup,n,e.filters,e.limit,s,l)}return e._t}function Cu(i,e){e.getFirstInequalityField(),gl(i);const n=i.filters.concat([e]);return new Da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Tu(i,e,n){return new Da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Su(i,e){return bu(Mo(i),Mo(e))&&i.limitType===e.limitType}function hf(i){return`${ja(Mo(i))}|lt:${i.limitType}`}function Uc(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>tg(s)).join(", ")}]`),io(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ta(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ta(s)).join(",")),`Target(${n})`}(Mo(i))}; limitType=${i.limitType})`}function Ll(i,e){return e.isFoundDocument()&&function(n,s){const l=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Dn.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,s){for(const l of Vc(n))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((n=i).startAt&&!function(l,u,m){const A=so(l,u,m);return l.inclusive?A<=0:A<0}(n.startAt,Vc(n),s)||n.endAt&&!function(l,u,m){const A=so(l,u,m);return l.inclusive?A>=0:A>0}(n.endAt,Vc(n),s)));var n,s}function lh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ff(i){return(e,n)=>{let s=!1;for(const l of Vc(i)){const u=ch(l,e,n);if(0!==u)return u;s=s||l.field.isKeyField()}return 0}}function ch(i,e,n){const s=i.field.isKeyField()?Dn.comparator(e.key,n.key):function(l,u,m){const A=u.data.field(l),L=m.data.field(l);return null!==A&&null!==L?Ea(A,L):hn()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return hn()}}class $l{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,u]of s)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return Jo(this.inner)}size(){return this.innerSize}}const pf=new Fi(Dn.comparator);function na(){return pf}const gf=new Fi(Dn.comparator);function ml(...i){let e=gf;for(const n of i)e=e.insert(n.key,n);return e}function dd(i){let e=gf;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ha(){return dc()}function sg(){return dc()}function dc(){return new $l(i=>i.toString(),(i,e)=>i.isEqual(e))}const mv=new Fi(Dn.comparator),vv=new Pi(Dn.comparator);function jr(...i){let e=vv;for(const n of i)e=e.add(n);return e}const mf=new Pi(_r);function hd(){return mf}function uh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(e)?"-0":e}}function Au(i){return{integerValue:""+i}}function hc(i,e){return Mc(e)?Au(e):uh(i,e)}class Mu{constructor(){this._=void 0}}function zo(i,e,n){return i instanceof fc?function(s,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&kc(l)&&(l=Ho(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(n,e):i instanceof za?pc(i,e):i instanceof Ga?Hc(i,e):function(s,l){const u=Bl(s,l),m=vl(u)+vl(s.gt);return G(u)&&G(s.gt)?Au(m):uh(s.serializer,m)}(i,e)}function jc(i,e,n){return i instanceof za?pc(i,e):i instanceof Ga?Hc(i,e):n}function Bl(i,e){return i instanceof zc?G(n=e)||(s=n)&&"doubleValue"in s?e:{integerValue:0}:null;var s,n}class fc extends Mu{}class za extends Mu{constructor(e){super(),this.elements=e}}function pc(i,e){const n=dh(e);for(const s of i.elements)n.some(l=>ea(l,s))||n.push(s);return{arrayValue:{values:n}}}class Ga extends Mu{constructor(e){super(),this.elements=e}}function Hc(i,e){let n=dh(e);for(const s of i.elements)n=n.filter(l=>!ea(l,s));return{arrayValue:{values:n}}}class zc extends Mu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function vl(i){return Ji(i.integerValue||i.doubleValue)}function dh(i){return we(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Gc{constructor(e,n){this.field=e,this.transform=n}}class og{constructor(e,n){this.version=e,this.transformResults=n}}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vo(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class gc{}function fd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Wc(i.key,ss.none()):new yl(i.key,i.data,ss.none());{const n=i.data,s=li.empty();let l=new Pi(Zi.comparator);for(let u of e.fields)if(!l.has(u)){let m=n.field(u);null===m&&u.length>1&&(u=u.popLast(),m=n.field(u)),null===m?s.delete(u):s.set(u,m),l=l.add(u)}return new hs(i.key,s,new to(l.toArray()),ss.none())}}function ag(i,e,n){i instanceof yl?function(s,l,u){const m=s.value.clone(),A=fh(s.fieldTransforms,l,u.transformResults);m.setAll(A),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(i,e,n):i instanceof hs?function(s,l,u){if(!vo(s.precondition,l))return void l.convertToUnknownDocument(u.version);const m=fh(s.fieldTransforms,l,u.transformResults),A=l.data;A.setAll(Vl(s)),A.setAll(m),l.convertToFoundDocument(u.version,A).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function es(i,e,n,s){return i instanceof yl?function(l,u,m,A){if(!vo(l.precondition,u))return m;const L=l.value.clone(),z=ph(l.fieldTransforms,A,u);return L.setAll(z),u.convertToFoundDocument(u.version,L).setHasLocalMutations(),null}(i,e,n,s):i instanceof hs?function(l,u,m,A){if(!vo(l.precondition,u))return m;const L=ph(l.fieldTransforms,A,u),z=u.data;return z.setAll(Vl(l)),z.setAll(L),u.convertToFoundDocument(u.version,z).setHasLocalMutations(),null===m?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(re=>re.field))}(i,e,n,s):(m=n,vo(i.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function mc(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),u=Bl(s.transform,l||null);null!=u&&(null===n&&(n=li.empty()),n.set(s.field,u))}return n||null}function pd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===s||n&&s&&Wi(n,s,(l,u)=>function hh(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(n=i.transform)instanceof za&&s instanceof za||n instanceof Ga&&s instanceof Ga?Wi(n.elements,s.elements,ea):n instanceof zc&&s instanceof zc?ea(n.gt,s.gt):n instanceof fc&&s instanceof fc);var n,s}(l,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,s}class yl extends gc{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends gc{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vl(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function fh(i,e,n){const s=new Map;tr(i.length===n.length);for(let l=0;l<n.length;l++){const u=i[l],m=u.transform,A=e.data.field(u.field);s.set(u.field,jc(m,A,n[l]))}return s}function ph(i,e,n){const s=new Map;for(const l of i){const u=l.transform,m=n.data.field(l.field);s.set(l.field,zo(u,m,e))}return s}class Wc extends gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gd extends gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&ag(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=es(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=es(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sg();return this.mutations.forEach(l=>{const u=e.get(l.key),m=u.overlayedDocument;let A=this.applyToLocalView(m,u.mutatedFields);A=n.has(l.key)?null:A;const L=fd(m,A);null!==L&&s.set(l.key,L),m.isValidDocument()||m.convertToNoDocument(jn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),jr())}isEqual(e){return this.batchId===e.batchId&&Wi(this.mutations,e.mutations,(n,s)=>pd(n,s))&&Wi(this.baseMutations,e.baseMutations,(n,s)=>pd(n,s))}}class d{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){tr(e.mutations.length===s.length);let l=mv;const u=e.mutations;for(let m=0;m<u.length;m++)l=l.insert(u[m].key,s[m].version);return new d(e,n,s,l)}}class p{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class H{constructor(e,n){this.count=e,this.unchangedNames=n}}var Q,Le;function vt(i){switch(i){default:return hn();case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0}}function nn(i){if(void 0===i)return Yi("GRPC error has no .code"),St.UNKNOWN;switch(i){case Q.OK:return St.OK;case Q.CANCELLED:return St.CANCELLED;case Q.UNKNOWN:return St.UNKNOWN;case Q.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case Q.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case Q.INTERNAL:return St.INTERNAL;case Q.UNAVAILABLE:return St.UNAVAILABLE;case Q.UNAUTHENTICATED:return St.UNAUTHENTICATED;case Q.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case Q.NOT_FOUND:return St.NOT_FOUND;case Q.ALREADY_EXISTS:return St.ALREADY_EXISTS;case Q.PERMISSION_DENIED:return St.PERMISSION_DENIED;case Q.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case Q.ABORTED:return St.ABORTED;case Q.OUT_OF_RANGE:return St.OUT_OF_RANGE;case Q.UNIMPLEMENTED:return St.UNIMPLEMENTED;case Q.DATA_LOSS:return St.DATA_LOSS;default:return hn()}}(Le=Q||(Q={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";class pn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ln}static getOrCreateInstance(){return null===Ln&&(Ln=new pn),Ln}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ln=null;function Kn(){return new TextEncoder}const fs=new Aa([4294967295,4294967295],0);function ra(i){const e=Kn().encode(i),n=new il;return n.update(e),new Uint8Array(n.digest())}function qc(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Aa([n,s],0),new Aa([l,u],0)]}class _l{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wa(`Invalid padding: ${n}`);if(s<0)throw new Wa(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Wa(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Wa(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Aa.fromNumber(this.It)}Et(e,n,s){let l=e.add(n.multiply(Aa.fromNumber(s)));return 1===l.compare(fs)&&(l=new Aa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=ra(e),[s,l]=qc(n);for(let u=0;u<this.hashCount;u++){const m=this.Et(s,l,u);if(!this.At(m))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new _l(u,l,n);return s.forEach(A=>m.insert(A)),m}insert(e){if(0===this.It)return;const n=ra(e),[s,l]=qc(n);for(let u=0;u<this.hashCount;u++){const m=this.Et(s,l,u);this.Rt(m)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vc{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vc(jn.min(),l,new Fi(_r),na(),jr())}}class Ul{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ul(s,n,jr(),jr(),jr())}}class El{constructor(e,n,s,l){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=l}}class gh{constructor(e,n){this.targetId=e,this.Vt=n}}class mh{constructor(e,n,s=ds.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class md{constructor(){this.St=0,this.Dt=vd(),this.Ct=ds.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=jr(),n=jr(),s=jr();return this.Dt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:hn()}}),new Ul(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=vd()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=na(),this.zt=yf(),this.Wt=new Fi(_r)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:hn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,l)=>{this.te(l)&&n(l)})}ne(e){var n;const s=e.targetId,l=e.Vt.count,u=this.se(s);if(u){const m=u.target;if(pl(m))if(0===l){const A=new Dn(m.path);this.Yt(s,A,Ar.newNoDocument(A,jn.min()))}else tr(1===l);else{const A=this.ie(s);if(A!==l){const L=this.re(e,A);0!==L&&(this.ee(s),this.Wt=this.Wt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=pn.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(z,re,Ue){var It,Ft,fn,Nn,Vn,Hr;const wi={localCacheCount:re,existenceFilterCount:Ue.count},zr=Ue.unchangedNames;return zr&&(wi.bloomFilter={applied:0===z,hashCount:null!==(It=null==zr?void 0:zr.hashCount)&&void 0!==It?It:0,bitmapLength:null!==(Nn=null===(fn=null===(Ft=null==zr?void 0:zr.bits)||void 0===Ft?void 0:Ft.bitmap)||void 0===fn?void 0:fn.length)&&void 0!==Nn?Nn:0,padding:null!==(Hr=null===(Vn=null==zr?void 0:zr.bits)||void 0===Vn?void 0:Vn.padding)&&void 0!==Hr?Hr:0}),wi}(L,A,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:l}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:u="",padding:m=0},hashCount:A=0}=s;let L,z;try{L=go(u).toUint8Array()}catch(re){if(re instanceof Nl)return Os("Decoding the base64 bloom filter in existence filter failed ("+re.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw re}try{z=new _l(L,m,A)}catch(re){return Os(re instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",re),1}return 0===z.It?1:l!==n-this.oe(e.targetId,z)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let l=0;return s.forEach(u=>{const m=this.Gt.ue(),A=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;n.vt(A)||(this.Yt(e,u,null),l++)}),l}ce(e){const n=new Map;this.Qt.forEach((u,m)=>{const A=this.se(m);if(A){if(u.current&&pl(A.target)){const L=new Dn(A.target.path);null!==this.jt.get(L)||this.ae(m,L)||this.Yt(m,L,Ar.newNoDocument(L,e))}u.Mt&&(n.set(m,u.Ot()),u.Ft())}});let s=jr();this.zt.forEach((u,m)=>{let A=!0;m.forEachWhile(L=>{const z=this.se(L);return!z||"TargetPurposeLimboResolution"===z.purpose||(A=!1,!1)}),A&&(s=s.add(u))}),this.jt.forEach((u,m)=>m.setReadTime(e));const l=new vc(e,n,this.Wt,this.jt,s);return this.jt=na(),this.zt=yf(),this.Wt=new Fi(_r),l}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,n)?l.Bt(n,1):l.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new md,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pi(_r),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||on("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new md),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function yf(){return new Fi(Dn.comparator)}function vd(){return new Fi(Dn.comparator)}const _f={asc:"ASCENDING",desc:"DESCENDING"},Ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lg={and:"AND",or:"OR"};class cg{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(i,e){return i.useProto3Json||io(e)?e:{value:e}}function yd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function If(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function yv(i,e){return yd(i,e.toTimestamp())}function os(i){return tr(!!i),jn.fromTimestamp(function(e){const n=Ra(e);return new Si(n.seconds,n.nanos)}(i))}function Df(i,e){return(n=i,new qr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dg(i){const e=qr.fromString(i);return tr(Mf(e)),e}function vh(i,e){return Df(i.databaseId,e.path)}function yc(i,e){const n=dg(e);if(n.get(1)!==i.databaseId.projectId)throw new Yt(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Yt(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Dn(hg(n))}function _d(i,e){return Df(i.databaseId,e)}function _v(i){const e=dg(i);return 4===e.length?qr.emptyPath():hg(e)}function Ed(i){return new qr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hg(i){return tr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function fg(i,e,n){return{name:vh(i,e),fields:n.value.mapValue.fields}}function bf(i,e,n){const s=yc(i,e.name),l=os(e.updateTime),u=e.createTime?os(e.createTime):jn.min(),m=new li({mapValue:{fields:e.fields}}),A=Ar.newFoundDocument(s,l,u,m);return n&&A.setHasCommittedMutations(),n?A.setHasCommittedMutations():A}function _c(i,e){let n;if(e instanceof yl)n={update:fg(i,e.key,e.value)};else if(e instanceof Wc)n={delete:vh(i,e.key)};else if(e instanceof hs)n={update:fg(i,e.key,e.data),updateMask:Af(e.fieldMask)};else{if(!(e instanceof gd))return hn();n={verify:vh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const m=u.transform;if(m instanceof fc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ga)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zc)return{fieldPath:u.field.canonicalString(),increment:m.gt};throw hn()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:yv(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:hn()),n;var l}function Cf(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?ss.updateTime(os(l.updateTime)):void 0!==l.exists?ss.exists(l.exists):ss.none():ss.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(u,m){let A=null;"setToServerValue"in m?(tr("REQUEST_TIME"===m.setToServerValue),A=new fc):"appendMissingElements"in m?A=new za(m.appendMissingElements.values||[]):"removeAllFromArray"in m?A=new Ga(m.removeAllFromArray.values||[]):"increment"in m?A=new zc(u,m.increment):hn();const L=Zi.fromServerFormat(m.fieldPath);return new Gc(L,A)}(i,l)):[];var l;if(e.update){const l=yc(i,e.update.name),u=new li({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new to((e.updateMask.fieldPaths||[]).map(z=>Zi.fromServerFormat(z)));return new hs(l,u,m,n,s)}return new yl(l,u,n,s)}if(e.delete){const l=yc(i,e.delete);return new Wc(l,n)}if(e.verify){const l=yc(i,e.verify);return new gd(l,n)}return hn()}function yh(i,e){return{documents:[_d(i,e.path)]}}function Tf(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=_d(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_d(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(L){if(0!==L.length)return gg(gi.create(L,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(L){if(0!==L.length)return L.map(z=>{return{field:Kc((re=z).field),direction:Dv(re.dir)};var re})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=ug(i,e.limit);var A,L;return null!==m&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(n.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),n}function Sf(i){let e=_v(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){tr(1===s);const re=n.from[0];re.allDescendants?l=re.collectionId:e=e.child(re.collectionId)}let u=[];n.where&&(u=function(re){const Ue=Iv(re);return Ue instanceof gi&&ad(Ue)?Ue.getFilters():[Ue]}(n.where));let m=[];n.orderBy&&(m=n.orderBy.map(re=>{return new Ys(xu((Ue=re).field),function(It){switch(It){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ue.direction));var Ue}));let A=null;n.limit&&(A=function(re){let Ue;return Ue="object"==typeof re?re.value:re,io(Ue)?null:Ue}(n.limit));let L=null;var re;n.startAt&&(L=new Ao((re=n.startAt).values||[],!!re.before));let z=null;return n.endAt&&(z=function(re){return new Ao(re.values||[],!re.before)}(n.endAt)),ah(e,l,m,u,A,"F",L,z)}function Iv(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=xu(e.unaryFilter.field);return ei.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=xu(e.unaryFilter.field);return ei.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xu(e.unaryFilter.field);return ei.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xu(e.unaryFilter.field);return ei.create(u,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}(i):void 0!==i.fieldFilter?ei.create(xu((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return gi.create(e.compositeFilter.filters.map(n=>Iv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return hn()}}(e.compositeFilter.op))}(i):hn();var e}function Dv(i){return _f[i]}function w_(i){return Ef[i]}function C_(i){return lg[i]}function Kc(i){return{fieldPath:i.canonicalString()}}function xu(i){return Zi.fromServerFormat(i.fieldPath)}function gg(i){return i instanceof ei?function(e){if("=="===e.op){if(pt(e.value))return{unaryFilter:{field:Kc(e.field),op:"IS_NAN"}};if(et(e.value))return{unaryFilter:{field:Kc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pt(e.value))return{unaryFilter:{field:Kc(e.field),op:"IS_NOT_NAN"}};if(et(e.value))return{unaryFilter:{field:Kc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(e.field),op:w_(e.op),value:e.value}}}(i):i instanceof gi?function(e){const n=e.getFilters().map(s=>gg(s));return 1===n.length?n[0]:{compositeFilter:{op:C_(e.op),filters:n}}}(i):hn()}function Af(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ba{constructor(e,n,s,l,u=jn.min(),m=jn.min(),A=ds.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=A,this.expectedCount=L}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bv{constructor(e){this.fe=e}}function S_(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:vh(l=i.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:yd(l,u.version.toTimestamp()),createTime:yd(l,u.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Ec(e.version)};else{if(!e.isUnknownDocument())return hn();s.unknownDocument={path:n.path.toArray(),version:Ec(e.version)}}var l,u;return s}function xf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ec(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(i){const e=new Si(i.seconds,i.nanoseconds);return jn.fromTimestamp(e)}function qa(i,e){const n=(e.baseMutations||[]).map(u=>Cf(i.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const s=e.mutations.map(u=>Cf(i.fe,u)),l=Si.fromMillis(e.localWriteTimeMs);return new _(e.batchId,l,n,s)}function Yc(i){const e=Ru(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ru(i.lastLimboFreeSnapshotVersion):jn.min();let s;var l;return void 0!==i.query.documents?(tr(1===(l=i.query).documents.length),s=Mo(Bc(_v(l.documents[0])))):s=Mo(Sf(i.query)),new ba(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,ds.fromBase64String(i.resumeToken))}function Rf(i,e){const n=Ec(e.snapshotVersion),s=Ec(e.lastLimboFreeSnapshotVersion);let l;l=pl(e.target)?yh(i.fe,e.target):Tf(i.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ja(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Of(i){const e=Sf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Tu(e,e.limit,"L"):e}function Pf(i,e){return new p(e.largestBatchId,Cf(i.fe,e.overlayMutation))}function mg(i,e){const n=e.path.lastSegment();return[i,As(e.path.popLast()),n]}function Zc(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Ec(s.readTime),documentKey:As(s.documentKey.path),largestBatchId:s.largestBatchId}}class A_{getBundleMetadata(e,n){return wv(e).get(n).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Ru(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return wv(e).put({bundleId:(s=n).id,createTime:Ec(os(s.createTime)),version:s.version});var s}getNamedQuery(e,n){return Cv(e).get(n).next(s=>{if(s)return{name:(l=s).name,query:Of(l.bundledQuery),readTime:Ru(l.readTime)};var l})}saveNamedQuery(e,n){return Cv(e).put({name:(s=n).name,readTime:Ec(os(s.readTime)),bundledQuery:s.bundledQuery});var s}}function wv(i){return ks(i,"bundles")}function Cv(i){return ks(i,"namedQueries")}class Nf{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new Nf(e,n.uid||"")}getOverlay(e,n){return Eh(e).get(mg(this.userId,n)).next(s=>s?Pf(this.serializer,s):null)}getOverlays(e,n){const s=Ha();return pe.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((u,m)=>{const A=new p(n,m);l.push(this.we(e,A))}),pe.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(m=>l.add(As(m.getCollectionPath())));const u=[];return l.forEach(m=>{const A=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);u.push(Eh(e).J("collectionPathOverlayIndex",A))}),pe.waitFor(u)}getOverlaysForCollection(e,n,s){const l=Ha(),u=As(n),m=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Eh(e).j("collectionPathOverlayIndex",m).next(A=>{for(const L of A){const z=Pf(this.serializer,L);l.set(z.getKey(),z)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const u=Ha();let m;const A=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Eh(e).X({index:"collectionGroupOverlayIndex",range:A},(L,z,re)=>{const Ue=Pf(this.serializer,z);u.size()<l||Ue.largestBatchId===m?(u.set(Ue.getKey(),Ue),m=Ue.largestBatchId):re.done()}).next(()=>u)}we(e,n){return Eh(e).put(function(s,l,u){const[m,A,L]=mg(l,u.mutation.key);return{userId:l,collectionPath:A,documentId:L,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:_c(s.fe,u.mutation)}}(this.serializer,this.userId,n))}}function Eh(i){return ks(i,"documentOverlays")}class ia{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ji(e.integerValue));else if("doubleValue"in e){const s=Ji(e.doubleValue);isNaN(s)?this.ye(n,13):(this.ye(n,15),Pl(s)?n.pe(0):n.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(n,20),"string"==typeof s?n.Ie(s):(n.Ie(`${s.seconds||""}`),n.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(go(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(n,45),n.pe(s.latitude||0),n.pe(s.longitude||0)}else"mapValue"in e?wn(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):hn()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const s=e.fields||{};this.ye(n,55);for(const l of Object.keys(s))this.Te(l,n),this.me(s[l],n)}Pe(e,n){const s=e.values||[];this.ye(n,50);for(const l of s)this.me(l,n)}ve(e,n){this.ye(n,37),Dn.fromName(e).path.forEach(s=>{this.ye(n,60),this.be(s,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function Id(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Tv(i){const e=64-function(n){let s=0;for(let l=0;l<8;++l){const u=Id(255&n[l]);if(s+=u,8!==u)break}return s}(i);return Math.ceil(e/8)}ia.Ve=new ia;class M_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.De(s.value),s=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ne(s.value),s=n.next();this.ke()}Me(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const l=n.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const l=n.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const n=this.Fe(e),s=Tv(n);this.Be(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Le(e){const n=this.Fe(e),s=Tv(n);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class x_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class R_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Ih{constructor(){this.je=new M_,this.ze=new x_(this.je),this.We=new R_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ou{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ou(this.indexId,this.documentKey,this.arrayValue,s)}}function Ic(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Sv(i.arrayValue,e.arrayValue),0!==n?n:(n=Sv(i.directionalValue,e.directionalValue),0!==n?n:Dn.comparator(i.documentKey,e.documentKey)))}function Sv(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class O_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const s=n;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){tr(e.collectionGroup===this.collectionId);const n=Js(e);if(void 0!==n&&!this.en(n))return!1;const s=ma(e);let l=new Set,u=0,m=0;for(;u<s.length&&this.en(s[u]);++u)l=l.add(s[u].fieldPath.canonicalString());if(u===s.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const A=s[u];if(!this.nn(this.Ze,A)||!this.sn(this.Ye[m++],A))return!1}++u}for(;u<s.length;++u)if(m>=this.Ye.length||!this.sn(this.Ye[m++],s[u]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Av(i){var e,n;if(tr(i instanceof ei||i instanceof gi),i instanceof ei){if(i instanceof uf){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>ei.create(i.field,"==",u)))||[];return gi.create(l,"or")}return i}const s=i.filters.map(l=>Av(l));return gi.create(s,i.op)}function P_(i){if(0===i.getFilters().length)return[];const e=kf(Av(i));return tr(bd(e)),Dd(e)||Il(e)?[e]:e.getFilters()}function Dd(i){return i instanceof ei}function Il(i){return i instanceof gi&&ad(i)}function bd(i){return Dd(i)||Il(i)||function(e){if(e instanceof gi&&Eu(e)){for(const n of e.getFilters())if(!Dd(n)&&!Il(n))return!1;return!0}return!1}(i)}function kf(i){if(tr(i instanceof ei||i instanceof gi),i instanceof ei)return i;if(1===i.filters.length)return kf(i.filters[0]);const e=i.filters.map(s=>kf(s));let n=gi.create(e,i.op);return n=yg(n),bd(n)?n:(tr(n instanceof gi),tr(lc(n)),tr(n.filters.length>1),n.filters.reduce((s,l)=>Ff(s,l)))}function Ff(i,e){let n;return tr(i instanceof ei||i instanceof gi),tr(e instanceof ei||e instanceof gi),n=i instanceof ei?e instanceof ei?gi.create([i,e],"and"):vg(i,e):e instanceof ei?vg(e,i):function(s,l){if(tr(s.filters.length>0&&l.filters.length>0),lc(s)&&lc(l))return cc(s,l.getFilters());const u=Eu(s)?s:l,m=Eu(s)?l:s,A=u.filters.map(L=>Ff(L,m));return gi.create(A,"or")}(i,e),yg(n)}function vg(i,e){if(lc(e))return cc(e,i.getFilters());{const n=e.filters.map(s=>Ff(i,s));return gi.create(n,"or")}}function yg(i){if(tr(i instanceof ei||i instanceof gi),i instanceof ei)return i;const e=i.getFilters();if(1===e.length)return yg(e[0]);if(af(i))return i;const n=e.map(l=>yg(l)),s=[];return n.forEach(l=>{l instanceof ei?s.push(l):l instanceof gi&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:gi.create(s,i.op)}class TE{constructor(){this.rn=new Mv}addToCollectionParentIndex(e,n){return this.rn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(b.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(b.min())}updateCollectionGroup(e,n,s){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class Mv{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Pi(qr.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Pi(qr.comparator)).toArray()}}const wd=new Uint8Array(0);class _g{constructor(e,n){this.user=e,this.databaseId=n,this.on=new Mv,this.un=new $l(s=>ja(s),(s,l)=>bu(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const u={collectionId:s,parent:As(l)};return N_(e).put(u)}return pe.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[nc(n),""],!1,!0);return N_(e).j(l).next(u=>{for(const m of u){if(m.collectionId!==n)break;s.push(Ns(m.parent))}return s})}addFieldIndex(e,n){const s=Dh(e),l={indexId:(m=n).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var m;delete l.indexId;const u=s.add(l);if(n.indexState){const m=bh(e);return u.next(A=>{m.put(Zc(A,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const s=Dh(e),l=bh(e),u=Lf(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const s=Lf(e);let l=!0;const u=new Map;return pe.forEach(this.cn(n),m=>this.an(e,m).next(A=>{l&&(l=!!A),u.set(m,A)})).next(()=>{if(l){let m=jr();const A=[];return pe.forEach(u,(L,z)=>{var re;on("IndexedDbIndexManager",`Using index ${re=L,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(zr=>`${zr.fieldPath}:${zr.kind}`).join(",")}`} to execute ${ja(n)}`);const Ue=function(zr,Ls){const ps=Js(Ls);if(void 0===ps)return null;for(const as of ud(zr,ps.fieldPath))switch(as.op){case"array-contains-any":return as.value.arrayValue.values||[];case"array-contains":return[as.value]}return null}(z,L),It=function(zr,Ls){const ps=new Map;for(const as of ma(Ls))for(const qo of ud(zr,as.fieldPath))switch(qo.op){case"==":case"in":ps.set(as.fieldPath.canonicalString(),qo.value);break;case"not-in":case"!=":return ps.set(as.fieldPath.canonicalString(),qo.value),Array.from(ps.values())}return null}(z,L),Ft=function(zr,Ls){const ps=[];let as=!0;for(const qo of ma(Ls)){const td=0===qo.kind?oh(zr,qo.fieldPath,zr.startAt):$c(zr,qo.fieldPath,zr.startAt);ps.push(td.value),as&&(as=td.inclusive)}return new Ao(ps,as)}(z,L),fn=function(zr,Ls){const ps=[];let as=!0;for(const qo of ma(Ls)){const td=0===qo.kind?$c(zr,qo.fieldPath,zr.endAt):oh(zr,qo.fieldPath,zr.endAt);ps.push(td.value),as&&(as=td.inclusive)}return new Ao(ps,as)}(z,L),Nn=this.hn(L,z,Ft),Vn=this.hn(L,z,fn),Hr=this.ln(L,z,It),wi=this.fn(L.indexId,Ue,Nn,Ft.inclusive,Vn,fn.inclusive,Hr);return pe.forEach(wi,zr=>s.H(zr,n.limit).next(Ls=>{Ls.forEach(ps=>{const as=Dn.fromSegments(ps.documentKey);m.has(as)||(m=m.add(as),A.push(as))})}))}).next(()=>A)}return pe.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:P_(gi.create(e.filters,"and")).map(s=>Du(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,s,l,u,m,A){const L=(null!=n?n.length:1)*Math.max(s.length,u.length),z=L/(null!=n?n.length:1),re=[];for(let Ue=0;Ue<L;++Ue){const It=n?this.dn(n[Ue/z]):wd,Ft=this.wn(e,It,s[Ue%z],l),fn=this._n(e,It,u[Ue%z],m),Nn=A.map(Vn=>this.wn(e,It,Vn,!0));re.push(...this.createRange(Ft,fn,Nn))}return re}wn(e,n,s,l){const u=new Ou(e,Dn.empty(),n,s);return l?u:u.Je()}_n(e,n,s,l){const u=new Ou(e,Dn.empty(),n,s);return l?u.Je():u}an(e,n){const s=new O_(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let m=null;for(const A of u)s.tn(A)&&(!m||A.fields.length>m.fields.length)&&(m=A);return m})}getIndexType(e,n){let s=2;const l=this.cn(n);return pe.forEach(l,u=>this.an(e,u).next(m=>{m?0!==s&&m.fields.length<function(A){let L=new Pi(Zi.comparator),z=!1;for(const re of A.filters)for(const Ue of re.getFlattenedFilters())Ue.field.isKeyField()||("array-contains"===Ue.op||"array-contains-any"===Ue.op?z=!0:L=L.add(Ue.field));for(const re of A.orderBy)re.field.isKeyField()||(L=L.add(re.field));return L.size+(z?1:0)}(u)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}mn(e,n){const s=new Ih;for(const l of ma(e)){const u=n.data.field(l.fieldPath);if(null==u)return null;const m=s.He(l.kind);ia.Ve._e(u,m)}return s.Qe()}dn(e){const n=new Ih;return ia.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const s=new Ih;return ia.Ve._e(R(this.databaseId,n),s.He(function(l){const u=ma(l);return 0===u.length?0:u[u.length-1].kind}(e))),s.Qe()}ln(e,n,s){if(null===s)return[];let l=[];l.push(new Ih);let u=0;for(const m of ma(e)){const A=s[u++];for(const L of l)if(this.yn(n,m.fieldPath)&&we(A))l=this.pn(l,m,A);else{const z=L.He(m.kind);ia.Ve._e(A,z)}}return this.In(l)}hn(e,n,s){return this.ln(e,n,s.position)}In(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Qe();return n}pn(e,n,s){const l=[...e],u=[];for(const m of s.arrayValue.values||[])for(const A of l){const L=new Ih;L.seed(A.Qe()),ia.Ve._e(m,L.He(n.kind)),u.push(L)}return u}yn(e,n){return!!e.filters.find(s=>s instanceof ei&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Dh(e),l=bh(e);return(n?s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.j()).next(u=>{const m=[];return pe.forEach(u,A=>l.get([A.indexId,this.uid]).next(L=>{m.push(function(z,re){const Ue=re?new D(re.sequenceNumber,new b(Ru(re.readTime),new Dn(Ns(re.documentKey)),re.largestBatchId)):D.empty(),It=z.fields.map(([Ft,fn])=>new No(Zi.fromServerFormat(Ft),fn));return new Ps(z.indexId,z.collectionGroup,It,Ue)}(A,L))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const u=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:_r(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Dh(e),u=bh(e);return this.Tn(e).next(m=>l.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(A=>pe.forEach(A,L=>u.put(Zc(L.indexId,this.user,m,s)))))}updateIndexEntries(e,n){const s=new Map;return pe.forEach(n,(l,u)=>{const m=s.get(l.collectionGroup);return(m?pe.resolve(m):this.getFieldIndexes(e,l.collectionGroup)).next(A=>(s.set(l.collectionGroup,A),pe.forEach(A,L=>this.En(e,l,L).next(z=>{const re=this.An(u,L);return z.isEqual(re)?pe.resolve():this.vn(e,u,L,z,re)}))))})}Rn(e,n,s,l){return Lf(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(s,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,s,l){return Lf(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(s,n.key),n.key.path.toArray()])}En(e,n,s){const l=Lf(e);let u=new Pi(Ic);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,n)])},(m,A)=>{u=u.add(new Ou(s.indexId,n,A.arrayValue,A.directionalValue))}).next(()=>u)}An(e,n){let s=new Pi(Ic);const l=this.mn(n,e);if(null==l)return s;const u=Js(n);if(null!=u){const m=e.data.field(u.fieldPath);if(we(m))for(const A of m.arrayValue.values||[])s=s.add(new Ou(n.indexId,e.key,this.dn(A),l))}else s=s.add(new Ou(n.indexId,e.key,wd,l));return s}vn(e,n,s,l,u){on("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const m=[];return function(A,L,z,re,Ue){const It=A.getIterator(),Ft=L.getIterator();let fn=_a(It),Nn=_a(Ft);for(;fn||Nn;){let Vn=!1,Hr=!1;if(fn&&Nn){const wi=z(fn,Nn);wi<0?Hr=!0:wi>0&&(Vn=!0)}else null!=fn?Hr=!0:Vn=!0;Vn?(re(Nn),Nn=_a(Ft)):Hr?(Ue(fn),fn=_a(It)):(fn=_a(It),Nn=_a(Ft))}}(l,u,Ic,A=>{m.push(this.Rn(e,n,s,A))},A=>{m.push(this.Pn(e,n,s,A))}),pe.waitFor(m)}Tn(e){let n=1;return bh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,u)=>{u.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((m,A)=>Ic(m,A)).filter((m,A,L)=>!A||0!==Ic(m,L[A-1]));const l=[];l.push(e);for(const m of s){const A=Ic(m,e),L=Ic(m,n);if(0===A)l[0]=e.Je();else if(A>0&&L<0)l.push(m),l.push(m.Je());else if(L>0)break}l.push(n);const u=[];for(let m=0;m<l.length;m+=2){if(this.bn(l[m],l[m+1]))return[];u.push(IDBKeyRange.bound([l[m].indexId,this.uid,l[m].arrayValue,l[m].directionalValue,wd,[]],[l[m+1].indexId,this.uid,l[m+1].arrayValue,l[m+1].directionalValue,wd,[]]))}return u}bn(e,n){return Ic(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(xv)}getMinOffset(e,n){return pe.mapArray(this.cn(n),s=>this.an(e,s).next(l=>l||hn())).next(xv)}}function N_(i){return ks(i,"collectionParents")}function Lf(i){return ks(i,"indexEntries")}function Dh(i){return ks(i,"indexConfiguration")}function bh(i){return ks(i,"indexState")}function xv(i){tr(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;N(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new b(e.readTime,e.documentKey,n)}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Go{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Eg(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),u=[],m=IDBKeyRange.only(n.batchId);let A=0;const L=s.X({range:m},(re,Ue,It)=>(A++,It.delete()));u.push(L.next(()=>{tr(1===A)}));const z=[];for(const re of n.mutations){const Ue=rc(e,re.key.path,n.batchId);u.push(l.delete(Ue)),z.push(re.key)}return pe.waitFor(u).next(()=>z)}function Pu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw hn();e=i.noDocument}return JSON.stringify(e).length}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class wh{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Vn={}}static de(e,n,s,l){tr(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new wh(u,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xc(e).X({index:"userMutationsIndex",range:s},(l,u,m)=>{n=!1,m.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const u=Ka(e),m=Xc(e);return m.add({}).next(A=>{tr("number"==typeof A);const L=new _(A,n,s,l),z=function(It,Ft,fn){const Nn=fn.baseMutations.map(Hr=>_c(It.fe,Hr)),Vn=fn.mutations.map(Hr=>_c(It.fe,Hr));return{userId:Ft,batchId:fn.batchId,localWriteTimeMs:fn.localWriteTime.toMillis(),baseMutations:Nn,mutations:Vn}}(this.serializer,this.userId,L),re=[];let Ue=new Pi((It,Ft)=>_r(It.canonicalString(),Ft.canonicalString()));for(const It of l){const Ft=rc(this.userId,It.key.path,A);Ue=Ue.add(It.key.path.popLast()),re.push(m.put(z)),re.push(u.put(Ft,ic))}return Ue.forEach(It=>{re.push(this.indexManager.addToCollectionParentIndex(e,It))}),e.addOnCommittedListener(()=>{this.Vn[A]=L.keys()}),pe.waitFor(re).next(()=>L)})}lookupMutationBatch(e,n){return Xc(e).get(n).next(s=>s?(tr(s.userId===this.userId),qa(this.serializer,s)):null)}Sn(e,n){return this.Vn[n]?pe.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Vn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Xc(e).X({index:"userMutationsIndex",range:l},(m,A,L)=>{A.userId===this.userId&&(tr(A.batchId>=s),u=qa(this.serializer,A)),L.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Xc(e).X({index:"userMutationsIndex",range:n,reverse:!0},(l,u,m)=>{s=u.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xc(e).j("userMutationsIndex",n).next(s=>s.map(l=>qa(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=$a(this.userId,n.path),l=IDBKeyRange.lowerBound(s),u=[];return Ka(e).X({range:l},(m,A,L)=>{const[z,re,Ue]=m,It=Ns(re);if(z===this.userId&&n.path.isEqual(It))return Xc(e).get(Ue).next(Ft=>{if(!Ft)throw hn();tr(Ft.userId===this.userId),u.push(qa(this.serializer,Ft))});L.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pi(_r);const l=[];return n.forEach(u=>{const m=$a(this.userId,u.path),A=IDBKeyRange.lowerBound(m),L=Ka(e).X({range:A},(z,re,Ue)=>{const[It,Ft,fn]=z,Nn=Ns(Ft);It===this.userId&&u.path.isEqual(Nn)?s=s.add(fn):Ue.done()});l.push(L)}),pe.waitFor(l).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,u=$a(this.userId,s),m=IDBKeyRange.lowerBound(u);let A=new Pi(_r);return Ka(e).X({range:m},(L,z,re)=>{const[Ue,It,Ft]=L,fn=Ns(It);Ue===this.userId&&s.isPrefixOf(fn)?fn.length===l&&(A=A.add(Ft)):re.done()}).next(()=>this.Dn(e,A))}Dn(e,n){const s=[],l=[];return n.forEach(u=>{l.push(Xc(e).get(u).next(m=>{if(null===m)throw hn();tr(m.userId===this.userId),s.push(qa(this.serializer,m))}))}),pe.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return Eg(e.ht,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),pe.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return pe.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Ka(e).X({range:s},(u,m,A)=>{if(u[0]===this.userId){const L=Ns(u[1]);l.push(L)}else A.done()}).next(()=>{tr(0===l.length)})})}containsKey(e,n){return $f(e,this.userId,n)}xn(e){return Ov(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $f(i,e,n){const s=$a(e,n.path),l=s[1],u=IDBKeyRange.lowerBound(s);let m=!1;return Ka(i).X({range:u,Y:!0},(A,L,z)=>{const[re,Ue,It]=A;re===e&&Ue===l&&(m=!0),z.done()}).next(()=>m)}function Xc(i){return ks(i,"mutations")}function Ka(i){return ks(i,"documentMutations")}function Ov(i){return ks(i,"mutationQueues")}class Nu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Nu(0)}static Mn(){return new Nu(-1)}}class Pv{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const s=new Nu(n.highestTargetId);return n.highestTargetId=s.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>jn.fromTimestamp(new Si(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.$n(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.On(e,l)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(n,s),this.On(e,s))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ku(e).delete(n.targetId)).next(()=>this.$n(e)).next(s=>(tr(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,n,s){let l=0;const u=[];return ku(e).X((m,A)=>{const L=Yc(A);L.sequenceNumber<=n&&null===s.get(L.targetId)&&(l++,u.push(this.removeTargetData(e,L)))}).next(()=>pe.waitFor(u)).next(()=>l)}forEachTarget(e,n){return ku(e).X((s,l)=>{const u=Yc(l);n(u)})}$n(e){return Nv(e).get("targetGlobalKey").next(n=>(tr(null!==n),n))}On(e,n){return Nv(e).put("targetGlobalKey",n)}Fn(e,n){return ku(e).put(Rf(this.serializer,n))}Bn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const s=ja(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return ku(e).X({range:l,index:"queryTargetsIndex"},(m,A,L)=>{const z=Yc(A);bu(n,z.target)&&(u=z,L.done())}).next(()=>u)}addMatchingKeys(e,n,s){const l=[],u=Qc(e);return n.forEach(m=>{const A=As(m.path);l.push(u.put({targetId:s,path:A})),l.push(this.referenceDelegate.addReference(e,s,m))}),pe.waitFor(l)}removeMatchingKeys(e,n,s){const l=Qc(e);return pe.forEach(n,u=>{const m=As(u.path);return pe.waitFor([l.delete([s,m]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,n){const s=Qc(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=Qc(e);let u=jr();return l.X({range:s,Y:!0},(m,A,L)=>{const z=Ns(m[1]),re=new Dn(z);u=u.add(re)}).next(()=>u)}containsKey(e,n){const s=As(n.path),l=IDBKeyRange.bound([s],[nc(s)],!1,!0);let u=0;return Qc(e).X({index:"documentTargetsIndex",Y:!0,range:l},([m,A],L,z)=>{0!==m&&(u++,z.done())}).next(()=>u>0)}le(e,n){return ku(e).get(n).next(s=>s?Yc(s):null)}}function ku(i){return ks(i,"targets")}function Nv(i){return ks(i,"targetGlobal")}function Qc(i){return ks(i,"targetDocuments")}function kv([i,e],[n,s]){const l=_r(i,n);return 0===l?_r(e,s):l}class k_{constructor(e){this.Ln=e,this.buffer=new Pi(kv),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ig{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;on("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Nr(s)?on("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield at(s)}yield n.Qn(3e5)}))}}class SE{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return pe.resolve(Qi.ct);const s=new k_(n);return this.jn.forEachTarget(e,l=>s.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>s.Kn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(on("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Rv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(on("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let s,l,u,m,A,L,z;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(on("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),l=this.params.maximumSequenceNumbersToCollect):l=Ue,m=Date.now(),this.nthSequenceNumber(e,l))).next(Ue=>(s=Ue,A=Date.now(),this.removeTargets(e,s,n))).next(Ue=>(u=Ue,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ue=>(z=Date.now(),Tc()<=He.in.DEBUG&&on("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-re}ms\n\tDetermined least recently used ${l} in `+(A-m)+`ms\n\tRemoved ${u} targets in `+(L-A)+`ms\n\tRemoved ${Ue} documents in `+(z-L)+`ms\nTotal Duration: ${z-re}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:Ue})))}}class Ch{constructor(e,n){this.db=e,this.garbageCollector=function F_(i,e){return new SE(i,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Jn(e){let n=0;return this.Wn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(s,l)=>n(l))}addReference(e,n,s){return Ai(e,s)}removeReference(e,n,s){return Ai(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Ai(e,n)}Xn(e,n){return function(s,l){let u=!1;return Ov(s).Z(m=>$f(s,m,l).next(A=>(A&&(u=!0),pe.resolve(!A)))).next(()=>u)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Yn(e,(m,A)=>{if(A<=n){const L=this.Xn(e,m).next(z=>{if(!z)return u++,s.getEntry(e,m).next(()=>(s.removeEntry(m,jn.min()),Qc(e).delete([0,As(m.path)])))});l.push(L)}}).next(()=>pe.waitFor(l)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Ai(e,n)}Yn(e,n){const s=Qc(e);let l,u=Qi.ct;return s.X({index:"documentTargetsIndex"},([m,A],{path:L,sequenceNumber:z})=>{0===m?(u!==Qi.ct&&n(new Dn(Ns(l)),u),u=z,l=L):u=Qi.ct}).next(()=>{u!==Qi.ct&&n(new Dn(Ns(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ai(i,e){return Qc(i).put((s=i.currentSequenceNumber,{targetId:0,path:As(e.path),sequenceNumber:s}));var s}class Cd{constructor(){this.changes=new $l(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?pe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return Fu(e).put(s)}removeEntry(e,n,s){return Fu(e).delete(function(l,u){const m=l.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],xf(u),m[m.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.Zn(e,s)))}getEntry(e,n){let s=Ar.newInvalidDocument(n);return Fu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Td(n))},(l,u)=>{s=this.ts(n,u)}).next(()=>s)}es(e,n){let s={size:0,document:Ar.newInvalidDocument(n)};return Fu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Td(n))},(l,u)=>{s={document:this.ts(n,u),size:Pu(u)}}).next(()=>s)}getEntries(e,n){let s=na();return this.ns(e,n,(l,u)=>{const m=this.ts(l,u);s=s.insert(l,m)}).next(()=>s)}ss(e,n){let s=na(),l=new Fi(Dn.comparator);return this.ns(e,n,(u,m)=>{const A=this.ts(u,m);s=s.insert(u,A),l=l.insert(u,Pu(m))}).next(()=>({documents:s,rs:l}))}ns(e,n,s){if(n.isEmpty())return pe.resolve();let l=new Pi(Th);n.forEach(L=>l=l.add(L));const u=IDBKeyRange.bound(Td(l.first()),Td(l.last())),m=l.getIterator();let A=m.getNext();return Fu(e).X({index:"documentKeyIndex",range:u},(L,z,re)=>{const Ue=Dn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;A&&Th(A,Ue)<0;)s(A,null),A=m.getNext();A&&A.isEqual(Ue)&&(s(A,z),A=m.hasNext()?m.getNext():null),A?re.G(Td(A)):re.done()}).next(()=>{for(;A;)s(A,null),A=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,n,s,l){const u=n.path,m=[u.popLast().toArray(),u.lastSegment(),xf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],A=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fu(e).j(IDBKeyRange.bound(m,A,!0)).next(L=>{let z=na();for(const re of L){const Ue=this.ts(Dn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);Ue.isFoundDocument()&&(Ll(n,Ue)||l.has(Ue.key))&&(z=z.insert(Ue.key,Ue))}return z})}getAllFromCollectionGroup(e,n,s,l){let u=na();const m=wg(n,s),A=wg(n,b.max());return Fu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,A,!0)},(L,z,re)=>{const Ue=this.ts(Dn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);u=u.insert(Ue.key,Ue),u.size===l&&re.done()}).next(()=>u)}newChangeBuffer(e){return new bg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Bf(e).get("remoteDocumentGlobalKey").next(n=>(tr(!!n),n))}Zn(e,n){return Bf(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const s=function T_(i,e){let n;if(e.document)n=bf(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Dn.fromSegments(e.noDocument.path),l=Ru(e.noDocument.readTime);n=Ar.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return hn();{const s=Dn.fromSegments(e.unknownDocument.path),l=Ru(e.unknownDocument.version);n=Ar.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(s){const l=new Si(s[0],s[1]);return jn.fromTimestamp(l)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(jn.min()))return s}return Ar.newInvalidDocument(e)}}function Dg(i){return new Fv(i)}class bg extends Cd{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new $l(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Pi((u,m)=>_r(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const A=this.us.get(u);if(n.push(this.os.removeEntry(e,u,A.readTime)),m.isValidDocument()){const L=S_(this.os.serializer,m);l=l.add(u.path.popLast());const z=Pu(L);s+=z-A.size,n.push(this.os.addEntry(e,u,L))}else if(s-=A.size,this.trackRemovals){const L=S_(this.os.serializer,m.convertToNoDocument(jn.min()));n.push(this.os.addEntry(e,u,L))}}),l.forEach(u=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),n.push(this.os.updateMetadata(e,s)),pe.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(s=>(this.us.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:s,rs:l})=>(l.forEach((u,m)=>{this.us.set(u,{size:m,readTime:s.get(u).readTime})}),s))}}function Bf(i){return ks(i,"remoteDocumentGlobal")}function Fu(i){return ks(i,"remoteDocumentsV14")}function Td(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wg(i,e){const n=e.documentKey.path.toArray();return[i,xf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Th(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<s.length-2;++u)if(l=_r(n[u],s[u]),l)return l;return l=_r(n.length,s.length),l||(l=_r(n[n.length-2],s[s.length-2]),l||_r(n[n.length-1],s[s.length-1]))}class AE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Vf{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&es(s.mutation,l,to.empty(),Si.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,jr()).next(()=>s))}getLocalViewOfDocuments(e,n,s=jr()){const l=Ha();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let m=ml();return u.forEach((A,L)=>{m=m.insert(A,L.overlayedDocument)}),m}))}getOverlayedDocuments(e,n){const s=Ha();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,jr()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((m,A)=>{n.set(m,A)})})}computeViews(e,n,s,l){let u=na();const m=dc(),A=dc();return n.forEach((L,z)=>{const re=s.get(z.key);l.has(z.key)&&(void 0===re||re.mutation instanceof hs)?u=u.insert(z.key,z):void 0!==re?(m.set(z.key,re.mutation.getFieldMask()),es(re.mutation,z,re.mutation.getFieldMask(),Si.now())):m.set(z.key,to.empty())}),this.recalculateAndSaveOverlays(e,u).next(L=>(L.forEach((z,re)=>m.set(z,re)),n.forEach((z,re)=>{var Ue;return A.set(z,new AE(re,null!==(Ue=m.get(z))&&void 0!==Ue?Ue:null))}),A))}recalculateAndSaveOverlays(e,n){const s=dc();let l=new Fi((m,A)=>m-A),u=jr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(m=>{for(const A of m)A.keys().forEach(L=>{const z=n.get(L);if(null===z)return;let re=s.get(L)||to.empty();re=A.applyToLocalView(z,re),s.set(L,re);const Ue=(l.get(A.batchId)||jr()).add(L);l=l.insert(A.batchId,Ue)})}).next(()=>{const m=[],A=l.getReverseIterator();for(;A.hasNext();){const L=A.getNext(),z=L.key,re=L.value,Ue=sg();re.forEach(It=>{if(!u.has(It)){const Ft=fd(n.get(It),s.get(It));null!==Ft&&Ue.set(It,Ft),u=u.add(It)}}),m.push(this.documentOverlayCache.saveOverlays(e,z,Ue))}return pe.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return Dn.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):wu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s);var l}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const m=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):pe.resolve(Ha());let A=-1,L=u;return m.next(z=>pe.forEach(z,(re,Ue)=>(A<Ue.largestBatchId&&(A=Ue.largestBatchId),u.get(re)?pe.resolve():this.remoteDocumentCache.getEntry(e,re).next(It=>{L=L.insert(re,It)}))).next(()=>this.populateOverlays(e,z,u)).next(()=>this.computeViews(e,L,z,jr())).next(re=>({batchId:A,changes:dd(re)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Dn(n)).next(s=>{let l=ml();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const l=n.collectionGroup;let u=ml();return this.indexManager.getCollectionParents(e,l).next(m=>pe.forEach(m,A=>{const L=(z=n,re=A.child(l),new Da(re,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,re;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(z=>{z.forEach((re,Ue)=>{u=u.insert(re,Ue)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l))).next(u=>{l.forEach((A,L)=>{const z=L.getKey();null===u.get(z)&&(u=u.insert(z,Ar.newInvalidDocument(z)))});let m=ml();return u.forEach((A,L)=>{const z=l.get(A);void 0!==z&&es(z.mutation,L,to.empty(),Si.now()),Ll(n,L)&&(m=m.insert(A,L))}),m})}}class L_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return pe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:os(s.createTime)}),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(s=n).name,query:Of(s.bundledQuery),readTime:os(s.readTime)}),pe.resolve();var s}}class Cg{constructor(){this.overlays=new Fi(Dn.comparator),this.ls=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ha();return pe.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.we(e,n,u)}),pe.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.ls.get(s);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(s)),pe.resolve()}getOverlaysForCollection(e,n,s){const l=Ha(),u=n.length+1,m=new Dn(n.child("")),A=this.overlays.getIteratorFrom(m);for(;A.hasNext();){const L=A.getNext().value,z=L.getKey();if(!n.isPrefixOf(z.path))break;z.path.length===u&&L.largestBatchId>s&&l.set(L.getKey(),L)}return pe.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new Fi((z,re)=>z-re);const m=this.overlays.getIterator();for(;m.hasNext();){const z=m.getNext().value;if(z.getKey().getCollectionGroup()===n&&z.largestBatchId>s){let re=u.get(z.largestBatchId);null===re&&(re=Ha(),u=u.insert(z.largestBatchId,re)),re.set(z.getKey(),z)}}const A=Ha(),L=u.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((z,re)=>A.set(z,re)),!(A.size()>=l)););return pe.resolve(A)}we(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const m=this.ls.get(l.largestBatchId).delete(s.key);this.ls.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new p(n,s));let u=this.ls.get(n);void 0===u&&(u=jr(),this.ls.set(n,u)),this.ls.set(n,u.add(s.key))}}class Uf{constructor(){this.fs=new Pi(yo.ds),this.ws=new Pi(yo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new yo(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new yo(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new Dn(new qr([])),s=new yo(n,e),l=new yo(n,e+1),u=[];return this.ws.forEachInRange([s,l],m=>{this.ys(m),u.push(m.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Dn(new qr([])),s=new yo(n,e),l=new yo(n,e+1);let u=jr();return this.ws.forEachInRange([s,l],m=>{u=u.add(m.key)}),u}containsKey(e){const n=new yo(e,0),s=this.fs.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class yo{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Dn.comparator(e.key,n.key)||_r(e.As,n.As)}static _s(e,n){return _r(e.As,n.As)||Dn.comparator(e.key,n.key)}}class Lu{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pi(yo.ds)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const u=this.vs;this.vs++;const m=new _(u,n,s,l);this.mutationQueue.push(m);for(const A of l)this.Rs=this.Rs.add(new yo(A.key,u)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return pe.resolve(m)}lookupMutationBatch(e,n){return pe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.bs(n+1),u=l<0?0:l;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new yo(n,0),l=new yo(n,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([s,l],m=>{const A=this.Ps(m.As);u.push(A)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pi(_r);return n.forEach(l=>{const u=new yo(l,0),m=new yo(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,m],A=>{s=s.add(A.As)})}),pe.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;Dn.isDocumentKey(u)||(u=u.child(""));const m=new yo(new Dn(u),0);let A=new Pi(_r);return this.Rs.forEachWhile(L=>{const z=L.key.path;return!!s.isPrefixOf(z)&&(z.length===l&&(A=A.add(L.As)),!0)},m),pe.resolve(this.Vs(A))}Vs(e){const n=[];return e.forEach(s=>{const l=this.Ps(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){tr(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return pe.forEach(n.mutations,l=>{const u=new yo(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new yo(n,0),l=this.Rs.firstAfterOrEqual(s);return pe.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return pe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $_{constructor(e){this.Ds=e,this.docs=new Fi(Dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,m=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return pe.resolve(s?s.document.mutableCopy():Ar.newInvalidDocument(n))}getEntries(e,n){let s=na();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Ar.newInvalidDocument(l))}),pe.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=na();const m=n.path,A=new Dn(m.child("")),L=this.docs.getIteratorFrom(A);for(;L.hasNext();){const{key:z,value:{document:re}}=L.getNext();if(!m.isPrefixOf(z.path))break;z.path.length>m.length+1||N(O(re),s)<=0||(l.has(re.key)||Ll(n,re))&&(u=u.insert(re.key,re.mutableCopy()))}return pe.resolve(u)}getAllFromCollectionGroup(e,n,s,l){hn()}Cs(e,n){return pe.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Tg(this)}getSize(e){return pe.resolve(this.size)}}class Tg extends Cd{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.os.addEntry(e,l)):this.os.removeEntry(s)}),pe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class jf{constructor(e){this.persistence=e,this.xs=new $l(n=>ja(n),bu),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Uf,this.targetCount=0,this.Ms=Nu.kn()}forEachTarget(e,n){return this.xs.forEach((s,l)=>n(l)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),pe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Nu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Fn(n),pe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.xs.forEach((m,A)=>{A.sequenceNumber<=n&&null===s.get(A.targetId)&&(this.xs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),pe.waitFor(u).next(()=>l)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return pe.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),pe.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(m=>{u.push(l.markPotentiallyOrphaned(e,m))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return pe.resolve(s)}containsKey(e,n){return pe.resolve(this.ks.containsKey(n))}}class Sg{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jf(this),this.indexManager=new TE,this.remoteDocumentCache=new $_(s=>this.referenceDelegate.Ls(s)),this.serializer=new bv(n),this.qs=new L_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new Lu(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){on("MemoryPersistence","Starting transaction:",e);const l=new Ag(this.Os.next());return this.referenceDelegate.Us(),s(l).next(u=>this.referenceDelegate.Ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gs(e,n){return pe.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class Ag extends fe{constructor(e){super(),this.currentSequenceNumber=e}}class $u{constructor(e){this.persistence=e,this.Qs=new Uf,this.js=null}static zs(e){return new $u(e)}get Ws(){if(this.js)return this.js;throw hn()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),pe.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(l=>this.Ws.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.Ws.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ws,s=>{const l=Dn.fromPath(s);return this.Hs(e,l).next(u=>{u||n.removeEntry(l,jn.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return pe.or([()=>pe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Hf{constructor(e){this.serializer=e}O(e,n,s,l){const u=new bn("createOrUpgrade",n);var A;s<1&&l>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ll,{unique:!0}),A.createObjectStore("documentMutations"),zf(e),function(A){A.createObjectStore("remoteDocuments")}(e));let m=pe.resolve();return s<3&&l>=3&&(0!==s&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),zf(e)),m=m.next(()=>function(A){const L=A.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jn.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",z)}(u))),s<4&&l>=4&&(0!==s&&(m=m.next(()=>function(A,L){return L.store("mutations").j().next(z=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ll,{unique:!0});const re=L.store("mutations"),Ue=z.map(It=>re.put(It));return pe.waitFor(Ue)})}(e,u))),m=m.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(m=m.next(()=>this.Ys(u))),s<6&&l>=6&&(m=m.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),s<7&&l>=7&&(m=m.next(()=>this.Zs(u))),s<8&&l>=8&&(m=m.next(()=>this.ti(e,u))),s<9&&l>=9&&(m=m.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(m=m.next(()=>this.ei(u))),s<11&&l>=11&&(m=m.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(m=m.next(()=>{!function(A){const L=A.createObjectStore("documentOverlays",{keyPath:id});L.createIndex("collectionPathOverlayIndex",sf,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",sc,{unique:!1})}(e)})),s<13&&l>=13&&(m=m.next(()=>function(A){const L=A.createObjectStore("remoteDocumentsV14",{keyPath:nh});L.createIndex("documentKeyIndex",xc),L.createIndex("collectionGroupIndex",_u)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(m=m.next(()=>this.si(e,u))),s<15&&l>=15&&(m=m.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Rc}).createIndex("sequenceNumberIndex",rh,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:rd}).createIndex("documentKeyIndex",rf,{unique:!1})}(e))),m}Xs(e){let n=0;return e.store("remoteDocuments").X((s,l)=>{n+=Pu(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.j().next(l=>pe.forEach(l,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",m).next(A=>pe.forEach(A,L=>{tr(L.userId===u.userId);const z=qa(this.serializer,L);return Eg(e,u.userId,z).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return s.X((m,A)=>{const L=new qr(m),z=[0,As(L)];u.push(n.get(z).next(re=>re?pe.resolve():n.put({targetId:0,path:As(L),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:nd});const s=n.store("collectionParents"),l=new Mv,u=m=>{if(l.add(m)){const A=m.lastSegment(),L=m.popLast();return s.put({collectionId:A,parent:As(L)})}};return n.store("remoteDocuments").X({Y:!0},(m,A)=>{const L=new qr(m);return u(L.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([m,A,L],z)=>{const re=Ns(A);return u(re.popLast())}))}ei(e){const n=e.store("targets");return n.X((s,l)=>{const u=Yc(l),m=Rf(this.serializer,u);return n.put(m)})}ni(e,n){const s=n.store("remoteDocuments"),l=[];return s.X((u,m)=>{const A=n.store("remoteDocumentsV14"),L=(z=m,z.document?new Dn(qr.fromString(z.document.name).popFirst(5)):z.noDocument?Dn.fromSegments(z.noDocument.path):z.unknownDocument?Dn.fromSegments(z.unknownDocument.path):hn()).path.toArray();var z;const re={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};l.push(A.put(re))}).next(()=>pe.waitFor(l))}si(e,n){const s=n.store("mutations"),l=Dg(this.serializer),u=new Sg($u.zs,this.serializer.fe);return s.j().next(m=>{const A=new Map;return m.forEach(L=>{var z;let re=null!==(z=A.get(L.userId))&&void 0!==z?z:jr();qa(this.serializer,L).keys().forEach(Ue=>re=re.add(Ue)),A.set(L.userId,re)}),pe.forEach(A,(L,z)=>{const re=new ai(z),Ue=Nf.de(this.serializer,re),It=u.getIndexManager(re),Ft=wh.de(re,this.serializer,It,u.referenceDelegate);return new Vf(l,Ft,Ue,It).recalculateAndSaveOverlaysForDocumentKeys(new Nc(n,Qi.ct),L).next()})})}}function zf(i){i.createObjectStore("targetDocuments",{keyPath:Va}).createIndex("documentTargetsIndex",nf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ba,{unique:!0}),i.createObjectStore("targetGlobal")}const Mg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xg{constructor(e,n,s,l,u,m,A,L,z,re,Ue=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.ii=u,this.window=m,this.document=A,this.ri=z,this.oi=re,this.ui=Ue,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=It=>Promise.resolve(),!xg.D())throw new Yt(St.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ch(this,l),this.di=n+"main",this.serializer=new bv(L),this.wi=new Wn(this.di,this.ui,new Hf(this.serializer)),this.Bs=new Pv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Dg(this.serializer),this.qs=new A_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===re&&Yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Yt(St.FAILED_PRECONDITION,Mg);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Qi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var s=(0,me.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,me.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,me.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Nr(e))return on("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return on("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Sd(e).get("owner").next(n=>pe.resolve(this.Ri(n)))}Pi(e){return Dc(e).delete(this.clientId)}bi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ks(s,"clientMetadata");return l.j().next(u=>{const m=e.Si(u,18e5),A=u.filter(L=>-1===m.indexOf(L));return pe.forEach(A,L=>l.delete(L.clientId)).next(()=>A)})}).catch(()=>[]);if(e._i)for(const s of n)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?pe.resolve(!0):Sd(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Yt(St.FAILED_PRECONDITION,Mg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dc(e).j().next(s=>void 0===this.Si(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&on("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Nc(n,Qi.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(s=>this.Vi(s.updateTimeMs,n)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Dc(e).j().next(n=>this.Si(n,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return wh.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _g(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Nf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,s){on("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",u=15===(m=this.ui)?Pc:14===m?Oc:13===m?Ua:12===m?ih:11===m?cl:void hn();var m;let A;return this.wi.runTransaction(e,l,u,L=>(A=new Nc(L,this.Os?this.Os.next():Qi.ct),"readwrite-primary"===n?this.Ti(A).next(z=>!!z||this.Ei(A)).next(z=>{if(!z)throw Yi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Yt(St.FAILED_PRECONDITION,X);return s(A)}).next(z=>this.vi(A).next(()=>z)):this.Oi(A).next(()=>s(A)))).then(L=>(A.raiseOnCommittedEvent(),L))}Oi(e){return Sd(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Yt(St.FAILED_PRECONDITION,Mg)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sd(e).put("owner",n)}static D(){return Wn.D()}Ai(e){const n=Sd(e);return n.get("owner").next(s=>this.Ri(s)?(on("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):pe.resolve())}Vi(e,n){const s=Date.now();return!(e<s-n||e>s&&(Yi(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,ge.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const s=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return on("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Yi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Yi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sd(i){return ks(i,"owner")}function Dc(i){return ks(i,"clientMetadata")}function Rg(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Og{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=l}static Li(e,n){let s=jr(),l=jr();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Og(e,n.fromCache,s,l)}}class Lv{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,l){return this.Ki(e,n).next(u=>u||this.Gi(e,n,l,s)).next(u=>u||this.Qi(e,n))}Ki(e,n){if(df(n))return pe.resolve(null);let s=Mo(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Tu(n,null,"F"),s=Mo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const m=jr(...u);return this.Ui.getDocuments(e,m).next(A=>this.indexManager.getMinOffset(e,s).next(L=>{const z=this.ji(n,A);return this.zi(n,z,m,L.readTime)?this.Ki(e,Tu(n,null,"F")):this.Wi(e,z,n,L)}))})))}Gi(e,n,s,l){return df(n)||l.isEqual(jn.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(u=>{const m=this.ji(n,u);return this.zi(n,m,s,l)?this.Qi(e,n):(Tc()<=He.in.DEBUG&&on("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Uc(n)),this.Wi(e,m,n,S(l,-1)))})}ji(e,n){let s=new Pi(ff(e));return n.forEach((l,u)=>{Ll(e,u)&&(s=s.add(u))}),s}zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,n){return Tc()<=He.in.DEBUG&&on("QueryEngine","Using full collection scan to execute query:",Uc(n)),this.Ui.getDocumentsMatchingQuery(e,n,b.min())}Wi(e,n,s,l){return this.Ui.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(m=>{u=u.insert(m.key,m)}),u))}}class Pg{constructor(e,n,s,l){this.persistence=e,this.Hi=n,this.serializer=l,this.Ji=new Fi(_r),this.Yi=new $l(u=>ja(u),bu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Ng(i,e,n,s){return new Pg(i,e,n,s)}function $v(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,me.Z)(function*(i,e){const n=Mn(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const m=[],A=[];let L=jr();for(const z of l){m.push(z.batchId);for(const re of z.mutations)L=L.add(re.key)}for(const z of u){A.push(z.batchId);for(const re of z.mutations)L=L.add(re.key)}return n.localDocuments.getDocuments(s,L).next(z=>({er:z,removedBatchIds:m,addedBatchIds:A}))})})}),Gf.apply(this,arguments)}function B_(i){const e=Mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Bv(i,e,n){let s=jr(),l=jr();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let m=na();return n.forEach((A,L)=>{const z=u.get(A);L.isFoundDocument()!==z.isFoundDocument()&&(l=l.add(A)),L.isNoDocument()&&L.version.isEqual(jn.min())?(e.removeEntry(A,L.readTime),m=m.insert(A,L)):!z.isValidDocument()||L.version.compareTo(z.version)>0||0===L.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(L),m=m.insert(A,L)):on("LocalStore","Ignoring outdated watch update for ",A,". Current version:",z.version," Watch version:",L.version)}),{nr:m,sr:l}})}function V_(i,e){const n=Mn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Sh(i,e){const n=Mn(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Bs.getTargetData(s,e).next(u=>u?(l=u,pe.resolve(l)):n.Bs.allocateTargetId(s).next(m=>(l=new ba(e,m,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ji.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}function Ah(i,e,n){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,me.Z)(function*(i,e,n){const s=Mn(i),l=s.Ji.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",u,m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!Nr(m))throw m;on("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(l.target)}),Ad.apply(this,arguments)}function Wf(i,e,n){const s=Mn(i);let l=jn.min(),u=jr();return s.persistence.runTransaction("Execute query","readonly",m=>function(A,L,z){const re=Mn(A),Ue=re.Yi.get(z);return void 0!==Ue?pe.resolve(re.Ji.get(Ue)):re.Bs.getTargetData(L,z)}(s,m,Mo(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(m,A.targetId).next(L=>{u=L})}).next(()=>s.Hi.getDocumentsMatchingQuery(m,e,n?l:jn.min(),n?u:jr())).next(A=>(Bu(s,lh(e),A),{documents:A,ir:u})))}function qf(i,e){const n=Mn(i),s=Mn(n.Bs),l=n.Ji.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",u=>s.le(u,e).next(m=>m?m.target:null))}function Kf(i,e){const n=Mn(i),s=n.Xi.get(e)||jn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.Zi.getAllFromCollectionGroup(l,e,S(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Bu(n,e,l),l))}function Bu(i,e,n){let s=i.Xi.get(e)||jn.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Xi.set(e,s)}function Md(){return Md=(0,me.Z)(function*(i,e,n,s){const l=Mn(i);let u=jr(),m=na();for(const z of n){const re=e.rr(z.metadata.name);z.document&&(u=u.add(re));const Ue=e.ur(z);Ue.setReadTime(e.cr(z.metadata.readTime)),m=m.insert(re,Ue)}const A=l.Zi.newChangeBuffer({trackRemovals:!0}),L=yield Sh(l,(z=s,Mo(Bc(qr.fromString(`__bundle__/docs/${z}`)))));var z;return l.persistence.runTransaction("Apply bundle documents","readwrite",z=>Bv(z,A,m).next(re=>(A.apply(z),re)).next(re=>l.Bs.removeMatchingKeysForTargetId(z,L.targetId).next(()=>l.Bs.addMatchingKeys(z,u,L.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(z,re.nr,re.sr)).next(()=>re.nr)))}),Md.apply(this,arguments)}function xd(i,e){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,me.Z)(function*(i,e,n=jr()){const s=yield Sh(i,Mo(Of(e.bundledQuery))),l=Mn(i);return l.persistence.runTransaction("Save named query","readwrite",u=>{const m=os(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return l.qs.saveNamedQuery(u,e);const A=s.withResumeToken(ds.EMPTY_BYTE_STRING,m);return l.Ji=l.Ji.insert(A.targetId,A),l.Bs.updateTargetData(u,A).next(()=>l.Bs.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>l.Bs.addMatchingKeys(u,n,s.targetId)).next(()=>l.qs.saveNamedQuery(u,e))})}),Vu.apply(this,arguments)}function Uu(i,e){return`firestore_clients_${i}_${e}`}function Zf(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Rd(i,e){return`firestore_targets_${i}_${e}`}class Jc{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static ar(e,n,s){const l=JSON.parse(s);let u,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(u=new Yt(l.error.code,l.error.message))),m?new Jc(e,n,l.state,u):(Yi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xf{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static ar(e,n){const s=JSON.parse(n);let l,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(l=new Yt(s.error.code,s.error.message))),u?new Xf(e,s.state,l):(Yi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Od{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,u=hd();for(let m=0;l&&m<s.activeTargetIds.length;++m)l=Mc(s.activeTargetIds[m]),u=u.add(s.activeTargetIds[m]);return l?new Od(e,u):(Yi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class ju{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new ju(n.clientId,n.onlineState):(Yi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Fg{constructor(){this.activeTargetIds=hd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qf{constructor(e,n,s,l,u){this.window=e,this.ii=n,this.persistenceKey=s,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Fi(_r),this.started=!1,this.yr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=Uu(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Fg),this.Tr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const n=yield e.syncEngine.$i();for(const l of n){if(l===e.wr)continue;const u=e.getItem(Uu(e.persistenceKey,l));if(u){const m=Od.ar(l,u);m&&(e.gr=e.gr.insert(m.clientId,m))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const l=e.br(s);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,s){this.Dr(e,n,s),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Rd(this.persistenceKey,e));if(s){const l=Xf.ar(e,s);l&&(n=l.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rd(this.persistenceKey,e))}updateQueryState(e,n,s){this.kr(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Cr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return on("SharedClientState","READ",e,n),n}setItem(e,n){on("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){on("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const s=e;if(s.storageArea===this.storage){if(on("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,me.Z)(function*(){if(n.started){if(null!==s.key)if(n.Tr.test(s.key)){if(null==s.newValue){const l=n.Or(s.key);return n.Fr(l,null)}{const l=n.Br(s.key,s.newValue);if(l)return n.Fr(l.clientId,l)}}else if(n.Er.test(s.key)){if(null!==s.newValue){const l=n.Lr(s.key,s.newValue);if(l)return n.qr(l)}}else if(n.Ar.test(s.key)){if(null!==s.newValue){const l=n.Ur(s.key,s.newValue);if(l)return n.Kr(l)}}else if(s.key===n.vr){if(null!==s.newValue){const l=n.br(s.newValue);if(l)return n.Vr(l)}}else if(s.key===n.Ir){const l=function(u){let m=Qi.ct;if(null!=u)try{const A=JSON.parse(u);tr("number"==typeof A),m=A}catch(A){Yi("SharedClientState","Failed to read sequence number from WebStorage",A)}return m}(s.newValue);l!==Qi.ct&&n.sequenceNumberHandler(l)}else if(s.key===n.Rr){const l=n.Gr(s.newValue);yield Promise.all(l.map(u=>n.syncEngine.Qr(u)))}}else n.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,s){const l=new Jc(this.currentUser,e,n,s),u=Zf(this.persistenceKey,this.currentUser,e);this.setItem(u,l.hr())}Cr(e){const n=Zf(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,s){const l=Rd(this.persistenceKey,e),u=new Xf(e,n,s);this.setItem(l,u.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const s=this.Or(e);return Od.ar(s,n)}Lr(e,n){const s=this.Er.exec(e),l=Number(s[1]);return Jc.ar(new ai(void 0!==s[2]?s[2]:null),l,n)}Ur(e,n){const s=this.Ar.exec(e),l=Number(s[1]);return Xf.ar(l,n)}br(e){return ju.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,me.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);on("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const s=n?this.gr.insert(e,n):this.gr.remove(e),l=this.Sr(this.gr),u=this.Sr(s),m=[],A=[];return u.forEach(L=>{l.has(L)||m.push(L)}),l.forEach(L=>{u.has(L)||A.push(L)}),this.syncEngine.Wr(m,A).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=hd();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Vv{constructor(){this.Hr=new Fg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Fg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U_{Yr(e){}shutdown(){}}class Jf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){on("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){on("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mh=null;function Lg(){return null===Mh?Mh=268435456+Math.round(2147483648*Math.random()):Mh++,"0x"+Mh.toString(16)}const j_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xE{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wo="WebChannelConnection";class ep extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,l,u){const m=Lg(),A=this.To(e,n);on("RestConnection",`Sending RPC '${e}' ${m}:`,A,s);const L={};return this.Eo(L,l,u),this.Ao(e,A,L,s).then(z=>(on("RestConnection",`Received RPC '${e}' ${m}: `,z),z),z=>{throw Os("RestConnection",`RPC '${e}' ${m} failed with error: `,z,"url: ",A,"request:",s),z})}vo(e,n,s,l,u,m){return this.Io(e,n,s,l,u)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}To(e,n){return`${this.mo}/v1/${n}:${j_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,l){const u=Lg();return new Promise((m,A)=>{const L=new Ts;L.setWithCredentials(!0),L.listenOnce(jo.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case is.NO_ERROR:const re=L.getResponseJson();on(Wo,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(re)),m(re);break;case is.TIMEOUT:on(Wo,`RPC '${e}' ${u} timed out`),A(new Yt(St.DEADLINE_EXCEEDED,"Request time out"));break;case is.HTTP_ERROR:const Ue=L.getStatus();if(on(Wo,`RPC '${e}' ${u} failed with status:`,Ue,"response text:",L.getResponseText()),Ue>0){let It=L.getResponseJson();Array.isArray(It)&&(It=It[0]);const Ft=null==It?void 0:It.error;if(Ft&&Ft.status&&Ft.message){const fn=function(Nn){const Vn=Nn.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(Vn)>=0?Vn:St.UNKNOWN}(Ft.status);A(new Yt(fn,Ft.message))}else A(new Yt(St.UNKNOWN,"Server responded with status "+L.getStatus()))}else A(new Yt(St.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{on(Wo,`RPC '${e}' ${u} completed.`)}});const z=JSON.stringify(l);on(Wo,`RPC '${e}' ${u} sending request:`,l),L.send(n,"POST",z,s,15)})}Ro(e,n,s){const l=Lg(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Gs(),A=ro(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(L.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(L.xmlHttpFactory=new Cs({})),this.Eo(L.initMessageHeaders,n,s),L.encodeInitMessageHeaders=!0;const re=u.join("");on(Wo,`Creating RPC '${e}' stream ${l}: ${re}`,L);const Ue=m.createWebChannel(re,L);let It=!1,Ft=!1;const fn=new xE({ro:Vn=>{Ft?on(Wo,`Not sending because RPC '${e}' stream ${l} is closed:`,Vn):(It||(on(Wo,`Opening RPC '${e}' stream ${l} transport.`),Ue.open(),It=!0),on(Wo,`RPC '${e}' stream ${l} sending:`,Vn),Ue.send(Vn))},oo:()=>Ue.close()}),Nn=(Vn,Hr,wi)=>{Vn.listen(Hr,zr=>{try{wi(zr)}catch(Ls){setTimeout(()=>{throw Ls},0)}})};return Nn(Ue,fa.EventType.OPEN,()=>{Ft||on(Wo,`RPC '${e}' stream ${l} transport opened.`)}),Nn(Ue,fa.EventType.CLOSE,()=>{Ft||(Ft=!0,on(Wo,`RPC '${e}' stream ${l} transport closed`),fn.wo())}),Nn(Ue,fa.EventType.ERROR,Vn=>{Ft||(Ft=!0,Os(Wo,`RPC '${e}' stream ${l} transport errored:`,Vn),fn.wo(new Yt(St.UNAVAILABLE,"The operation could not be completed")))}),Nn(Ue,fa.EventType.MESSAGE,Vn=>{var Hr;if(!Ft){const wi=Vn.data[0];tr(!!wi);const Ls=wi.error||(null===(Hr=wi[0])||void 0===Hr?void 0:Hr.error);if(Ls){on(Wo,`RPC '${e}' stream ${l} received error:`,Ls);const ps=Ls.status;let as=function(td){const c_=Q[td];if(void 0!==c_)return nn(c_)}(ps),qo=Ls.message;void 0===as&&(as=St.INTERNAL,qo="Unknown error status: "+ps+" with message "+Ls.message),Ft=!0,fn.wo(new Yt(as,qo)),Ue.close()}else on(Wo,`RPC '${e}' stream ${l} received:`,wi),fn._o(wi)}}),Nn(A,Zo.STAT_EVENT,Vn=>{Vn.stat===pi.PROXY?on(Wo,`RPC '${e}' stream ${l} detected buffering proxy`):Vn.stat===pi.NOPROXY&&on(Wo,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{fn.fo()},0),fn}}function tp(){return typeof window<"u"?window:null}function np(){return typeof document<"u"?document:null}function Pd(i){return new cg(i,!0)}class xh{constructor(e,n,s=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,n-s);l>0&&on("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rh{constructor(e,n,s,l,u,m,A,L){this.ii=e,this.$o=s,this.Oo=l,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=A,this.listener=L,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xh(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var s=this;return(0,me.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():n&&n.code===St.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):n&&n.code===St.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Fo===n&&this.Zo(s,l)},s=>{e(()=>{const l=new Yt(St.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(l)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{s(()=>this.tu(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,me.Z)(function*(){e.state=0,e.start()}))}tu(e){return on("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(on("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H_ extends Rh{constructor(e,n,s,l,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,m),this.serializer=u}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function wf(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:hn(),l=e.targetChange.targetIds||[],u=function(L,z){return L.useProto3Json?(tr(void 0===z||"string"==typeof z),ds.fromBase64String(z||"")):(tr(void 0===z||z instanceof Uint8Array),ds.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,A=m&&function(L){const z=void 0===L.code?St.UNKNOWN:nn(L.code);return new Yt(z,L.message||"")}(m);n=new mh(s,l,u,A||null)}else if("documentChange"in e){const s=e.documentChange,l=yc(i,s.document.name),u=os(s.document.updateTime),m=s.document.createTime?os(s.document.createTime):jn.min(),A=new li({mapValue:{fields:s.document.fields}}),L=Ar.newFoundDocument(l,u,m,A);n=new El(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,l=yc(i,s.document),u=s.readTime?os(s.readTime):jn.min(),m=Ar.newNoDocument(l,u);n=new El([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,l=yc(i,s.document);n=new El([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return hn();{const s=e.filter,{count:l=0,unchangedNames:u}=s,m=new H(l,u);n=new gh(s.targetId,m)}}var L;return n}(this.serializer,e),s=function(l){if(!("targetChange"in l))return jn.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?jn.min():u.readTime?os(u.readTime):jn.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Ed(this.serializer),n.addTarget=function(l,u){let m;const A=u.target;if(m=pl(A)?{documents:yh(l,A)}:{query:Tf(l,A)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=If(l,u.resumeToken);const L=ug(l,u.expectedCount);null!==L&&(m.expectedCount=L)}else if(u.snapshotVersion.compareTo(jn.min())>0){m.readTime=yd(l,u.snapshotVersion.toTimestamp());const L=ug(l,u.expectedCount);null!==L&&(m.expectedCount=L)}return m}(this.serializer,e);const s=function _h(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Ed(this.serializer),n.removeTarget=e,this.Wo(n)}}class Uv extends Rh{constructor(e,n,s,l,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,m),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function pg(i,e){return i&&i.length>0?(tr(void 0!==e),i.map(n=>function(s,l){let u=os(s.updateTime?s.updateTime:l);return u.isEqual(jn.min())&&(u=os(l)),new og(u,s.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=os(e.commitTime);return this.listener.cu(s,n)}return tr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ed(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>_c(this.serializer,s))};this.Wo(n)}}class z_ extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Yt(St.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Io(e,n,s,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Yt(St.UNKNOWN,l.toString())})}vo(e,n,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.vo(e,n,s,u,m,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Yt(St.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class G_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yi(n),this.mu=!1):on("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rp{constructor(e,n,s,l,u){var m=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(A=>{s.enqueueAndForget((0,me.Z)(function*(){var L;Hl(m)&&(on("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,me.Z)(function*(z){const re=Mn(z);re.vu.add(4),yield jl(re),re.bu.set("Unknown"),re.vu.delete(4),yield Oh(re)}),function(z){return L.apply(this,arguments)})(m))}))}),this.bu=new G_(s,l)}}function Oh(i){return eu.apply(this,arguments)}function eu(){return eu=(0,me.Z)(function*(i){if(Hl(i))for(const e of i.Ru)yield e(!0)}),eu.apply(this,arguments)}function jl(i){return $g.apply(this,arguments)}function $g(){return $g=(0,me.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),$g.apply(this,arguments)}function Ph(i,e){const n=Mn(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),sp(n)?ip(n):Nd(n).Ko()&&Bg(n,e))}function Nh(i,e){const n=Mn(i),s=Nd(n);n.Au.delete(e),s.Ko()&&zv(n,e),0===n.Au.size&&(s.Ko()?s.jo():Hl(n)&&n.bu.set("Unknown"))}function Bg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nd(i).su(e)}function zv(i,e){i.Vu.qt(e),Nd(i).iu(e)}function ip(i){i.Vu=new vf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Nd(i).start(),i.bu.gu()}function sp(i){return Hl(i)&&!Nd(i).Uo()&&i.Au.size>0}function Hl(i){return 0===Mn(i).vu.size}function W_(i){i.Vu=void 0}function Vg(i){return op.apply(this,arguments)}function op(){return op=(0,me.Z)(function*(i){i.Au.forEach((e,n)=>{Bg(i,e)})}),op.apply(this,arguments)}function q_(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,me.Z)(function*(i,e){W_(i),sp(i)?(i.bu.Iu(e),ip(i)):i.bu.set("Unknown")}),Ug.apply(this,arguments)}function Gv(i,e,n){return jg.apply(this,arguments)}function jg(){return jg=(0,me.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof mh&&2===e.state&&e.cause)try{yield(s=(0,me.Z)(function*(l,u){const m=u.cause;for(const A of u.targetIds)l.Au.has(A)&&(yield l.remoteSyncer.rejectListen(A,m),l.Au.delete(A),l.Vu.removeTarget(A))}),function(l,u){return s.apply(this,arguments)})(i,e)}catch(s){on("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield kh(i,s)}else if(e instanceof El?i.Vu.Ht(e):e instanceof gh?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(jn.min()))try{const s=yield B_(i.localStore);n.compareTo(s)>=0&&(yield function(l,u){const m=l.Vu.ce(u);return m.targetChanges.forEach((A,L)=>{if(A.resumeToken.approximateByteSize()>0){const z=l.Au.get(L);z&&l.Au.set(L,z.withResumeToken(A.resumeToken,u))}}),m.targetMismatches.forEach((A,L)=>{const z=l.Au.get(A);if(!z)return;l.Au.set(A,z.withResumeToken(ds.EMPTY_BYTE_STRING,z.snapshotVersion)),zv(l,A);const re=new ba(z.target,A,L,z.sequenceNumber);Bg(l,re)}),l.remoteSyncer.applyRemoteEvent(m)}(i,n))}catch(s){on("RemoteStore","Failed to raise snapshot:",s),yield kh(i,s)}var s}),jg.apply(this,arguments)}function kh(i,e,n){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,me.Z)(function*(i,e,n){if(!Nr(e))throw e;i.vu.add(1),yield jl(i),i.bu.set("Offline"),n||(n=()=>B_(i.localStore)),i.asyncQueue.enqueueRetryable((0,me.Z)(function*(){on("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield Oh(i)}))}),Hg.apply(this,arguments)}function Wv(i,e){return e().catch(n=>kh(i,n,e))}function Fh(i){return ap.apply(this,arguments)}function ap(){return ap=(0,me.Z)(function*(i){const e=Mn(i),n=Gl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;qv(e);)try{const l=yield V_(e.localStore,s);if(null===l){0===e.Eu.length&&n.jo();break}s=l.batchId,Dl(e,l)}catch(l){yield kh(e,l)}zg(e)&&K_(e)}),ap.apply(this,arguments)}function qv(i){return Hl(i)&&i.Eu.length<10}function Dl(i,e){i.Eu.push(e);const n=Gl(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function zg(i){return Hl(i)&&!Gl(i).Uo()&&i.Eu.length>0}function K_(i){Gl(i).start()}function Gg(i){return zl.apply(this,arguments)}function zl(){return zl=(0,me.Z)(function*(i){Gl(i).hu()}),zl.apply(this,arguments)}function Wg(i){return qg.apply(this,arguments)}function qg(){return qg=(0,me.Z)(function*(i){const e=Gl(i);for(const n of i.Eu)e.uu(n.mutations)}),qg.apply(this,arguments)}function RE(i,e,n){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,me.Z)(function*(i,e,n){const s=i.Eu.shift(),l=d.from(s,e,n);yield Wv(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Fh(i)}),Kg.apply(this,arguments)}function Yg(i,e){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,me.Z)(function*(i,e){var n;e&&Gl(i).ou&&(yield(n=(0,me.Z)(function*(s,l){if(vt(u=l.code)&&u!==St.ABORTED){const m=s.Eu.shift();Gl(s).Qo(),yield Wv(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield Fh(s)}var u}),function(s,l){return n.apply(this,arguments)})(i,e)),zg(i)&&K_(i)}),Ya.apply(this,arguments)}function Zg(i,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,me.Z)(function*(i,e){const n=Mn(i);n.asyncQueue.verifyOperationInProgress(),on("RemoteStore","RemoteStore received new credentials");const s=Hl(n);n.vu.add(3),yield jl(n),s&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Oh(n)}),Xg.apply(this,arguments)}function Kv(i,e){return oo.apply(this,arguments)}function oo(){return oo=(0,me.Z)(function*(i,e){const n=Mn(i);e?(n.vu.delete(2),yield Oh(n)):e||(n.vu.add(2),yield jl(n),n.bu.set("Unknown"))}),oo.apply(this,arguments)}function Nd(i){return i.Su||(i.Su=function(e,n,s){const l=Mn(e);return l.fu(),new H_(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{uo:Vg.bind(null,i),ao:q_.bind(null,i),nu:Gv.bind(null,i)}),i.Ru.push(function(){var e=(0,me.Z)(function*(n){n?(i.Su.Qo(),sp(i)?ip(i):i.bu.set("Unknown")):(yield i.Su.stop(),W_(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Gl(i){return i.Du||(i.Du=function(e,n,s){const l=Mn(e);return l.fu(),new Uv(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{uo:Gg.bind(null,i),ao:Yg.bind(null,i),au:Wg.bind(null,i),cu:RE.bind(null,i)}),i.Ru.push(function(){var e=(0,me.Z)(function*(n){n?(i.Du.Qo(),yield Fh(i)):(yield i.Du.stop(),i.Eu.length>0&&(on("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Qg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,n,s,l,u){const m=Date.now()+s,A=new Qg(e,n,m,l,u);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yt(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(i,e){if(Yi("AsyncQueue",`${e}: ${i}`),Nr(i))return new Yt(St.UNAVAILABLE,`${e}: ${i}`);throw i}class tu{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Dn.comparator(n.key,s.key):(n,s)=>Dn.comparator(n.key,s.key),this.keyedMap=ml(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new tu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Jg{constructor(){this.Cu=new Fi(Dn.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(n):1===e.type&&2===s.type?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):hn():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hu{constructor(e,n,s,l,u,m,A,L,z){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=A,this.excludesMetadataChanges=L,this.hasCachedResults=z}static fromInitialDocuments(e,n,s,l,u){const m=[];return n.forEach(A=>{m.push({type:0,doc:A})}),new Hu(e,n,tu.emptySet(n),m,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Su(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Y_{constructor(){this.Nu=void 0,this.listeners=[]}}class Yv{constructor(){this.queries=new $l(e=>hf(e),Su),this.onlineState="Unknown",this.ku=new Set}}function lp(i,e){return em.apply(this,arguments)}function em(){return em=(0,me.Z)(function*(i,e){const n=Mn(i),s=e.query;let l=!1,u=n.queries.get(s);if(u||(l=!0,u=new Y_),l)try{u.Nu=yield n.onListen(s)}catch(m){const A=kd(m,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(A)}n.queries.set(s,u),u.listeners.push(e),e.Mu(n.onlineState),u.Nu&&e.$u(u.Nu)&&bl(n)}),em.apply(this,arguments)}function tm(i,e){return nm.apply(this,arguments)}function nm(){return nm=(0,me.Z)(function*(i,e){const n=Mn(i),s=e.query;let l=!1;const u=n.queries.get(s);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),l=0===u.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),nm.apply(this,arguments)}function Zv(i,e){const n=Mn(i);let s=!1;for(const l of e){const m=n.queries.get(l.query);if(m){for(const A of m.listeners)A.$u(l)&&(s=!0);m.Nu=l}}s&&bl(n)}function Fd(i,e,n){const s=Mn(i),l=s.queries.get(e);if(l)for(const u of l.listeners)u.onError(n);s.queries.delete(e)}function bl(i){i.ku.forEach(e=>{e.next()})}class nu{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Hu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Z_{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class Xv{constructor(e){this.serializer=e}rr(e){return yc(this.serializer,e)}ur(e){return e.metadata.exists?bf(this.serializer,e.document,!1):Ar.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return os(e)}}class Qv{constructor(e,n,s){this.ju=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rm(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const s=qr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,s=new Xv(this.serializer);for(const l of e)if(l.metadata.queries){const u=s.rr(l.metadata.name);for(const m of l.metadata.queries){const A=(n.get(m)||jr()).add(u);n.set(m,A)}}return n}complete(){var e=this;return(0,me.Z)(function*(){const n=yield function Yf(i,e,n,s){return Md.apply(this,arguments)}(e.localStore,new Xv(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const l of e.queries)yield xd(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function rm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cp{constructor(e){this.key=e}}class Ld{constructor(e){this.key=e}}class Lh{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=jr(),this.mutatedKeys=jr(),this.tc=ff(e),this.ec=new tu(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Jg,l=n?n.ec:this.ec;let u=n?n.mutatedKeys:this.mutatedKeys,m=l,A=!1;const L="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,z="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((re,Ue)=>{const It=l.get(re),Ft=Ll(this.query,Ue)?Ue:null,fn=!!It&&this.mutatedKeys.has(It.key),Nn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let Vn=!1;It&&Ft?It.data.isEqual(Ft.data)?fn!==Nn&&(s.track({type:3,doc:Ft}),Vn=!0):this.rc(It,Ft)||(s.track({type:2,doc:Ft}),Vn=!0,(L&&this.tc(Ft,L)>0||z&&this.tc(Ft,z)<0)&&(A=!0)):!It&&Ft?(s.track({type:0,doc:Ft}),Vn=!0):It&&!Ft&&(s.track({type:1,doc:It}),Vn=!0,(L||z)&&(A=!0)),Vn&&(Ft?(m=m.add(Ft),u=Nn?u.add(re):u.delete(re)):(m=m.delete(re),u=u.delete(re)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const re="F"===this.query.limitType?m.last():m.first();m=m.delete(re.key),u=u.delete(re.key),s.track({type:1,doc:re})}return{ec:m,ic:s,zi:A,mutatedKeys:u}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((z,re)=>function(Ue,It){const Ft=fn=>{switch(fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return Ft(Ue)-Ft(It)}(z.type,re.type)||this.tc(z.doc,re.doc)),this.oc(s);const m=n?this.uc():[],A=0===this.Zu.size&&this.current?1:0,L=A!==this.Xu;return this.Xu=A,0!==u.length||L?{snapshot:new Hu(this.query,e.ec,l,u,e.mutatedKeys,0===A,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Jg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=jr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Ld(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new cp(s))}),n}hc(e){this.Yu=e.ir,this.Zu=jr();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Hu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Jv{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ey{constructor(e){this.key=e,this.fc=!1}}class X_{constructor(e,n,s,l,u,m){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new $l(A=>hf(A),Su),this._c=new Map,this.mc=new Set,this.gc=new Fi(Dn.comparator),this.yc=new Map,this.Ic=new Uf,this.Tc={},this.Ec=new Map,this.Ac=Nu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Q_(i,e){return im.apply(this,arguments)}function im(){return im=(0,me.Z)(function*(i,e){const n=ym(i);let s,l;const u=n.wc.get(e);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),l=u.view.lc();else{const m=yield Sh(n.localStore,Mo(e)),A=n.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,l=yield sm(n,e,s,"current"===A,m.resumeToken),n.isPrimaryClient&&Ph(n.remoteStore,m)}return l}),im.apply(this,arguments)}function sm(i,e,n,s,l){return up.apply(this,arguments)}function up(){return up=(0,me.Z)(function*(i,e,n,s,l){i.Rc=(Ue,It,Ft)=>{return(fn=(0,me.Z)(function*(Nn,Vn,Hr,wi){let zr=Vn.view.sc(Hr);zr.zi&&(zr=yield Wf(Nn.localStore,Vn.query,!1).then(({documents:as})=>Vn.view.sc(as,zr)));const Ls=wi&&wi.targetChanges.get(Vn.targetId),ps=Vn.view.applyChanges(zr,Nn.isPrimaryClient,Ls);return cm(Nn,Vn.targetId,ps.cc),ps.snapshot}),function(Nn,Vn,Hr,wi){return fn.apply(this,arguments)})(i,Ue,It,Ft);var fn};const u=yield Wf(i.localStore,e,!0),m=new Lh(e,u.ir),A=m.sc(u.documents),L=Ul.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),z=m.applyChanges(A,i.isPrimaryClient,L);cm(i,n,z.cc);const re=new Jv(e,n,m);return i.wc.set(e,re),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),z.snapshot}),up.apply(this,arguments)}function OE(i,e){return om.apply(this,arguments)}function om(){return om=(0,me.Z)(function*(i,e){const n=Mn(i),s=n.wc.get(e),l=n._c.get(s.targetId);if(l.length>1)return n._c.set(s.targetId,l.filter(u=>!Su(u,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ah(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Nh(n.remoteStore,s.targetId),wl(n,s.targetId)}).catch(at))):(wl(n,s.targetId),yield Ah(n.localStore,s.targetId,!0))}),om.apply(this,arguments)}function ty(){return ty=(0,me.Z)(function*(i,e,n){const s=_m(i);try{const l=yield function(u,m){const A=Mn(u),L=Si.now(),z=m.reduce((It,Ft)=>It.add(Ft.key),jr());let re,Ue;return A.persistence.runTransaction("Locally write mutations","readwrite",It=>{let Ft=na(),fn=jr();return A.Zi.getEntries(It,z).next(Nn=>{Ft=Nn,Ft.forEach((Vn,Hr)=>{Hr.isValidDocument()||(fn=fn.add(Vn))})}).next(()=>A.localDocuments.getOverlayedDocuments(It,Ft)).next(Nn=>{re=Nn;const Vn=[];for(const Hr of m){const wi=mc(Hr,re.get(Hr.key).overlayedDocument);null!=wi&&Vn.push(new hs(Hr.key,wi,fl(wi.value.mapValue),ss.exists(!0)))}return A.mutationQueue.addMutationBatch(It,L,Vn,m)}).next(Nn=>{Ue=Nn;const Vn=Nn.applyToLocalDocumentSet(re,fn);return A.documentOverlayCache.saveOverlays(It,Nn.batchId,Vn)})}).then(()=>({batchId:Ue.batchId,changes:dd(re)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(u,m,A){let L=u.Tc[u.currentUser.toKey()];L||(L=new Fi(_r)),L=L.insert(m,A),u.Tc[u.currentUser.toKey()]=L}(s,l.batchId,n),yield Cl(s,l.changes),yield Fh(s.remoteStore)}catch(l){const u=kd(l,"Failed to persist write");n.reject(u)}}),ty.apply(this,arguments)}function am(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,me.Z)(function*(i,e){const n=Mn(i);try{const s=yield function ME(i,e){const n=Mn(i),s=e.snapshotVersion;let l=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=n.Zi.newChangeBuffer({trackRemovals:!0});l=n.Ji;const A=[];e.targetChanges.forEach((re,Ue)=>{const It=l.get(Ue);if(!It)return;A.push(n.Bs.removeMatchingKeys(u,re.removedDocuments,Ue).next(()=>n.Bs.addMatchingKeys(u,re.addedDocuments,Ue)));let Ft=It.withSequenceNumber(u.currentSequenceNumber);var fn,Nn,Vn;null!==e.targetMismatches.get(Ue)?Ft=Ft.withResumeToken(ds.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):re.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(re.resumeToken,s)),l=l.insert(Ue,Ft),Nn=Ft,Vn=re,(0===(fn=It).resumeToken.approximateByteSize()||Nn.snapshotVersion.toMicroseconds()-fn.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&A.push(n.Bs.updateTargetData(u,Ft))});let L=na(),z=jr();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(u,re))}),A.push(Bv(u,m,e.documentUpdates).next(re=>{L=re.nr,z=re.sr})),!s.isEqual(jn.min())){const re=n.Bs.getLastRemoteSnapshotVersion(u).next(Ue=>n.Bs.setTargetsMetadata(u,u.currentSequenceNumber,s));A.push(re)}return pe.waitFor(A).next(()=>m.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,L,z)).next(()=>L)}).then(u=>(n.Ji=l,u))}(n.localStore,e);e.targetChanges.forEach((l,u)=>{const m=n.yc.get(u);m&&(tr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.fc=!0:l.modifiedDocuments.size>0?tr(m.fc):l.removedDocuments.size>0&&(tr(m.fc),m.fc=!1))}),yield Cl(n,s,e)}catch(s){yield at(s)}}),dp.apply(this,arguments)}function J_(i,e,n){const s=Mn(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.wc.forEach((u,m)=>{const A=m.view.Mu(e);A.snapshot&&l.push(A.snapshot)}),function(u,m){const A=Mn(u);A.onlineState=m;let L=!1;A.queries.forEach((z,re)=>{for(const Ue of re.listeners)Ue.Mu(m)&&(L=!0)}),L&&bl(A)}(s.eventManager,e),l.length&&s.dc.nu(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function $h(i,e,n){return ny.apply(this,arguments)}function ny(){return ny=(0,me.Z)(function*(i,e,n){const s=Mn(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.yc.get(e),u=l&&l.key;if(u){let m=new Fi(Dn.comparator);m=m.insert(u,Ar.newNoDocument(u,jn.min()));const A=jr().add(u),L=new vc(jn.min(),new Map,new Fi(_r),m,A);yield am(s,L),s.gc=s.gc.remove(u),s.yc.delete(e),ru(s)}else yield Ah(s.localStore,e,!1).then(()=>wl(s,e,n)).catch(at)}),ny.apply(this,arguments)}function ry(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,me.Z)(function*(i,e){const n=Mn(i),s=e.batch.batchId;try{const l=yield function kg(i,e){const n=Mn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.Zi.newChangeBuffer({trackRemovals:!0});return function(m,A,L,z){const re=L.batch,Ue=re.keys();let It=pe.resolve();return Ue.forEach(Ft=>{It=It.next(()=>z.getEntry(A,Ft)).next(fn=>{const Nn=L.docVersions.get(Ft);tr(null!==Nn),fn.version.compareTo(Nn)<0&&(re.applyToRemoteDocument(fn,L),fn.isValidDocument()&&(fn.setReadTime(L.commitVersion),z.addEntry(fn)))})}),It.next(()=>m.mutationQueue.removeMutationBatch(A,re))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let A=jr();for(let L=0;L<m.mutationResults.length;++L)m.mutationResults[L].transformResults.length>0&&(A=A.add(m.batch.mutations[L].key));return A}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);gp(n,s,null),pp(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Cl(n,l)}catch(l){yield at(l)}}),hp.apply(this,arguments)}function e0(i,e,n){return fp.apply(this,arguments)}function fp(){return fp=(0,me.Z)(function*(i,e,n){const s=Mn(i);try{const l=yield function(u,m){const A=Mn(u);return A.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let z;return A.mutationQueue.lookupMutationBatch(L,m).next(re=>(tr(null!==re),z=re.keys(),A.mutationQueue.removeMutationBatch(L,re))).next(()=>A.mutationQueue.performConsistencyCheck(L)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(L,z,m)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,z)).next(()=>A.localDocuments.getDocuments(L,z))})}(s.localStore,e);gp(s,e,n),pp(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Cl(s,l)}catch(l){yield at(l)}}),fp.apply(this,arguments)}function Fr(){return Fr=(0,me.Z)(function*(i,e){const n=Mn(i);Hl(n.remoteStore)||on("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const m=Mn(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>m.mutationQueue.getHighestUnacknowledgedBatchId(A))}(n.localStore);if(-1===s)return void e.resolve();const l=n.Ec.get(s)||[];l.push(e),n.Ec.set(s,l)}catch(s){const l=kd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Fr.apply(this,arguments)}function pp(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function gp(i,e,n){const s=Mn(i);let l=s.Tc[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Tc[s.currentUser.toKey()]=l}}function wl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),n&&i.dc.Pc(s,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||lm(i,s)})}function lm(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(Nh(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),ru(i))}function cm(i,e,n){for(const s of n)s instanceof cp?(i.Ic.addReference(s.key,e),mp(i,s)):s instanceof Ld?(on("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||lm(i,s.key)):hn()}function mp(i,e){const n=e.key,s=n.path.canonicalString();i.gc.get(n)||i.mc.has(s)||(on("SyncEngine","New document in limbo: "+n),i.mc.add(s),ru(i))}function ru(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Dn(qr.fromString(e)),s=i.Ac.next();i.yc.set(s,new ey(n)),i.gc=i.gc.insert(n,s),Ph(i.remoteStore,new ba(Mo(Bc(n.path)),s,"TargetPurposeLimboResolution",Qi.ct))}}function Cl(i,e,n){return zu.apply(this,arguments)}function zu(){return zu=(0,me.Z)(function*(i,e,n){const s=Mn(i),l=[],u=[],m=[];var A;s.wc.isEmpty()||(s.wc.forEach((A,L)=>{m.push(s.Rc(L,e,n).then(z=>{if((z||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,null!=z&&z.fromCache?"not-current":"current"),z){l.push(z);const re=Og.Li(L.targetId,z);u.push(re)}}))}),yield Promise.all(m),s.dc.nu(l),yield(A=(0,me.Z)(function*(L,z){const re=Mn(L);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>pe.forEach(z,It=>pe.forEach(It.Fi,Ft=>re.persistence.referenceDelegate.addReference(Ue,It.targetId,Ft)).next(()=>pe.forEach(It.Bi,Ft=>re.persistence.referenceDelegate.removeReference(Ue,It.targetId,Ft)))))}catch(Ue){if(!Nr(Ue))throw Ue;on("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of z){const It=Ue.targetId;if(!Ue.fromCache){const Ft=re.Ji.get(It),Nn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);re.Ji=re.Ji.insert(It,Nn)}}}),function(L,z){return A.apply(this,arguments)})(s.localStore,u))}),zu.apply(this,arguments)}function sy(i,e){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,me.Z)(function*(i,e){const n=Mn(i);if(!n.currentUser.isEqual(e)){on("SyncEngine","User change. New user:",e.toKey());const s=yield $v(n.localStore,e);n.currentUser=e,(l=n).Ec.forEach(m=>{m.forEach(A=>{A.reject(new Yt(St.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Cl(n,s.er)}var l}),Bh.apply(this,arguments)}function um(i,e){const n=Mn(i),s=n.yc.get(e);if(s&&s.fc)return jr().add(s.key);{let l=jr();const u=n._c.get(e);if(!u)return l;for(const m of u){const A=n.wc.get(m);l=l.unionWith(A.view.nc)}return l}}function dm(i,e){return vp.apply(this,arguments)}function vp(){return vp=(0,me.Z)(function*(i,e){const n=Mn(i),s=yield Wf(n.localStore,e.query,!0),l=e.view.hc(s);return n.isPrimaryClient&&cm(n,e.targetId,l.cc),l}),vp.apply(this,arguments)}function hm(i,e){return fm.apply(this,arguments)}function fm(){return fm=(0,me.Z)(function*(i,e){const n=Mn(i);return Kf(n.localStore,e).then(s=>Cl(n,s))}),fm.apply(this,arguments)}function t0(i,e,n,s){return pm.apply(this,arguments)}function pm(){return pm=(0,me.Z)(function*(i,e,n,s){const l=Mn(i),u=yield function(m,A){const L=Mn(m),z=Mn(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",re=>z.Sn(re,A).next(Ue=>Ue?L.localDocuments.getDocuments(re,Ue):pe.resolve(null)))}(l.localStore,e);var A;null!==u?("pending"===n?yield Fh(l.remoteStore):"acknowledged"===n||"rejected"===n?(gp(l,e,s||null),pp(l,e),A=e,Mn(Mn(l.localStore).mutationQueue).Cn(A)):hn(),yield Cl(l,u)):on("SyncEngine","Cannot apply mutation batch with id: "+e)}),pm.apply(this,arguments)}function gm(){return gm=(0,me.Z)(function*(i,e){const n=Mn(i);if(ym(n),_m(n),!0===e&&!0!==n.vc){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield ay(n,s.toArray());n.vc=!0,yield Kv(n.remoteStore,!0);for(const u of l)Ph(n.remoteStore,u)}else if(!1===e&&!1!==n.vc){const s=[];let l=Promise.resolve();n._c.forEach((u,m)=>{n.sharedClientState.isLocalQueryTarget(m)?s.push(m):l=l.then(()=>(wl(n,m),Ah(n.localStore,m,!0))),Nh(n.remoteStore,m)}),yield l,yield ay(n,s),function(u){const m=Mn(u);m.yc.forEach((A,L)=>{Nh(m.remoteStore,L)}),m.Ic.Ts(),m.yc=new Map,m.gc=new Fi(Dn.comparator)}(n),n.vc=!1,yield Kv(n.remoteStore,!1)}}),gm.apply(this,arguments)}function ay(i,e,n){return mm.apply(this,arguments)}function mm(){return mm=(0,me.Z)(function*(i,e,n){const s=Mn(i),l=[],u=[];for(const m of e){let A;const L=s._c.get(m);if(L&&0!==L.length){A=yield Sh(s.localStore,Mo(L[0]));for(const z of L){const re=s.wc.get(z),Ue=yield dm(s,re);Ue.snapshot&&u.push(Ue.snapshot)}}else{const z=yield qf(s.localStore,m);A=yield Sh(s.localStore,z),yield sm(s,ly(z),m,!1,A.resumeToken)}l.push(A)}return s.dc.nu(u),l}),mm.apply(this,arguments)}function ly(i){return ah(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function cy(i){const e=Mn(i);return Mn(Mn(e.localStore).persistence).$i()}function uy(i,e,n,s){return vm.apply(this,arguments)}function vm(){return vm=(0,me.Z)(function*(i,e,n,s){const l=Mn(i);if(l.vc)return void on("SyncEngine","Ignoring unexpected query state notification.");const u=l._c.get(e);if(u&&u.length>0)switch(n){case"current":case"not-current":{const m=yield Kf(l.localStore,lh(u[0])),A=vc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ds.EMPTY_BYTE_STRING);yield Cl(l,m,A);break}case"rejected":yield Ah(l.localStore,e,!0),wl(l,e,s);break;default:hn()}}),vm.apply(this,arguments)}function n0(i,e,n){return sa.apply(this,arguments)}function sa(){return sa=(0,me.Z)(function*(i,e,n){const s=ym(i);if(s.vc){for(const l of e){if(s._c.has(l)){on("SyncEngine","Adding an already active target "+l);continue}const u=yield qf(s.localStore,l),m=yield Sh(s.localStore,u);yield sm(s,ly(u),m.targetId,!1,m.resumeToken),Ph(s.remoteStore,m)}for(const l of n)s._c.has(l)&&(yield Ah(s.localStore,l,!1).then(()=>{Nh(s.remoteStore,l),wl(s,l)}).catch(at))}}),sa.apply(this,arguments)}function ym(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=am.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=um.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$h.bind(null,e),e.dc.nu=Zv.bind(null,e.eventManager),e.dc.Pc=Fd.bind(null,e.eventManager),e}function _m(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ry.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e0.bind(null,e),e}class Gu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,me.Z)(function*(){n.serializer=Pd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ng(this.persistence,new Lv,e.initialUser,this.serializer)}createPersistence(e){return new Sg($u.zs,this.serializer)}createSharedClientState(e){return new Vv}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Em extends Gu{constructor(e,n,s){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,me.Z)(function*(){yield n().call(s,e),yield s.Vc.initialize(s,e),yield _m(s.Vc.syncEngine),yield Fh(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ng(this.persistence,new Lv,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Ig(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new Xo(n,this.persistence);return new bi(e.asyncQueue,s)}createPersistence(e){const n=Rg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new xg(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,tp(),np(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Vv}}class hy extends Em{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,me.Z)(function*(){yield n().call(s,e);const l=s.Vc.syncEngine;s.sharedClientState instanceof Qf&&(s.sharedClientState.syncEngine={jr:t0.bind(null,l),zr:uy.bind(null,l),Wr:n0.bind(null,l),$i:cy.bind(null,l),Qr:hm.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var u=(0,me.Z)(function*(m){yield function oy(i,e){return gm.apply(this,arguments)}(s.Vc.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const n=tp();if(!Qf.D(n))throw new Yt(St.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Rg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qf(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class $d{initialize(e,n){var s=this;return(0,me.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>J_(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=sy.bind(null,s.syncEngine),yield Kv(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yv}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),s=new ep(e.databaseInfo);return new z_(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,l=e.asyncQueue,u=A=>J_(this.syncEngine,A,0),m=Jf.D()?new Jf:new U_,new rp(n,s,l,u,m);var n,s,l,u,m}createSyncEngine(e,n){return function(s,l,u,m,A,L,z){const re=new X_(s,l,u,m,A,L);return z&&(re.vc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,me.Z)(function*(n){const s=Mn(n);on("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield jl(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Im(i,e=10240){let n=0;return{read:()=>(0,me.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class r0{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Ur,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,me.Z)(function*(){const n=yield e.kc();if(null===n)return null;const s=e.xc.decode(n),l=Number(s);isNaN(l)&&e.Mc(`length string (${s}) is not valid number`);const u=yield e.$c(l);return new Z_(JSON.parse(u),n.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,me.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}$c(e){var n=this;return(0,me.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const s=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,me.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class Dm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,me.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Yt(St.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,me.Z)(function*(u,m){const A=Mn(u),L=Ed(A.serializer)+"/documents",z={documents:m.map(Ft=>vh(A.serializer,Ft))},re=yield A.vo("BatchGetDocuments",L,z,m.length),Ue=new Map;re.forEach(Ft=>{const fn=function Ev(i,e){return"found"in e?function(n,s){tr(!!s.found);const l=yc(n,s.found.name),u=os(s.found.updateTime),m=s.found.createTime?os(s.found.createTime):jn.min(),A=new li({mapValue:{fields:s.found.fields}});return Ar.newFoundDocument(l,u,m,A)}(i,e):"missing"in e?function(n,s){tr(!!s.missing),tr(!!s.readTime);const l=yc(n,s.missing),u=os(s.readTime);return Ar.newNoDocument(l,u)}(i,e):hn()}(A.serializer,Ft);Ue.set(fn.key.toString(),fn)});const It=[];return m.forEach(Ft=>{const fn=Ue.get(Ft.toString());tr(!!fn),It.push(fn)}),It}),function(u,m){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const u=Dn.fromPath(l);e.mutations.push(new gd(u,e.precondition(u)))}),yield(s=(0,me.Z)(function*(l,u){const m=Mn(l),A=Ed(m.serializer)+"/documents",L={writes:u.map(z=>_c(m.serializer,z))};yield m.Io("Commit",A,L)}),function(l,u){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw hn();n=jn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new Yt(St.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(jn.min())?ss.exists(!1):ss.updateTime(n):ss.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(jn.min()))throw new Yt(St.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ss.updateTime(n)}return ss.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class s0{constructor(e,n,s,l,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=u,this.Bc=s.maxAttempts,this.qo=new xh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,me.Z)(function*(){const n=new Dm(e.datastore),s=e.qc(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.Uc(u)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const n=this.updateFunction(e);return!io(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!vt(n)}return!1}}class o0{constructor(e,n,s,l){var u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=ai.UNAUTHENTICATED,this.clientId=La.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,me.Z)(function*(A){on("FirestoreClient","Received user=",A.uid),yield u.authCredentialListener(A),u.user=A});return function(A){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(on("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yt(St.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=kd(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function _p(i,e){return bm.apply(this,arguments)}function bm(){return bm=(0,me.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),on("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,me.Z)(function*(u){s.isEqual(u)||(yield $v(e.localStore,u),s=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),bm.apply(this,arguments)}function wm(i,e){return Za.apply(this,arguments)}function Za(){return Za=(0,me.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Cm(i);on("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(l=>Zg(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,u)=>Zg(e.remoteStore,u)),i._onlineComponents=e}),Za.apply(this,arguments)}function Ep(i){return"FirebaseError"===i.name?i.code===St.FAILED_PRECONDITION||i.code===St.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Cm(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,me.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){on("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _p(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Ep(n))throw n;Os("Error using user provided cache. Falling back to memory cache: "+n),yield _p(i,new Gu)}}else on("FirestoreClient","Using default OfflineComponentProvider"),yield _p(i,new Gu);return i._offlineComponents}),Ip.apply(this,arguments)}function Dp(i){return bp.apply(this,arguments)}function bp(){return bp=(0,me.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(on("FirestoreClient","Using user provided OnlineComponentProvider"),yield wm(i,i._uninitializedComponentsProvider._online)):(on("FirestoreClient","Using default OnlineComponentProvider"),yield wm(i,new $d))),i._onlineComponents}),bp.apply(this,arguments)}function Tm(i){return Cm(i).then(e=>e.persistence)}function Wu(i){return Cm(i).then(e=>e.localStore)}function wp(i){return Dp(i).then(e=>e.remoteStore)}function fy(i){return Dp(i).then(e=>e.syncEngine)}function qu(i){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,me.Z)(function*(i){const e=yield Dp(i),n=e.eventManager;return n.onListen=Q_.bind(null,e.syncEngine),n.onUnlisten=OE.bind(null,e.syncEngine),n}),Cp.apply(this,arguments)}function gy(i,e,n={}){const s=new Ur;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(l,u,m,A,L){const z=new yp({next:Ue=>{u.enqueueAndForget(()=>tm(l,re));const It=Ue.docs.has(m);!It&&Ue.fromCache?L.reject(new Yt(St.UNAVAILABLE,"Failed to get document because the client is offline.")):It&&Ue.fromCache&&A&&"server"===A.source?L.reject(new Yt(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Ue)},error:Ue=>L.reject(Ue)}),re=new nu(Bc(m.path),z,{includeMetadataChanges:!0,Ku:!0});return lp(l,re)}(yield qu(i),i.asyncQueue,e,n,s)})),s.promise}function Tp(i,e,n={}){const s=new Ur;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(l,u,m,A,L){const z=new yp({next:Ue=>{u.enqueueAndForget(()=>tm(l,re)),Ue.fromCache&&"server"===A.source?L.reject(new Yt(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Ue)},error:Ue=>L.reject(Ue)}),re=new nu(m,z,{includeMetadataChanges:!0,Ku:!0});return lp(l,re)}(yield qu(i),i.asyncQueue,e,n,s)})),s.promise}function Bd(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Mm=new Map;function Vd(i,e,n){if(!n)throw new Yt(St.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function u0(i,e,n,s){if(!0===e&&!0===s)throw new Yt(St.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function vy(i){if(!Dn.isDocumentKey(i))throw new Yt(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function xm(i){if(Dn.isDocumentKey(i))throw new Yt(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":hn()}function _i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Yt(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(i);throw new Yt(St.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function yy(i,e){if(e<=0)throw new Yt(St.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Rm{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Yt(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yt(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Bd(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Yt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Yt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Yt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Yt(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yt(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rm(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new qs;switch(n.type){case"firstParty":return new tc(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Yt(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Mm.get(e);n&&(on("ComponentProvider","Removing Datastore"),Mm.delete(e),n.terminate())}(this),Promise.resolve()}}class ys{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class xo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class Tl extends xo{constructor(e,n,s){super(e,n,Bc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new Dn(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function _y(i,e,...n){if(i=(0,ge.m9)(i),Vd("collection","path",e),i instanceof Ud){const s=qr.fromString(e,...n);return xm(s),new Tl(i,null,s)}{if(!(i instanceof ys||i instanceof Tl))throw new Yt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(qr.fromString(e,...n));return xm(s),new Tl(i.firestore,null,s)}}function iu(i,e,...n){if(i=(0,ge.m9)(i),1===arguments.length&&(e=La.A()),Vd("doc","path",e),i instanceof Ud){const s=qr.fromString(e,...n);return vy(s),new ys(i,null,new Dn(s))}{if(!(i instanceof ys||i instanceof Tl))throw new Yt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(qr.fromString(e,...n));return vy(s),new ys(i.firestore,i instanceof Tl?i.converter:null,new Dn(s))}}function Ey(i,e){return i=(0,ge.m9)(i),e=(0,ge.m9)(e),(i instanceof ys||i instanceof Tl)&&(e instanceof ys||e instanceof Tl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Om(i,e){return i=(0,ge.m9)(i),e=(0,ge.m9)(e),i instanceof xo&&e instanceof xo&&i.firestore===e.firestore&&Su(i._query,e._query)&&i.converter===e.converter}class h0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xh(this,"async_queue_retry"),this.Xc=()=>{const n=np();n&&on("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=np();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=np();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Nr(n))throw n;on("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Yi("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const l=Qg.createAndSchedule(this,e,n,s,u=>this.na(u));return this.zc.push(l),l}Zc(){this.Wc&&hn()}verifyOperationInProgress(){}sa(){var e=this;return(0,me.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Pm(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class f0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _s extends Ud{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new h0,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Iy(this),this._firestoreClient.terminate()}}function Fs(i){return i._firestoreClient||Iy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Iy(i){var e,n,s;const l=i._freezeSettings(),u=(A=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ac(i._databaseId,A,i._persistenceKey,(z=l).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,Bd(z.experimentalLongPollingOptions),z.useFetchStreams));var A,z;i._firestoreClient=new o0(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(n=l.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function Dy(i,e,n){const s=new Ur;return i.asyncQueue.enqueue((0,me.Z)(function*(){try{yield _p(i,n),yield wm(i,e),s.resolve()}catch(l){const u=l;if(!Ep(u))throw u;Os("Error enabling indexeddb cache. Falling back to memory cache: "+u),s.reject(u)}})).then(()=>s.promise)}function Cy(i){if(i._initialized||i._terminated)throw new Yt(St.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(ds.fromBase64String(e))}catch(n){throw new Yt(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Yt(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._methodName=e}}class xp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Yt(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Yt(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _r(this._lat,e._lat)||_r(this._long,e._long)}}const km=/^__.*__$/;class I0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class Al{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hd(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class _o{constructor(e,n,s,l,u,m){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _o(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.aa({path:s,la:!1});return l.fa(e),l}da(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.aa({path:s,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return jh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Hd(this.ca)&&km.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Yu{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pd(e)}ya(e,n,s,l=!1){return new _o({ca:e,methodName:n,ga:s,path:Zi.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wl(i){const e=i._freezeSettings(),n=Pd(i._databaseId);return new Yu(i._databaseId,!!e.ignoreUndefinedProperties,n)}function oa(i,e,n,s,l,u={}){const m=i.ya(u.merge||u.mergeFields?2:0,e,n,l);Rp("Data must be an object, but it was:",m,s);const A=Fm(s,m);let L,z;if(u.merge)L=new to(m.fieldMask),z=m.fieldTransforms;else if(u.mergeFields){const re=[];for(const Ue of u.mergeFields){const It=qd(e,Ue,n);if(!m.contains(It))throw new Yt(St.INVALID_ARGUMENT,`Field '${It}' is specified in your field mask but missing from your input data.`);$m(re,It)||re.push(It)}L=new to(re),z=m.fieldTransforms.filter(Ue=>L.covers(Ue.field))}else L=null,z=m.fieldTransforms;return new I0(new li(A),L,z)}class Zu extends Ku{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zu}}function Xu(i,e,n){return new _o({ca:3,ga:e.settings.ga,methodName:i._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ou extends Ku{_toFieldTransform(e){return new Gc(e.path,new fc)}isEqual(e){return e instanceof ou}}class zd extends Ku{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Xu(this,e,!0),s=this.pa.map(u=>Xa(u,n)),l=new za(s);return new Gc(e.path,l)}isEqual(e){return this===e}}class Gd extends Ku{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Xu(this,e,!0),s=this.pa.map(u=>Xa(u,n)),l=new Ga(s);return new Gc(e.path,l)}isEqual(e){return this===e}}class Wd extends Ku{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new zc(e.serializer,hc(e.serializer,this.Ia));return new Gc(e.path,n)}isEqual(e){return this===e}}function au(i,e,n,s){const l=i.ya(1,e,n);Rp("Data must be an object, but it was:",l,s);const u=[],m=li.empty();va(s,(L,z)=>{const re=Uh(e,L,n);z=(0,ge.m9)(z);const Ue=l.da(re);if(z instanceof Zu)u.push(re);else{const It=Xa(z,Ue);null!=It&&(u.push(re),m.set(re,It))}});const A=new to(u);return new Al(m,A,l.fieldTransforms)}function lu(i,e,n,s,l,u){const m=i.ya(1,e,n),A=[qd(e,s,n)],L=[l];if(u.length%2!=0)throw new Yt(St.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let It=0;It<u.length;It+=2)A.push(qd(e,u[It])),L.push(u[It+1]);const z=[],re=li.empty();for(let It=A.length-1;It>=0;--It)if(!$m(z,A[It])){const Ft=A[It];let fn=L[It];fn=(0,ge.m9)(fn);const Nn=m.da(Ft);if(fn instanceof Zu)z.push(Ft);else{const Vn=Xa(fn,Nn);null!=Vn&&(z.push(Ft),re.set(Ft,Vn))}}const Ue=new to(z);return new Al(re,Ue,m.fieldTransforms)}function Qu(i,e,n,s=!1){return Xa(n,i.ya(s?4:3,e))}function Xa(i,e){if(Lm(i=(0,ge.m9)(i)))return Rp("Unsupported field value:",e,i),Fm(i,e);if(i instanceof Ku)return function(n,s){if(!Hd(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,s){const l=[];let u=0;for(const m of n){let A=Xa(m,s.wa(u));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),u++}return{arrayValue:{values:l}}}(i,e)}return function(n,s){if(null===(n=(0,ge.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return hc(s.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=Si.fromDate(n);return{timestampValue:yd(s.serializer,l)}}if(n instanceof Si){const l=new Si(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yd(s.serializer,l)}}if(n instanceof xp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sl)return{bytesValue:If(s.serializer,n._byteString)};if(n instanceof ys){const l=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw s._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Df(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${Vh(n)}`)}(i,e)}function Fm(i,e){const n={};return Jo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(i,(s,l)=>{const u=Xa(l,e.ha(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function Lm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Si||i instanceof xp||i instanceof Sl||i instanceof ys||i instanceof Ku)}function Rp(i,e,n){if(!Lm(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Vh(n);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function qd(i,e,n){if((e=(0,ge.m9)(e))instanceof su)return e._internalPath;if("string"==typeof e)return Uh(i,e);throw jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Sy=new RegExp("[~\\*/\\[\\]]");function Uh(i,e,n){if(e.search(Sy)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new su(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function jh(i,e,n,s,l){const u=s&&!s.isEmpty(),m=void 0!==l;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let L="";return(u||m)&&(L+=" (found",u&&(L+=` in field ${s}`),m&&(L+=` in document ${l}`),L+=")"),new Yt(St.INVALID_ARGUMENT,A+i+L)}function $m(i,e){return i.some(n=>n.isEqual(e))}class Kd{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Bm extends Kd{data(){return super.data()}}function Op(i,e){return"string"==typeof e?Uh(i,e):e instanceof su?e._internalPath:e._delegate._internalPath}function D0(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Yt(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ay{}class Hh extends Ay{}function cu(i,e,...n){let s=[];e instanceof Ay&&s.push(e),s=s.concat(n),function(l){const u=l.filter(A=>A instanceof zh).length,m=l.filter(A=>A instanceof Pp).length;if(u>1||u>0&&m>0)throw new Yt(St.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Pp extends Hh{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pp(e,n,s)}_apply(e){const n=this._parse(e);return Fp(e._query,n),new xo(e.firestore,e.converter,Cu(e._query,n))}_parse(e){const n=Wl(e.firestore);return function(l,u,m,A,L,z,re){let Ue;if(L.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Yt(St.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Oy(re,z);const It=[];for(const Ft of re)It.push(Ry(A,l,Ft));Ue={arrayValue:{values:It}}}else Ue=Ry(A,l,re)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Oy(re,z),Ue=Qu(m,"where",re,"in"===z||"not-in"===z);return ei.create(L,z,Ue)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class zh extends Ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(s,l){let u=s;const m=l.getFlattenedFilters();for(const A of m)Fp(u,A),u=Cu(u,A)}(e._query,n),new xo(e.firestore,e.converter,Cu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vm extends Hh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vm(e,n)}_apply(e){const n=function(s,l,u){if(null!==s.startAt)throw new Yt(St.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Yt(St.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Ys(l,u);return function(A,L){if(null===Fl(A)){const z=gl(A);null!==z&&Kh(0,z,L.field)}}(s,m),m}(e._query,this._field,this._direction);return new xo(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new Da(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}class uu extends Hh{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new uu(e,n,s)}_apply(e){return new xo(e.firestore,e.converter,Tu(e._query,this._limit,this._limitType))}}class Gh extends Hh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Gh(e,n,s)}_apply(e){const n=xy(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(l=n,new Da((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class kp extends Hh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new kp(e,n,s)}_apply(e){const n=xy(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(l=n,new Da((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function xy(i,e,n,s){if(n[0]=(0,ge.m9)(n[0]),n[0]instanceof Kd)return function(l,u,m,A,L){if(!A)throw new Yt(St.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const z=[];for(const re of Vc(l))if(re.field.isKeyField())z.push(R(u,A.key));else{const Ue=A.data.field(re.field);if(kc(Ue))throw new Yt(St.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const It=re.field.canonicalString();throw new Yt(St.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${It}' (used as the orderBy) does not exist.`)}z.push(Ue)}return new Ao(z,L)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=Wl(i.firestore);return function(u,m,A,L,z,re){const Ue=u.explicitOrderBy;if(z.length>Ue.length)throw new Yt(St.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const It=[];for(let Ft=0;Ft<z.length;Ft++){const fn=z[Ft];if(Ue[Ft].field.isKeyField()){if("string"!=typeof fn)throw new Yt(St.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof fn}`);if(!wu(u)&&-1!==fn.indexOf("/"))throw new Yt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${fn}' contains a slash.`);const Nn=u.path.child(qr.fromString(fn));if(!Dn.isDocumentKey(Nn))throw new Yt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${Nn}' is not because it contains an odd number of segments.`);const Vn=new Dn(Nn);It.push(R(m,Vn))}else{const Nn=Qu(A,L,fn);It.push(Nn)}}return new Ao(It,re)}(i._query,i.firestore._databaseId,l,e,n,s)}}function Ry(i,e,n){if("string"==typeof(n=(0,ge.m9)(n))){if(""===n)throw new Yt(St.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wu(e)&&-1!==n.indexOf("/"))throw new Yt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(qr.fromString(n));if(!Dn.isDocumentKey(s))throw new Yt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return R(i,new Dn(s))}if(n instanceof ys)return R(i,n._key);throw new Yt(St.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function Oy(i,e){if(!Array.isArray(i)||0===i.length)throw new Yt(St.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fp(i,e){if(e.isInequality()){const s=gl(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new Yt(St.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const u=Fl(i);null!==u&&Kh(0,l,u)}const n=function(s,l){for(const u of s)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Yt(St.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Kh(i,e,n){if(!n.isEqual(e))throw new Yt(St.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Py{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw hn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return va(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertGeoPoint(e){return new xp(Ji(e.latitude),Ji(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ho(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){const n=Ra(e);return new Si(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=qr.fromString(e);tr(Mf(s));const l=new Oa(s.get(1),s.get(3)),u=new Dn(s.popFirst(5));return l.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Lp(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class C0 extends Py{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,n)}}class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends Kd{constructor(e,n,s,l,u,m){super(e,n,s,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Op("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yd extends ql{data(e={}){return super.data(e)}}class hu{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new du(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yd(this._firestore,this._userDataWriter,s.key,s,new du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Yt(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Yd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new du(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const A=new Yd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new du(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,z=-1;return 0!==m.type&&(L=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),z=u.indexOf(m.doc.key)),{type:T0(m.type),doc:A,oldIndex:L,newIndex:z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function Fy(i,e){return i instanceof ql&&e instanceof ql?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof hu&&e instanceof hu&&i._firestore===e._firestore&&Om(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Kl extends Py{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,n)}}function Gm(i,e,n){i=_i(i,ys);const s=_i(i.firestore,_s),l=Lp(i.converter,e,n);return fu(s,[oa(Wl(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,ss.none())])}function Ly(i,e,n,...s){i=_i(i,ys);const l=_i(i.firestore,_s),u=Wl(l);let m;return m="string"==typeof(e=(0,ge.m9)(e))||e instanceof su?lu(u,"updateDoc",i._key,e,n,s):au(u,"updateDoc",i._key,e),fu(l,[m.toMutation(i._key,ss.exists(!0))])}function Vp(i,...e){var n,s,l;i=(0,ge.m9)(i);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Pm(e[m])||(u=e[m],m++);const A={includeMetadataChanges:u.includeMetadataChanges};if(Pm(e[m])){const Ue=e[m];e[m]=null===(n=Ue.next)||void 0===n?void 0:n.bind(Ue),e[m+1]=null===(s=Ue.error)||void 0===s?void 0:s.bind(Ue),e[m+2]=null===(l=Ue.complete)||void 0===l?void 0:l.bind(Ue)}let L,z,re;if(i instanceof ys)z=_i(i.firestore,_s),re=Bc(i._key.path),L={next:Ue=>{e[m]&&e[m](Up(z,i,Ue))},error:e[m+1],complete:e[m+2]};else{const Ue=_i(i,xo);z=_i(Ue.firestore,_s),re=Ue._query;const It=new Kl(z);L={next:Ft=>{e[m]&&e[m](new hu(z,It,Ue,Ft))},error:e[m+1],complete:e[m+2]},D0(i._query)}return function(Ue,It,Ft,fn){const Nn=new yp(fn),Vn=new nu(It,Nn,Ft);return Ue.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return lp(yield qu(Ue),Vn)})),()=>{Nn.Dc(),Ue.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return tm(yield qu(Ue),Vn)}))}}(Fs(z),re,A,L)}function fu(i,e){return function(n,s){const l=new Ur;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function PE(i,e,n){return ty.apply(this,arguments)}(yield fy(n),s,l)})),l.promise}(Fs(i),e)}function Up(i,e,n){const s=n.docs.get(e._key),l=new Kl(i);return new ql(i,l,e._key,s,new du(n.hasPendingWrites,n.fromCache),e.converter)}const jy={maxAttempts:5};class Ym{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wl(e)}set(e,n,s){this._verifyNotCommitted();const l=Yl(e,this._firestore),u=Lp(l.converter,n,s),m=oa(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,s);return this._mutations.push(m.toMutation(l._key,ss.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const u=Yl(e,this._firestore);let m;return m="string"==typeof(n=(0,ge.m9)(n))||n instanceof su?lu(this._dataReader,"WriteBatch.update",u._key,n,s,l):au(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(m.toMutation(u._key,ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Yl(e,this._firestore);return this._mutations=this._mutations.concat(new Wc(n._key,ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt(St.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yl(i,e){if((i=(0,ge.m9)(i)).firestore!==e)throw new Yt(St.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Hy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wl(e)}get(e){const n=Yl(e,this._firestore),s=new C0(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return hn();const u=l[0];if(u.isFoundDocument())return new Kd(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Kd(this._firestore,s,n._key,null,n.converter);throw hn()})}set(e,n,s){const l=Yl(e,this._firestore),u=Lp(l.converter,n,s),m=oa(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,s);return this._transaction.set(l._key,m),this}update(e,n,s,...l){const u=Yl(e,this._firestore);let m;return m="string"==typeof(n=(0,ge.m9)(n))||n instanceof su?lu(this._dataReader,"Transaction.update",u._key,n,s,l):au(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,m),this}delete(e){const n=Yl(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Yl(e,this._firestore),s=new Kl(this._firestore);return super.get(e).then(l=>new ql(this._firestore,s,n._key,l._document,new du(!1,!1),n.converter))}}function Zh(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function pu(){if(typeof Uint8Array>"u")throw new Yt("unimplemented","Uint8Arrays are not available in this environment.")}function jp(){if(!function oc(){return typeof atob<"u"}())throw new Yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){sl=ut.SDK_VERSION,(0,ut._registerComponent)(new Re.wA("firestore",(n,{instanceIdentifier:s,options:l})=>{const u=n.getProvider("app").getImmediate(),m=new _s(new Ol(n.getProvider("auth-internal")),new Sc(n.getProvider("app-check-internal")),function(A,L){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Yt(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(A.options.projectId,L)}(u,s),u);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),(0,ut.registerVersion)(pa,"3.13.0",i),(0,ut.registerVersion)(pa,"3.13.0","esm2017")}();class Xh{constructor(e){this._delegate=e}static fromBase64String(e){return jp(),new Xh(Sl.fromBase64String(e))}static fromUint8Array(e){return pu(),new Xh(Sl.fromUint8Array(e))}toBase64(){return jp(),this._delegate.toBase64()}toUint8Array(){return pu(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qh(i){return function zE(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class GE{enableIndexedDbPersistence(e,n){return function Ap(i,e){Cy(i=_i(i,_s));const n=Fs(i);if(n._uninitializedComponentsProvider)throw new Yt(St.FAILED_PRECONDITION,"SDK cache is already specified.");Os("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new $d;return Dy(n,l,new Em(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function m0(i){Cy(i=_i(i,_s));const e=Fs(i);if(e._uninitializedComponentsProvider)throw new Yt(St.FAILED_PRECONDITION,"SDK cache is already specified.");Os("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new $d;return Dy(e,s,new hy(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function v0(i){if(i._initialized&&!i._terminated)throw new Yt(St.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return i._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(n=(0,me.Z)(function*(s){if(!Wn.D())return Promise.resolve();const l=s+"main";yield Wn.delete(l)}),function(s){return n.apply(this,arguments)})(Rg(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class Zy{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Os("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function jd(i,e,n,s={}){var l;const u=(i=_i(i,Ud))._getSettings(),m=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==m&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:m,ssl:!1})),s.mockUserToken){let A,L;if("string"==typeof s.mockUserToken)A=s.mockUserToken,L=ai.MOCK_USER;else{A=(0,ge.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new Yt(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new ai(z)}i._authCredentials=new ga(new ec(A,L))}}(this._delegate,e,n,s)}enableNetwork(){return function _0(i){return function py(i){return i.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Tm(i),n=yield wp(i);return e.setNetworkEnabled(!0),function(s){const l=Mn(s);return l.vu.delete(0),Oh(l)}(n)}))}(Fs(i=_i(i,_s)))}(this._delegate)}disableNetwork(){return function E0(i){return function Am(i){return i.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Tm(i),n=yield wp(i);return e.setNetworkEnabled(!1),(s=(0,me.Z)(function*(l){const u=Mn(l);u.vu.add(0),yield jl(u),u.bu.set("Offline")}),function(l){return s.apply(this,arguments)})(n);var s}))}(Fs(i=_i(i,_s)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,u0("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function y0(i){return function(e){const n=new Ur;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function iy(i,e){return Fr.apply(this,arguments)}(yield fy(e),n)})),n.promise}(Fs(i=_i(i,_s)))}(this._delegate)}onSnapshotsInSync(e){return function Wm(i,e){return function l0(i,e){const n=new yp(e);return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return s=yield qu(i),l=n,Mn(s).ku.add(l),void l.next();var s,l})),()=>{n.Dc(),i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return s=yield qu(i),l=n,void Mn(s).ku.delete(l);var s,l}))}}(Fs(i=_i(i,_s)),Pm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ju(this,_y(this._delegate,e))}catch(n){throw aa(n,"collection()","Firestore.collection()")}}doc(e){try{return new Qa(this,iu(this._delegate,e))}catch(n){throw aa(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new lo(this,function d0(i,e){if(i=_i(i,Ud),Vd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yt(St.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(i,null,(n=e,new Da(qr.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw aa(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zy(i,e,n){i=_i(i,_s);const s=Object.assign(Object.assign({},jy),n);return function(l){if(l.maxAttempts<1)throw new Yt(St.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,u,m){const A=new Ur;return l.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const L=yield function Sm(i){return Dp(i).then(e=>e.datastore)}(l);new s0(l.asyncQueue,L,m,u,A).run()})),A.promise}(Fs(i),l=>e(new Hy(i,l)),s)}(this._delegate,n=>e(new Qy(this,n)))}batch(){return Fs(this._delegate),new ao(new Ym(this._delegate,e=>fu(this._delegate,e)))}loadBundle(e){return function by(i,e){const n=Fs(i=_i(i,_s)),s=new f0;return function my(i,e,n,s){const l=function(u,m){let A;return A="string"==typeof u?Kn().encode(u):u,L=function(L,z){if(L instanceof Uint8Array)return Im(L,z);if(L instanceof ArrayBuffer)return Im(new Uint8Array(L),z);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new r0(L,m);var L}(n,Pd(e));i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function NE(i,e,n){const s=Mn(i);var l;(l=(0,me.Z)(function*(u,m,A){try{const L=yield m.getMetadata();if(yield function(It,Ft){const fn=Mn(It),Nn=os(Ft.createTime);return fn.persistence.runTransaction("hasNewerBundle","readonly",Vn=>fn.qs.getBundleMetadata(Vn,Ft.id)).then(Vn=>!!Vn&&Vn.createTime.compareTo(Nn)>=0)}(u.localStore,L))return yield m.close(),A._completeWith({taskState:"Success",documentsLoaded:(It=L).totalDocuments,bytesLoaded:It.totalBytes,totalDocuments:It.totalDocuments,totalBytes:It.totalBytes}),Promise.resolve(new Set);A._updateProgress(rm(L));const z=new Qv(L,u.localStore,m.serializer);let re=yield m.bc();for(;re;){const It=yield z.zu(re);It&&A._updateProgress(It),re=yield m.bc()}const Ue=yield z.complete();return yield Cl(u,Ue.Ju,void 0),yield function(It,Ft){const fn=Mn(It);return fn.persistence.runTransaction("Save bundle","readwrite",Nn=>fn.qs.saveBundleMetadata(Nn,Ft))}(u.localStore,L),A._completeWith(Ue.progress),Promise.resolve(Ue.Hu)}catch(L){return Os("SyncEngine",`Loading bundle failed with ${L}`),A._failWith(L),Promise.resolve(new Set)}var It}),function(u,m,A){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield fy(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function wy(i,e){return function c0(i,e){return i.asyncQueue.enqueue((0,me.Z)(function*(){return function(n,s){const l=Mn(n);return l.persistence.runTransaction("Get named query","readonly",u=>l.qs.getNamedQuery(u,s))}(yield Wu(i),e)}))}(Fs(i=_i(i,_s)),e).then(n=>n?new xo(i,null,n.query):null)}(this._delegate,e).then(n=>n?new lo(this,n):null)}}class Hp extends Py{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xh(new Sl(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Qa.forKey(n,this.firestore,null)}}class Qy{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Hp(e)}get(e){const n=ed(e);return this._delegate.get(n).then(s=>new Zd(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=ed(e);return s?(Zh("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const u=ed(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...l),this}delete(e){const n=ed(e);return this._delegate.delete(n),this}}class ao{constructor(e){this._delegate=e}set(e,n,s){const l=ed(e);return s?(Zh("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const u=ed(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...l),this}delete(e){const n=ed(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class gu{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new Yd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xd(this._firestore,s),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=gu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let u=l.get(n);return u||(u=new gu(e,new Hp(e),n),l.set(n,u)),u}}gu.INSTANCES=new WeakMap;class Qa{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Hp(e)}static forPath(e,n,s){if(e.length%2!=0)throw new Yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qa(n,new ys(n._delegate,s,new Dn(e)))}static forKey(e,n,s){return new Qa(n,new ys(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Ju(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ju(this.firestore,_y(this._delegate,e))}catch(n){throw aa(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ge.m9)(e))instanceof ys&&Ey(this._delegate,e)}set(e,n){n=Zh("DocumentReference.set",n);try{return n?Gm(this._delegate,e,n):Gm(this._delegate,e)}catch(s){throw aa(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?Ly(this._delegate,e):Ly(this._delegate,e,n,...s)}catch(l){throw aa(l,"updateDoc()","DocumentReference.update()")}}delete(){return function M0(i){return fu(_i(i.firestore,_s),[new Wc(i._key,ss.none())])}(this._delegate)}onSnapshot(...e){const n=Xm(e),s=Jy(e,l=>new Zd(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Vp(this._delegate,n,s)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Hm(i){i=_i(i,ys);const e=_i(i.firestore,_s),n=Fs(e),s=new Kl(e);return function bc(i,e){const n=new Ur;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(s=(0,me.Z)(function*(l,u,m){try{const A=yield function(L,z){const re=Mn(L);return re.persistence.runTransaction("read document","readonly",Ue=>re.localDocuments.getDocument(Ue,z))}(l,u);A.isFoundDocument()?m.resolve(A):A.isNoDocument()?m.resolve(null):m.reject(new Yt(St.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const L=kd(A,`Failed to get document '${u} from cache`);m.reject(L)}}),function(l,u,m){return s.apply(this,arguments)})(yield Wu(i),e,n);var s})),n.promise}(n,i._key).then(l=>new ql(e,s,i._key,l,new du(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function A0(i){i=_i(i,ys);const e=_i(i.firestore,_s);return gy(Fs(e),i._key,{source:"server"}).then(n=>Up(e,i,n))}(this._delegate):function S0(i){i=_i(i,ys);const e=_i(i.firestore,_s);return gy(Fs(e),i._key).then(n=>Up(e,i,n))}(this._delegate),n.then(s=>new Zd(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Qa(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function aa(i,e,n){return i.message=i.message.replace(e,n),i}function Xm(i){for(const e of i)if("object"==typeof e&&!Qh(e))return e;return{}}function Jy(i,e){var n,s;let l;return l=Qh(i[0])?i[0]:Qh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Zd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Fy(this._delegate,e._delegate)}}class Xd extends Zd{data(e){const n=this._delegate.data(e);return function yr(i,e){i||hn()}(void 0!==n),n}}class lo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Hp(e)}where(e,n,s){try{return new lo(this.firestore,cu(this._delegate,function b0(i,e,n){const s=e,l=Op("where",i);return Pp._create(l,s,n)}(e,n,s)))}catch(l){throw aa(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new lo(this.firestore,cu(this._delegate,function Um(i,e="asc"){const n=e,s=Op("orderBy",i);return Vm._create(s,n)}(e,n)))}catch(s){throw aa(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new lo(this.firestore,cu(this._delegate,function jm(i){return yy("limit",i),uu._create("limit",i,"F")}(e)))}catch(n){throw aa(n,"limit()","Query.limit()")}}limitToLast(e){try{return new lo(this.firestore,cu(this._delegate,function Np(i){return yy("limitToLast",i),uu._create("limitToLast",i,"L")}(e)))}catch(n){throw aa(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new lo(this.firestore,cu(this._delegate,function Wh(...i){return Gh._create("startAt",i,!0)}(...e)))}catch(n){throw aa(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new lo(this.firestore,cu(this._delegate,function My(...i){return Gh._create("startAfter",i,!1)}(...e)))}catch(n){throw aa(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new lo(this.firestore,cu(this._delegate,function qh(...i){return kp._create("endBefore",i,!1)}(...e)))}catch(n){throw aa(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new lo(this.firestore,cu(this._delegate,function w0(...i){return kp._create("endAt",i,!0)}(...e)))}catch(n){throw aa(n,"endAt()","Query.endAt()")}}isEqual(e){return Om(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Bp(i){i=_i(i,xo);const e=_i(i.firestore,_s),n=Fs(e),s=new Kl(e);return function a0(i,e){const n=new Ur;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(s=(0,me.Z)(function*(l,u,m){try{const A=yield Wf(l,u,!0),L=new Lh(u,A.ir),z=L.sc(A.documents),re=L.applyChanges(z,!1);m.resolve(re.snapshot)}catch(A){const L=kd(A,`Failed to execute query '${u} against cache`);m.reject(L)}}),function(l,u,m){return s.apply(this,arguments)})(yield Wu(i),e,n);var s})),n.promise}(n,i._query).then(l=>new hu(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function zm(i){i=_i(i,xo);const e=_i(i.firestore,_s),n=Fs(e),s=new Kl(e);return Tp(n,i._query,{source:"server"}).then(l=>new hu(e,s,i,l))}(this._delegate):function $p(i){i=_i(i,xo);const e=_i(i.firestore,_s),n=Fs(e),s=new Kl(e);return D0(i._query),Tp(n,i._query).then(l=>new hu(e,s,i,l))}(this._delegate),n.then(s=>new Qm(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=Xm(e),s=Jy(e,l=>new Qm(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Vp(this._delegate,n,s)}withConverter(e){return new lo(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}class V0{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Xd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qm{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new V0(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new Xd(this._firestore,s))})}isEqual(e){return Fy(this._delegate,e._delegate)}}class Ju extends lo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qa(this.firestore,e):null}doc(e){try{return new Qa(this.firestore,void 0===e?iu(this._delegate):iu(this._delegate,e))}catch(n){throw aa(n,"doc()","CollectionReference.doc()")}}add(e){return function x0(i,e){const n=_i(i.firestore,_s),s=iu(i),l=Lp(i.converter,e);return fu(n,[oa(Wl(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,ss.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new Qa(this.firestore,n))}isEqual(e){return Ey(this._delegate,e._delegate)}withConverter(e){return new Ju(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function ed(i){return _i(i,ys)}class zp{constructor(...e){this._delegate=new su(...e)}static documentId(){return new zp(Zi.keyField().canonicalString())}isEqual(e){return(e=(0,ge.m9)(e))instanceof su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wy(){return new ou("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qd(e)}static delete(){const e=function Gy(){return new Zu("deleteField")}();return e._methodName="FieldValue.delete",new Qd(e)}static arrayUnion(...e){const n=function qy(...i){return new zd("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new Qd(n)}static arrayRemove(...e){const n=function Ky(...i){return new Gd("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new Qd(n)}static increment(e){const n=function Yy(i){return new Wd("increment",i)}(e);return n._methodName="FieldValue.increment",new Qd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e_={Firestore:Zy,GeoPoint:xp,Timestamp:Si,Blob:Xh,Transaction:Qy,WriteBatch:ao,DocumentReference:Qa,DocumentSnapshot:Zd,Query:lo,QueryDocumentSnapshot:Xd,QuerySnapshot:Qm,CollectionReference:Ju,FieldPath:zp,FieldValue:Qd,setLogLevel:function Xy(i){!function Ws(i){To.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Zl(i){(function Jm(i,e){i.INTERNAL.registerComponent(new Re.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},e_)))})(i,(e,n)=>new Zy(e,n,new GE)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(Ie.Z);var mu=x(6796),t_=x(14),Xl=x(120);function Ja(i,e){return function Ml(i,e=g.z){return new K.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(i,e)}function Gp(i,e){return Ja(i,e).pipe((0,le.U)(n=>({payload:n,type:"query"})))}function Wp(i,e){return Gp(i,e).pipe((0,he.O)(void 0),ue(),(0,le.U)(([n,s])=>{const l=s.payload.docChanges(),u=l.map(m=>({type:m.type,payload:m}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,A)=>{const L=l.find(re=>re.doc.ref.isEqual(m.ref)),z=null==n?void 0:n.payload.docs.find(re=>re.ref.isEqual(m.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(m.metadata)||!L&&z&&JSON.stringify(z.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:m}})}),u}))}function r_(i,e,n){return Wp(i,n).pipe((0,be.R)((s,l)=>function U0(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function tv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return ev(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ev(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ev(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(u=>u.payload),e),[]),(0,Ae.x)(),(0,le.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function ev(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function Jd(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class i_{constructor(e,n,s){this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=Wp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,le.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,he.O)(void 0),ue(),(0,Ne.h)(([s,l])=>l.length>0||!s),(0,le.U)(([s,l])=>l),Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=Jd(e);return r_(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return Gp(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(n=>n.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ee.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(Ee.iC)}add(e){return this.ref.add(e)}doc(e){return new nv(this.ref.doc(e),this.afs)}}class nv{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:u}=a_(s,n);return new i_(l,u,this.afs)}snapshotChanges(){return function n_(i,e){return Ja(i,e).pipe((0,he.O)(void 0),ue(),(0,le.U)(([n,s])=>s.exists?null!=n&&n.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(Ee.iC)}}class j0{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Wp(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,Ne.h)(n=>n.length>0),Ee.iC):Wp(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=Jd(e);return r_(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return Gp(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Ee.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(Ee.iC)}}const s_=new f.OlP("angularfire2.enableFirestorePersistence"),rv=new f.OlP("angularfire2.firestore.persistenceSettings"),o_=new f.OlP("angularfire2.firestore.settings"),qp=new f.OlP("angularfire2.firestore.use-emulator");function a_(i,e=(n=>n)){return{query:e(i),ref:i}}let iv=(()=>{class i{constructor(n,s,l,u,m,A,L,z,re,Ue,It,Ft,fn,Nn,Vn,Hr,wi){this.schedulers=L;const zr=(0,Ce.on)(n,A,s),Ls=re;Ue&&(0,mu.nw)(zr,A,It,fn,Nn,Vn,Ft,Hr),[this.firestore,this.persistenceEnabled$]=(0,Ce.cc)(`${zr.name}.firestore`,"AngularFirestore",zr.name,()=>{const ps=A.runOutsideAngular(()=>zr.firestore());if(u&&ps.settings(u),Ls&&ps.useEmulator(...Ls),l&&!(0,Ye.PM)(m)){const as=()=>{try{return(0,ne.D)(ps.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(qo){return typeof console<"u"&&console.warn(qo),(0,Te.of)(!1)}};return[ps,A.runOutsideAngular(as)]}return[ps,(0,Te.of)(!1)]},[u,Ls,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:m}=a_(l,s),A=this.schedulers.ngZone.run(()=>u);return new i_(A,m,this)}collectionGroup(n,s){const l=s||(m=>m),u=this.firestore.collectionGroup(n);return new j0(l(u),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new nv(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(n){return new(n||i)(f.LFG(Ce.Dh),f.LFG(Ce.xv,8),f.LFG(s_,8),f.LFG(o_,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ee.HU),f.LFG(rv,8),f.LFG(qp,8),f.LFG(mu.zQ,8),f.LFG(mu.Qv,8),f.LFG(mu.L6,8),f.LFG(mu._Q,8),f.LFG(mu.rT,8),f.LFG(mu.lh,8),f.LFG(mu.f7,8),f.LFG(t_.nm,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),l_=(()=>{class i{constructor(){Xl.Z.registerVersion("angularfire",Ee.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:i,providers:[{provide:s_,useValue:!0},{provide:rv,useValue:n}]}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[iv]}),i})()},6304:(rn,it,x)=>{"use strict";x.d(it,{Dh:()=>Ge,GT:()=>Ee,cc:()=>Ne,hO:()=>Ae,on:()=>ue,pX:()=>Te,xv:()=>$e});var f=x(5879),g=x(120),K=x(2793);rn=x.hmd(rn);const ne=["ngOnDestroy"],Te=(Ie,me,ut,Re={})=>new Proxy(Ie,{get:(He,ge)=>ut.runOutsideAngular(()=>{var qe;if(Ie[ge])return!(null===(qe=null==Re?void 0:Re.spy)||void 0===qe)&&qe.get&&Re.spy.get(ge,Ie[ge]),Ie[ge];if(ne.indexOf(ge)>-1)return()=>{};const Me=me.toPromise().then(se=>{const ve=se&&se[ge];return"function"==typeof ve?ve.bind(se):ve&&ve.then?ve.then(Oe=>ut.run(()=>Oe)):ut.run(()=>ve)});return new Proxy(()=>{},{get:(se,ve)=>Me[ve],apply:(se,ve,Oe)=>Me.then(Qe=>{var ct;const dt=Qe&&Qe(...Oe);return!(null===(ct=null==Re?void 0:Re.spy)||void 0===ct)&&ct.apply&&Re.spy.apply(ge,Oe,dt),dt})})})}),Ee=(Ie,me)=>{me.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(Re=>{Object.defineProperty(Ie.prototype,Re,Object.getOwnPropertyDescriptor(ut.prototype||ut,Re))})})};class he{constructor(me){return me}}const Ge=new f.OlP("angularfire2.app.options"),$e=new f.OlP("angularfire2.app.name");function ue(Ie,me,ut){const He="object"==typeof ut&&ut||{};He.name=He.name||"string"==typeof ut&&ut||"[DEFAULT]";const qe=g.Z.apps.filter(Me=>Me&&Me.name===He.name)[0]||me.runOutsideAngular(()=>g.Z.initializeApp(Ie,He));try{JSON.stringify(Ie)!==JSON.stringify(qe.options)&&le("error",`${qe.name} Firebase App already initialized with different options${rn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(qe)}const le=(Ie,...me)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ie](...me)},be={provide:he,useFactory:ue,deps:[Ge,f.R0b,[new f.FiY,$e]]};let Ae=(()=>{class Ie{constructor(ut){g.Z.registerVersion("angularfire",K.q4.full,"core"),g.Z.registerVersion("angularfire",K.q4.full,"app-compat"),g.Z.registerVersion("angular",f.q4F.full,ut.toString())}static initializeApp(ut,Re){return{ngModule:Ie,providers:[{provide:Ge,useValue:ut},{provide:$e,useValue:Re}]}}}return Ie.\u0275fac=function(ut){return new(ut||Ie)(f.LFG(f.Lbi))},Ie.\u0275mod=f.oAB({type:Ie}),Ie.\u0275inj=f.cJS({providers:[be]}),Ie})();function Ne(Ie,me,ut,Re,He){const[,ge,qe]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===Ie)||[];if(ge)return function Ce(Ie,me){try{return Ie.toString()===me.toString()}catch{return Ie===me}}(He,qe)||(Ve("error",`${me} was already initialized on the ${ut} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:He,was:qe})),ge;{const Me=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Me,He]),Me}}const Ye=!!rn.hot,Ve=(Ie,...me)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ie](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(rn,it,x)=>{"use strict";x.d(it,{q4:()=>vs,iC:()=>Ea,HU:()=>Oa,vb:()=>kc,JM:()=>go});var f=x(5879),g=x(4097),K=x(5861),ne=x(4303),Te=x(9058),Ee=x(4537),he=x(7879);const Ge=(T,R)=>R.some(G=>T instanceof G);let $e,ue;const Ae=new WeakMap,Ne=new WeakMap,Ce=new WeakMap,Ye=new WeakMap,Ve=new WeakMap;let ut={get(T,R,G){if(T instanceof IDBTransaction){if("done"===R)return Ne.get(T);if("objectStoreNames"===R)return T.objectStoreNames||Ce.get(T);if("store"===R)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return qe(T[R])},set:(T,R,G)=>(T[R]=G,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function ge(T){return"function"==typeof T?function He(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(Me(this),R),qe(Ae.get(this))}:function(...R){return qe(T.apply(Me(this),R))}:function(R,...G){const we=T.call(Me(this),R,...G);return Ce.set(we,R.sort?R.sort():[R]),qe(we)}}(T):(T instanceof IDBTransaction&&function me(T){if(Ne.has(T))return;const R=new Promise((G,we)=>{const et=()=>{T.removeEventListener("complete",pt),T.removeEventListener("error",Pt),T.removeEventListener("abort",Pt)},pt=()=>{G(),et()},Pt=()=>{we(T.error||new DOMException("AbortError","AbortError")),et()};T.addEventListener("complete",pt),T.addEventListener("error",Pt),T.addEventListener("abort",Pt)});Ne.set(T,R)}(T),Ge(T,function le(){return $e||($e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ut):T)}function qe(T){if(T instanceof IDBRequest)return function Ie(T){const R=new Promise((G,we)=>{const et=()=>{T.removeEventListener("success",pt),T.removeEventListener("error",Pt)},pt=()=>{G(qe(T.result)),et()},Pt=()=>{we(T.error),et()};T.addEventListener("success",pt),T.addEventListener("error",Pt)});return R.then(G=>{G instanceof IDBCursor&&Ae.set(G,T)}).catch(()=>{}),Ve.set(R,T),R}(T);if(Ye.has(T))return Ye.get(T);const R=ge(T);return R!==T&&(Ye.set(T,R),Ve.set(R,T)),R}const Me=T=>Ve.get(T),Oe=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],ct=new Map;function dt(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(ct.get(R))return ct.get(R);const G=R.replace(/FromIndex$/,""),we=R!==G,et=Qe.includes(G);if(!(G in(we?IDBIndex:IDBObjectStore).prototype)||!et&&!Oe.includes(G))return;const pt=function(){var Pt=(0,K.Z)(function*(Tn,...wn){const nr=this.transaction(Tn,et?"readwrite":"readonly");let Tr=nr.store;return we&&(Tr=Tr.index(wn.shift())),(yield Promise.all([Tr[G](...wn),et&&nr.done]))[0]});return function(wn){return Pt.apply(this,arguments)}}();return ct.set(R,pt),pt}!function Re(T){ut=T(ut)}(T=>({...T,get:(R,G,we)=>dt(R,G)||T.get(R,G,we),has:(R,G)=>!!dt(R,G)||T.has(R,G)}));const Vt="@firebase/installations",mn="0.6.4",Qt=1e4,ht=`w:${mn}`,ie="FIS_v2",ye="https://firebaseinstallations.googleapis.com/v1",Se=36e5,Rt=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function At(T){return T instanceof Te.ZR&&T.code.includes("request-failed")}function Ht({projectId:T}){return`${ye}/projects/${T}/installations`}function Xe(T){return{token:T.token,requestStatus:2,expiresIn:Hn(T.expiresIn),creationTime:Date.now()}}function Cn(T,R){return yt.apply(this,arguments)}function yt(){return(yt=(0,K.Z)(function*(T,R){const we=(yield R.json()).error;return Rt.create("request-failed",{requestName:T,serverCode:we.code,serverMessage:we.message,serverStatus:we.status})})).apply(this,arguments)}function gt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Ut(T){return tn.apply(this,arguments)}function tn(){return(tn=(0,K.Z)(function*(T){const R=yield T();return R.status>=500&&R.status<600?T():R})).apply(this,arguments)}function Hn(T){return Number(T.replace("s","000"))}function gn(){return(gn=(0,K.Z)(function*({appConfig:T,heartbeatServiceProvider:R},{fid:G}){const we=Ht(T),et=gt(T),pt=R.getImmediate({optional:!0});if(pt){const nr=yield pt.getHeartbeatsHeader();nr&&et.append("x-firebase-client",nr)}const Tn={method:"POST",headers:et,body:JSON.stringify({fid:G,authVersion:ie,appId:T.appId,sdkVersion:ht})},wn=yield Ut(()=>fetch(we,Tn));if(wn.ok){const nr=yield wn.json();return{fid:nr.fid||G,registrationStatus:2,refreshToken:nr.refreshToken,authToken:Xe(nr.authToken)}}throw yield Cn("Create Installation",wn)})).apply(this,arguments)}function Rn(T){return new Promise(R=>{setTimeout(R,T)})}const Er=/^[cdef][\w-]{21}$/,On="";function Pn(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const G=function $n(T){return function xr(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Er.test(G)?G:On}catch{return On}}function ar(T){return`${T.appName}!${T.appId}`}const gr=new Map;function Cr(T,R){const G=ar(T);Wt(G,R),function Jn(T,R){const G=function ir(){return!ti&&"BroadcastChannel"in self&&(ti=new BroadcastChannel("[Firebase] FID Change"),ti.onmessage=T=>{Wt(T.data.key,T.data.fid)}),ti}();G&&G.postMessage({key:T,fid:R}),function Jr(){0===gr.size&&ti&&(ti.close(),ti=null)}()}(G,R)}function Wt(T,R){const G=gr.get(T);if(G)for(const we of G)we(R)}let ti=null;const Mi="firebase-installations-database",ni=1,Lr="firebase-installations-store";let $r=null;function Dt(){return $r||($r=function se(T,R,{blocked:G,upgrade:we,blocking:et,terminated:pt}={}){const Pt=indexedDB.open(T,R),Tn=qe(Pt);return we&&Pt.addEventListener("upgradeneeded",wn=>{we(qe(Pt.result),wn.oldVersion,wn.newVersion,qe(Pt.transaction))}),G&&Pt.addEventListener("blocked",()=>G()),Tn.then(wn=>{pt&&wn.addEventListener("close",()=>pt()),et&&wn.addEventListener("versionchange",()=>et())}).catch(()=>{}),Tn}(Mi,ni,{upgrade:(T,R)=>{0===R&&T.createObjectStore(Lr)}})),$r}function We(T,R){return wt.apply(this,arguments)}function wt(){return(wt=(0,K.Z)(function*(T,R){const G=ar(T),et=(yield Dt()).transaction(Lr,"readwrite"),pt=et.objectStore(Lr),Pt=yield pt.get(G);return yield pt.put(R,G),yield et.done,(!Pt||Pt.fid!==R.fid)&&Cr(T,R.fid),R})).apply(this,arguments)}function Kt(T){return sn.apply(this,arguments)}function sn(){return(sn=(0,K.Z)(function*(T){const R=ar(T),we=(yield Dt()).transaction(Lr,"readwrite");yield we.objectStore(Lr).delete(R),yield we.done})).apply(this,arguments)}function vn(T,R){return zn.apply(this,arguments)}function zn(){return(zn=(0,K.Z)(function*(T,R){const G=ar(T),et=(yield Dt()).transaction(Lr,"readwrite"),pt=et.objectStore(Lr),Pt=yield pt.get(G),Tn=R(Pt);return void 0===Tn?yield pt.delete(G):yield pt.put(Tn,G),yield et.done,Tn&&(!Pt||Pt.fid!==Tn.fid)&&Cr(T,Tn.fid),Tn})).apply(this,arguments)}function ke(T){return Z.apply(this,arguments)}function Z(){return Z=(0,K.Z)(function*(T){let R;const G=yield vn(T.appConfig,we=>{const et=function Y(T){return en(T||{fid:Pn(),registrationStatus:0})}(we),pt=function xe(T,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Rt.create("app-offline"))};const G={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},we=function ee(T,R){return Be.apply(this,arguments)}(T,G);return{installationEntry:G,registrationPromise:we}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:bt(T)}:{installationEntry:R}}(T,et);return R=pt.registrationPromise,pt.installationEntry});return G.fid===On?{installationEntry:yield R}:{installationEntry:G,registrationPromise:R}}),Z.apply(this,arguments)}function Be(){return Be=(0,K.Z)(function*(T,R){try{const G=yield function dn(T,R){return gn.apply(this,arguments)}(T,R);return We(T.appConfig,G)}catch(G){throw At(G)&&409===G.customData.serverCode?yield Kt(T.appConfig):yield We(T.appConfig,{fid:R.fid,registrationStatus:0}),G}}),Be.apply(this,arguments)}function bt(T){return kt.apply(this,arguments)}function kt(){return(kt=(0,K.Z)(function*(T){let R=yield An(T.appConfig);for(;1===R.registrationStatus;)yield Rn(100),R=yield An(T.appConfig);if(0===R.registrationStatus){const{installationEntry:G,registrationPromise:we}=yield ke(T);return we||G}return R})).apply(this,arguments)}function An(T){return vn(T,R=>{if(!R)throw Rt.create("installation-not-found");return en(R)})}function en(T){return function Fn(T){return 1===T.registrationStatus&&T.registrationTime+Qt<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Rr(){return(Rr=(0,K.Z)(function*({appConfig:T,heartbeatServiceProvider:R},G){const we=function nt(T,{fid:R}){return`${Ht(T)}/${R}/authTokens:generate`}(T,G),et=function mt(T,{refreshToken:R}){const G=gt(T);return G.append("Authorization",function kn(T){return`${ie} ${T}`}(R)),G}(T,G),pt=R.getImmediate({optional:!0});if(pt){const nr=yield pt.getHeartbeatsHeader();nr&&et.append("x-firebase-client",nr)}const Tn={method:"POST",headers:et,body:JSON.stringify({installation:{sdkVersion:ht,appId:T.appId}})},wn=yield Ut(()=>fetch(we,Tn));if(wn.ok)return Xe(yield wn.json());throw yield Cn("Generate Auth Token",wn)})).apply(this,arguments)}function Fe(T){return _t.apply(this,arguments)}function _t(){return _t=(0,K.Z)(function*(T,R=!1){let G;const we=yield vn(T.appConfig,pt=>{if(!er(pt))throw Rt.create("not-registered");const Pt=pt.authToken;if(!R&&function Qn(T){return 2===T.requestStatus&&!function Gr(T){const R=Date.now();return R<T.creationTime||T.creationTime+T.expiresIn<R+Se}(T)}(Pt))return pt;if(1===Pt.requestStatus)return G=function ft(T,R){return qt.apply(this,arguments)}(T,R),pt;{if(!navigator.onLine)throw Rt.create("app-offline");const Tn=function xi(T){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:R})}(pt);return G=function Sn(T,R){return Zt.apply(this,arguments)}(T,Tn),Tn}});return G?yield G:we.authToken}),_t.apply(this,arguments)}function qt(){return(qt=(0,K.Z)(function*(T,R){let G=yield jt(T.appConfig);for(;1===G.authToken.requestStatus;)yield Rn(100),G=yield jt(T.appConfig);const we=G.authToken;return 0===we.requestStatus?Fe(T,R):we})).apply(this,arguments)}function jt(T){return vn(T,R=>{if(!er(R))throw Rt.create("not-registered");return function dr(T){return 1===T.requestStatus&&T.requestTime+Qt<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function Zt(){return Zt=(0,K.Z)(function*(T,R){try{const G=yield function Yn(T,R){return Rr.apply(this,arguments)}(T,R),we=Object.assign(Object.assign({},R),{authToken:G});return yield We(T.appConfig,we),G}catch(G){if(!At(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const we=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield We(T.appConfig,we)}else yield Kt(T.appConfig);throw G}}),Zt.apply(this,arguments)}function er(T){return void 0!==T&&2===T.registrationStatus}function Mr(){return(Mr=(0,K.Z)(function*(T){const R=T,{installationEntry:G,registrationPromise:we}=yield ke(R);return we?we.catch(console.error):Fe(R).catch(console.error),G.fid})).apply(this,arguments)}function Pr(){return Pr=(0,K.Z)(function*(T,R=!1){const G=T;return yield function br(T){return Wr.apply(this,arguments)}(G),(yield Fe(G,R)).token}),Pr.apply(this,arguments)}function Wr(){return(Wr=(0,K.Z)(function*(T){const{registrationPromise:R}=yield ke(T);R&&(yield R)})).apply(this,arguments)}function hi(T){return Rt.create("missing-app-config-values",{valueName:T})}const J="installations",De=T=>{const R=T.getProvider("app").getImmediate(),G=function Kr(T){if(!T||!T.options)throw hi("App Configuration");if(!T.name)throw hi("App Name");const R=["projectId","apiKey","appId"];for(const G of R)if(!T.options[G])throw hi(G);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(R);return{app:R,appConfig:G,heartbeatServiceProvider:(0,ne.qX)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Pe=T=>{const R=T.getProvider("app").getImmediate(),G=(0,ne.qX)(R,J).getImmediate();return{getId:()=>function Or(T){return Mr.apply(this,arguments)}(G),getToken:et=>function cr(T){return Pr.apply(this,arguments)}(G,et)}};(function Et(){(0,ne.Xd)(new Ee.wA(J,De,"PUBLIC")),(0,ne.Xd)(new Ee.wA("installations-internal",Pe,"PRIVATE"))})(),(0,ne.KN)(Vt,mn),(0,ne.KN)(Vt,mn,"esm2017");const st="@firebase/remote-config",ln=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gn{constructor(R,G,we,et){this.client=R,this.storage=G,this.storageCache=we,this.logger=et}isCachedDataFresh(R,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const we=Date.now()-G,et=we<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${we}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${et}.`),et}fetch(R){var G=this;return(0,K.Z)(function*(){const[we,et]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(et&&G.isCachedDataFresh(R.cacheMaxAgeMillis,we))return et;R.eTag=et&&et.eTag;const pt=yield G.client.fetch(R),Pt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pt.status&&Pt.push(G.storage.setLastSuccessfulFetchResponse(pt)),yield Promise.all(Pt),pt})()}}function Yr(T=navigator){return T.languages&&T.languages[0]||T.language}class ui{constructor(R,G,we,et,pt,Pt){this.firebaseInstallations=R,this.sdkVersion=G,this.namespace=we,this.projectId=et,this.apiKey=pt,this.appId=Pt}fetch(R){var G=this;return(0,K.Z)(function*(){const[we,et]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Tn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},wn={sdk_version:G.sdkVersion,app_instance_id:we,app_instance_id_token:et,app_id:G.appId,language_code:Yr()},nr={method:"POST",headers:Tn,body:JSON.stringify(wn)},Tr=fetch(Pt,nr),Sr=new Promise((so,Ia)=>{R.signal.addEventListener(()=>{const Ys=new Error("The operation was aborted.");Ys.name="AbortError",Ia(Ys)})});let Ks;try{yield Promise.race([Tr,Sr]),Ks=yield Tr}catch(so){let Ia="fetch-client-network";throw"AbortError"===(null==so?void 0:so.name)&&(Ia="fetch-timeout"),ln.create(Ia,{originalErrorMessage:null==so?void 0:so.message})}let li=Ks.status;const fl=Ks.headers.get("ETag")||void 0;let Ar,Ao;if(200===Ks.status){let so;try{so=yield Ks.json()}catch(Ia){throw ln.create("fetch-client-parse",{originalErrorMessage:null==Ia?void 0:Ia.message})}Ar=so.entries,Ao=so.state}if("INSTANCE_STATE_UNSPECIFIED"===Ao?li=500:"NO_CHANGE"===Ao?li=304:("NO_TEMPLATE"===Ao||"EMPTY_CONFIG"===Ao)&&(Ar={}),304!==li&&200!==li)throw ln.create("fetch-status",{httpStatus:li});return{status:li,eTag:fl,config:Ar}})()}}class Io{constructor(R,G){this.client=R,this.storage=G}fetch(R){var G=this;return(0,K.Z)(function*(){const we=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(R,we)})()}attemptFetch(R,{throttleEndTimeMillis:G,backoffCount:we}){var et=this;return(0,K.Z)(function*(){yield function Is(T,R){return new Promise((G,we)=>{const et=Math.max(R-Date.now(),0),pt=setTimeout(G,et);T.addEventListener(()=>{clearTimeout(pt),we(ln.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,G);try{const pt=yield et.client.fetch(R);return yield et.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function Ii(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(pt))throw pt;const Pt={throttleEndTimeMillis:Date.now()+(0,Te.$s)(we),backoffCount:we+1};return yield et.storage.setThrottleMetadata(Pt),et.attemptFetch(R,Pt)}})()}}class co{constructor(R,G,we,et,pt){this.app=R,this._client=G,this._storageCache=we,this._storage=et,this._logger=pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bn(T,R){const G=T.target.error||void 0;return ln.create(R,{originalErrorMessage:G&&(null==G?void 0:G.message)})}const fi="app_namespace_store";class Zr{constructor(R,G,we,et=function ii(){return new Promise((T,R)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=we=>{R(Bn(we,"storage-open"))},G.onsuccess=we=>{T(we.target.result)},G.onupgradeneeded=we=>{0===we.oldVersion&&we.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(G){R(ln.create("storage-open",{originalErrorMessage:null==G?void 0:G.message}))}})}()){this.appId=R,this.appName=G,this.namespace=we,this.openDbPromise=et}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var G=this;return(0,K.Z)(function*(){const we=yield G.openDbPromise;return new Promise((et,pt)=>{const Tn=we.transaction([fi],"readonly").objectStore(fi),wn=G.createCompositeKey(R);try{const nr=Tn.get(wn);nr.onerror=Tr=>{pt(Bn(Tr,"storage-get"))},nr.onsuccess=Tr=>{const Sr=Tr.target.result;et(Sr?Sr.value:void 0)}}catch(nr){pt(ln.create("storage-get",{originalErrorMessage:null==nr?void 0:nr.message}))}})})()}set(R,G){var we=this;return(0,K.Z)(function*(){const et=yield we.openDbPromise;return new Promise((pt,Pt)=>{const wn=et.transaction([fi],"readwrite").objectStore(fi),nr=we.createCompositeKey(R);try{const Tr=wn.put({compositeKey:nr,value:G});Tr.onerror=Sr=>{Pt(Bn(Sr,"storage-set"))},Tr.onsuccess=()=>{pt()}}catch(Tr){Pt(ln.create("storage-set",{originalErrorMessage:null==Tr?void 0:Tr.message}))}})})()}delete(R){var G=this;return(0,K.Z)(function*(){const we=yield G.openDbPromise;return new Promise((et,pt)=>{const Tn=we.transaction([fi],"readwrite").objectStore(fi),wn=G.createCompositeKey(R);try{const nr=Tn.delete(wn);nr.onerror=Tr=>{pt(Bn(Tr,"storage-delete"))},nr.onsuccess=()=>{et()}}catch(nr){pt(ln.create("storage-delete",{originalErrorMessage:null==nr?void 0:nr.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class $s{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,K.Z)(function*(){const G=R.storage.getLastFetchStatus(),we=R.storage.getLastSuccessfulFetchTimestampMillis(),et=R.storage.getActiveConfig(),pt=yield G;pt&&(R.lastFetchStatus=pt);const Pt=yield we;Pt&&(R.lastSuccessfulFetchTimestampMillis=Pt);const Tn=yield et;Tn&&(R.activeConfig=Tn)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Bs(){return ms.apply(this,arguments)}function ms(){return(ms=(0,K.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function vi(){(0,ne.Xd)(new Ee.wA("remote-config",function T(R,{instanceIdentifier:G}){const we=R.getProvider("app").getImmediate(),et=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ln.create("registration-window");if(!(0,Te.hl)())throw ln.create("indexed-db-unavailable");const{projectId:pt,apiKey:Pt,appId:Tn}=we.options;if(!pt)throw ln.create("registration-project-id");if(!Pt)throw ln.create("registration-api-key");if(!Tn)throw ln.create("registration-app-id");const wn=new Zr(Tn,we.name,G=G||"firebase"),nr=new $s(wn),Tr=new he.Yd(st);Tr.logLevel=he.in.ERROR;const Sr=new ui(et,ne.Jn,G,pt,Pt,Tn),Ks=new Io(Sr,wn),li=new Gn(Ks,wn,nr,Tr),fl=new co(we,li,nr,wn,Tr);return function Xn(T){const R=(0,Te.m9)(T);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(fl),fl},"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(st,"0.4.4"),(0,ne.KN)(st,"0.4.4","esm2017")}();const Vs=(T,R)=>R.some(G=>T instanceof G);let uo,hr;const bo=new WeakMap,Ri=new WeakMap,Oi=new WeakMap,yi=new WeakMap,Ds=new WeakMap;let Vi={get(T,R,G){if(T instanceof IDBTransaction){if("done"===R)return Ri.get(T);if("objectStoreNames"===R)return T.objectStoreNames||Oi.get(T);if("store"===R)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Gi(T[R])},set:(T,R,G)=>(T[R]=G,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function js(T){return"function"==typeof T?function Us(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ts(){return hr||(hr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(Ni(this),R),Gi(bo.get(this))}:function(...R){return Gi(T.apply(Ni(this),R))}:function(R,...G){const we=T.call(Ni(this),R,...G);return Oi.set(we,R.sort?R.sort():[R]),Gi(we)}}(T):(T instanceof IDBTransaction&&function la(T){if(Ri.has(T))return;const R=new Promise((G,we)=>{const et=()=>{T.removeEventListener("complete",pt),T.removeEventListener("error",Pt),T.removeEventListener("abort",Pt)},pt=()=>{G(),et()},Pt=()=>{we(T.error||new DOMException("AbortError","AbortError")),et()};T.addEventListener("complete",pt),T.addEventListener("error",Pt),T.addEventListener("abort",Pt)});Ri.set(T,R)}(T),Vs(T,function ho(){return uo||(uo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Vi):T)}function Gi(T){if(T instanceof IDBRequest)return function ji(T){const R=new Promise((G,we)=>{const et=()=>{T.removeEventListener("success",pt),T.removeEventListener("error",Pt)},pt=()=>{G(Gi(T.result)),et()},Pt=()=>{we(T.error),et()};T.addEventListener("success",pt),T.addEventListener("error",Pt)});return R.then(G=>{G instanceof IDBCursor&&bo.set(G,T)}).catch(()=>{}),Ds.set(R,T),R}(T);if(yi.has(T))return yi.get(T);const R=js(T);return R!==T&&(yi.set(T,R),Ds.set(R,T)),R}const Ni=T=>Ds.get(T);function cs(T,R,{blocked:G,upgrade:we,blocking:et,terminated:pt}={}){const Pt=indexedDB.open(T,R),Tn=Gi(Pt);return we&&Pt.addEventListener("upgradeneeded",wn=>{we(Gi(Pt.result),wn.oldVersion,wn.newVersion,Gi(Pt.transaction))}),G&&Pt.addEventListener("blocked",()=>G()),Tn.then(wn=>{pt&&wn.addEventListener("close",()=>pt()),et&&wn.addEventListener("versionchange",()=>et())}).catch(()=>{}),Tn}function Fo(T,{blocked:R}={}){const G=indexedDB.deleteDatabase(T);return R&&G.addEventListener("blocked",()=>R()),Gi(G).then(()=>{})}const Lo=["get","getKey","getAll","getAllKeys","count"],Ro=["put","add","delete","clear"],wo=new Map;function $o(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(wo.get(R))return wo.get(R);const G=R.replace(/FromIndex$/,""),we=R!==G,et=Ro.includes(G);if(!(G in(we?IDBIndex:IDBObjectStore).prototype)||!et&&!Lo.includes(G))return;const pt=function(){var Pt=(0,K.Z)(function*(Tn,...wn){const nr=this.transaction(Tn,et?"readwrite":"readonly");let Tr=nr.store;return we&&(Tr=Tr.index(wn.shift())),(yield Promise.all([Tr[G](...wn),et&&nr.done]))[0]});return function(wn){return Pt.apply(this,arguments)}}();return wo.set(R,pt),pt}!function Hi(T){Vi=T(Vi)}(T=>({...T,get:(R,G,we)=>$o(R,G)||T.get(R,G,we),has:(R,G)=>!!$o(R,G)||T.has(R,G)}));const fo="/firebase-messaging-sw.js",Co="/firebase-cloud-messaging-push-scope",Ko="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nl="https://fcmregistrations.googleapis.com/v1",di="google.c.a.c_id",ca="google.c.a.c_l",ka="google.c.a.ts";var oe=function(T){return T.PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",T}(oe||{});function $(T){const R=new Uint8Array(T);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function de(T){const G=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),we=atob(G),et=new Uint8Array(we.length);for(let pt=0;pt<we.length;++pt)et[pt]=we.charCodeAt(pt);return et}const Gt="fcm_token_details_db",y=5,V="fcm_token_object_Store";function F(){return F=(0,K.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pt=>pt.name).includes(Gt))return null;let R=null;return(yield cs(Gt,y,{upgrade:(we=(0,K.Z)(function*(et,pt,Pt,Tn){var wn;if(pt<2||!et.objectStoreNames.contains(V))return;const nr=Tn.objectStore(V),Tr=yield nr.index("fcmSenderId").get(T);if(yield nr.clear(),Tr)if(2===pt){const Sr=Tr;if(!Sr.auth||!Sr.p256dh||!Sr.endpoint)return;R={token:Sr.fcmToken,createTime:null!==(wn=Sr.createTime)&&void 0!==wn?wn:Date.now(),subscriptionOptions:{auth:Sr.auth,p256dh:Sr.p256dh,endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:"string"==typeof Sr.vapidKey?Sr.vapidKey:$(Sr.vapidKey)}}}else if(3===pt){const Sr=Tr;R={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:$(Sr.auth),p256dh:$(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:$(Sr.vapidKey)}}}else if(4===pt){const Sr=Tr;R={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:$(Sr.auth),p256dh:$(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:$(Sr.vapidKey)}}}}),function(pt,Pt,Tn,wn){return we.apply(this,arguments)})})).close(),yield Fo(Gt),yield Fo("fcm_vapid_details_db"),yield Fo("undefined"),function te(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:R}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var we}),F.apply(this,arguments)}const Tt="firebase-messaging-database",En=1,In="firebase-messaging-store";let Un=null;function mr(){return Un||(Un=cs(Tt,En,{upgrade:(T,R)=>{0===R&&T.createObjectStore(In)}})),Un}function Xr(T){return ns.apply(this,arguments)}function ns(){return ns=(0,K.Z)(function*(T){const R=Bo(T),we=yield(yield mr()).transaction(In).objectStore(In).get(R);if(we)return we;{const et=yield function E(T){return F.apply(this,arguments)}(T.appConfig.senderId);if(et)return yield rs(T,et),et}}),ns.apply(this,arguments)}function rs(T,R){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,K.Z)(function*(T,R){const G=Bo(T),et=(yield mr()).transaction(In,"readwrite");return yield et.objectStore(In).put(R,G),yield et.done,R})).apply(this,arguments)}function Xs(){return(Xs=(0,K.Z)(function*(T){const R=Bo(T),we=(yield mr()).transaction(In,"readwrite");yield we.objectStore(In).delete(R),yield we.done})).apply(this,arguments)}function Bo({appConfig:T}){return T.appId}const Ki=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fa(T,R){return wa.apply(this,arguments)}function wa(){return(wa=(0,K.Z)(function*(T,R){const G=yield Uo(T),we=Jl(R),et={method:"POST",headers:G,body:JSON.stringify(we)};let pt;try{pt=yield(yield fetch(da(T.appConfig),et)).json()}catch(Pt){throw Ki.create("token-subscribe-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}if(pt.error)throw Ki.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw Ki.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function ua(){return(ua=(0,K.Z)(function*(T,R){const G=yield Uo(T),we=Jl(R.subscriptionOptions),et={method:"PATCH",headers:G,body:JSON.stringify(we)};let pt;try{pt=yield(yield fetch(`${da(T.appConfig)}/${R.token}`,et)).json()}catch(Pt){throw Ki.create("token-update-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}if(pt.error)throw Ki.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw Ki.create("token-update-no-token");return pt.token})).apply(this,arguments)}function Qs(T,R){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,K.Z)(function*(T,R){const we={method:"DELETE",headers:yield Uo(T)};try{const pt=yield(yield fetch(`${da(T.appConfig)}/${R}`,we)).json();if(pt.error)throw Ki.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(et){throw Ki.create("token-unsubscribe-failed",{errorInfo:null==et?void 0:et.toString()})}})).apply(this,arguments)}function da({projectId:T}){return`${nl}/projects/${T}/registrations`}function Uo(T){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,K.Z)(function*({appConfig:T,installations:R}){const G=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Jl({p256dh:T,auth:R,endpoint:G,vapidKey:we}){const et={web:{endpoint:G,auth:R,p256dh:T}};return we!==Ko&&(et.web.applicationPubKey=we),et}const rl=6048e5;function Sa(){return Sa=(0,K.Z)(function*(T){const R=yield function Yo(T,R){return si.apply(this,arguments)}(T.swRegistration,T.vapidKey),G={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:R.endpoint,auth:$(R.getKey("auth")),p256dh:$(R.getKey("p256dh"))},we=yield Xr(T.firebaseDependencies);if(we){if(function C(T,R){return R.vapidKey===T.vapidKey&&R.endpoint===T.endpoint&&R.auth===T.auth&&R.p256dh===T.p256dh}(we.subscriptionOptions,G))return Date.now()>=we.createTime+rl?function Rl(T,R){return po.apply(this,arguments)}(T,{token:we.token,createTime:Date.now(),subscriptionOptions:G}):we.token;try{yield Qs(T.firebaseDependencies,we.token)}catch(et){console.warn(et)}return Cc(T.firebaseDependencies,G)}return Cc(T.firebaseDependencies,G)}),Sa.apply(this,arguments)}function ha(){return ha=(0,K.Z)(function*(T){const R=yield Xr(T.firebaseDependencies);R&&(yield Qs(T.firebaseDependencies,R.token),yield function bs(T){return Xs.apply(this,arguments)}(T.firebaseDependencies));const G=yield T.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),ha.apply(this,arguments)}function po(){return po=(0,K.Z)(function*(T,R){try{const G=yield function Ca(T,R){return ua.apply(this,arguments)}(T.firebaseDependencies,R),we=Object.assign(Object.assign({},R),{token:G,createTime:Date.now()});return yield rs(T.firebaseDependencies,we),G}catch(G){throw yield function xs(T){return ha.apply(this,arguments)}(T),G}}),po.apply(this,arguments)}function Cc(T,R){return ws.apply(this,arguments)}function ws(){return(ws=(0,K.Z)(function*(T,R){const we={token:yield Fa(T,R),createTime:Date.now(),subscriptionOptions:R};return yield rs(T,we),we.token})).apply(this,arguments)}function si(){return(si=(0,K.Z)(function*(T,R){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:de(R)})})).apply(this,arguments)}function U(T){const R={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function _e(T,R){if(!R.notification)return;T.notification={};const G=R.notification.title;G&&(T.notification.title=G);const we=R.notification.body;we&&(T.notification.body=we);const et=R.notification.image;et&&(T.notification.image=et);const pt=R.notification.icon;pt&&(T.notification.icon=pt)}(R,T),function k(T,R){R.data&&(T.data=R.data)}(R,T),function ce(T,R){var G,we,et,pt,Pt;if(!(R.fcmOptions||null!==(G=R.notification)&&void 0!==G&&G.click_action))return;T.fcmOptions={};const Tn=null!==(et=null===(we=R.fcmOptions)||void 0===we?void 0:we.link)&&void 0!==et?et:null===(pt=R.notification)||void 0===pt?void 0:pt.click_action;Tn&&(T.fcmOptions.link=Tn);const wn=null===(Pt=R.fcmOptions)||void 0===Pt?void 0:Pt.analytics_label;wn&&(T.fcmOptions.analyticsLabel=wn)}(R,T),R}function Ot(T,R){const G=[];for(let we=0;we<T.length;we++)G.push(T.charAt(we)),we<R.length&&G.push(R.charAt(we));return G.join("")}function fr(T){return Ki.create("missing-app-config-values",{valueName:T})}Ot("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ot("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vr{constructor(R,G,we){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const et=function an(T){if(!T||!T.options)throw fr("App Configuration Object");if(!T.name)throw fr("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:G}=T;for(const we of R)if(!G[we])throw fr(we);return{appName:T.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:et,installations:G,analyticsProvider:we}}_delete(){return Promise.resolve()}}function pr(){return(pr=(0,K.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(fo,{scope:Co}),T.swRegistration.update().catch(()=>{})}catch(R){throw Ki.create("failed-service-worker-registration",{browserErrorMessage:null==R?void 0:R.message})}})).apply(this,arguments)}function Vr(){return(Vr=(0,K.Z)(function*(T,R){if(!R&&!T.swRegistration&&(yield function or(T){return pr.apply(this,arguments)}(T)),R||!T.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Ki.create("invalid-sw-registration");T.swRegistration=R}})).apply(this,arguments)}function zs(){return(zs=(0,K.Z)(function*(T,R){R?T.vapidKey=R:T.vapidKey||(T.vapidKey=Ko)})).apply(this,arguments)}function Gs(){return Gs=(0,K.Z)(function*(T,R){if(!navigator)throw Ki.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ki.create("permission-blocked");return yield function oi(T,R){return zs.apply(this,arguments)}(T,null==R?void 0:R.vapidKey),yield function Di(T,R){return Vr.apply(this,arguments)}(T,null==R?void 0:R.serviceWorkerRegistration),function xl(T){return Sa.apply(this,arguments)}(T)}),Gs.apply(this,arguments)}function is(){return(is=(0,K.Z)(function*(T,R,G){const we=function jo(T){switch(T){case oe.NOTIFICATION_CLICKED:return"notification_open";case oe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(we,{message_id:G[di],message_name:G[ca],message_time:G[ka],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pi(){return pi=(0,K.Z)(function*(T,R){const G=R.data;if(!G.isFirebaseMessaging)return;T.onMessageHandler&&G.messageType===oe.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(U(G)):T.onMessageHandler.next(U(G)));const we=G.data;(function je(T){return"object"==typeof T&&!!T&&di in T})(we)&&"1"===we["google.c.a.e"]&&(yield function ro(T,R,G){return is.apply(this,arguments)}(T,G.messageType,we))}),pi.apply(this,arguments)}const Cs="@firebase/messaging",Ts=T=>{const R=new vr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function Zo(T,R){return pi.apply(this,arguments)}(R,G)),R},il=T=>{const R=T.getProvider("messaging").getImmediate();return{getToken:we=>function Rs(T,R){return Gs.apply(this,arguments)}(R,we)}};function pa(){return ai.apply(this,arguments)}function ai(){return(ai=(0,K.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Aa(){(0,ne.Xd)(new Ee.wA("messaging",Ts,"PUBLIC")),(0,ne.Xd)(new Ee.wA("messaging-internal",il,"PRIVATE")),(0,ne.KN)(Cs,"0.12.4"),(0,ne.KN)(Cs,"0.12.4","esm2017")}();const hn="analytics",tr="firebase_id",yr="origin",Mn=6e4,St="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yt="https://www.googletagmanager.com/gtag/js",Ur=new he.Yd("@firebase/analytics"),qs=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ga(T){if(!T.startsWith(Yt)){const R=qs.create("invalid-gtag-resource",{gtagURL:T});return Ur.warn(R.message),""}return T}function Ol(T){return Promise.all(T.map(R=>R.catch(G=>G)))}function Xt(){return(Xt=(0,K.Z)(function*(T,R,G,we,et,pt){const Pt=we[et];try{if(Pt)yield R[Pt];else{const wn=(yield Ol(G)).find(nr=>nr.measurementId===et);wn&&(yield R[wn.appId])}}catch(Tn){Ur.error(Tn)}T("config",et,pt)})).apply(this,arguments)}function La(){return(La=(0,K.Z)(function*(T,R,G,we,et){try{let pt=[];if(et&&et.send_to){let Pt=et.send_to;Array.isArray(Pt)||(Pt=[Pt]);const Tn=yield Ol(G);for(const wn of Pt){const nr=Tn.find(Sr=>Sr.measurementId===wn),Tr=nr&&R[nr.appId];if(!Tr){pt=[];break}pt.push(Tr)}}0===pt.length&&(pt=Object.values(R)),yield Promise.all(pt),T("event",we,et||{})}catch(pt){Ur.error(pt)}})).apply(this,arguments)}const Si=30,qr=new class So{constructor(R={},G=1e3){this.throttleMetadata=R,this.intervalMillis=G}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,G){this.throttleMetadata[R]=G}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function yu(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Dn(){return(Dn=(0,K.Z)(function*(T){var R;const{appId:G,apiKey:we}=T,et={method:"GET",headers:yu(we)},pt=St.replace("{app-id}",G),Pt=yield fetch(pt,et);if(200!==Pt.status&&304!==Pt.status){let Tn="";try{const wn=yield Pt.json();null!==(R=wn.error)&&void 0!==R&&R.message&&(Tn=wn.error.message)}catch{}throw qs.create("config-fetch-failed",{httpStatus:Pt.status,responseMessage:Tn})}return Pt.json()})).apply(this,arguments)}function Js(){return(Js=(0,K.Z)(function*(T,R=qr,G){const{appId:we,apiKey:et,measurementId:pt}=T.options;if(!we)throw qs.create("no-app-id");if(!et){if(pt)return{measurementId:pt,appId:we};throw qs.create("no-api-key")}const Pt=R.getThrottleMetadata(we)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Tn=new D;return setTimeout((0,K.Z)(function*(){Tn.abort()}),void 0!==G?G:Mn),ma({appId:we,apiKey:et,measurementId:pt},Pt,Tn,R)})).apply(this,arguments)}function ma(T,R,G){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,K.Z)(function*(T,{throttleEndTimeMillis:R,backoffCount:G},we,et=qr){var pt;const{appId:Pt,measurementId:Tn}=T;try{yield function No(T,R){return new Promise((G,we)=>{const et=Math.max(R-Date.now(),0),pt=setTimeout(G,et);T.addEventListener(()=>{clearTimeout(pt),we(qs.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(we,R)}catch(wn){if(Tn)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tn} provided in the "measurementId" field in the local Firebase config. [${null==wn?void 0:wn.message}]`),{appId:Pt,measurementId:Tn};throw wn}try{const wn=yield function Zi(T){return Dn.apply(this,arguments)}(T);return et.deleteThrottleMetadata(Pt),wn}catch(wn){const nr=wn;if(!function Ac(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(nr)){if(et.deleteThrottleMetadata(Pt),Tn)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tn} provided in the "measurementId" field in the local Firebase config. [${null==nr?void 0:nr.message}]`),{appId:Pt,measurementId:Tn};throw wn}const Tr=503===Number(null===(pt=null==nr?void 0:nr.customData)||void 0===pt?void 0:pt.httpStatus)?(0,Te.$s)(G,et.intervalMillis,Si):(0,Te.$s)(G,et.intervalMillis),Sr={throttleEndTimeMillis:Date.now()+Tr,backoffCount:G+1};return et.setThrottleMetadata(Pt,Sr),Ur.debug(`Calling attemptFetch again in ${Tr} millis`),ma(T,Sr,we,et)}}),Ma.apply(this,arguments)}class D{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let S,Nr;function b(){return(b=(0,K.Z)(function*(T,R,G,we,et){if(et&&et.global)T("event",G,we);else{const pt=yield R;T("event",G,Object.assign(Object.assign({},we),{send_to:pt}))}})).apply(this,arguments)}function eo(){return(eo=(0,K.Z)(function*(){if(!(0,Te.hl)())return Ur.warn(qs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(T){return Ur.warn(qs.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function Xo(){return Xo=(0,K.Z)(function*(T,R,G,we,et,pt,Pt){var Tn;const wn=function Ps(T){return Js.apply(this,arguments)}(T);wn.then(li=>{G[li.measurementId]=li.appId,T.options.measurementId&&li.measurementId!==T.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(li=>Ur.error(li)),R.push(wn);const nr=function Xi(){return eo.apply(this,arguments)}().then(li=>{if(li)return we.getId()}),[Tr,Sr]=yield Promise.all([wn,nr]);(function nc(T){const R=window.document.getElementsByTagName("script");for(const G of Object.values(R))if(G.src&&G.src.includes(Yt)&&G.src.includes(T))return G;return null})(pt)||function tc(T,R){const G=function ol(T,R){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(T,R)),G}("firebase-js-sdk-policy",{createScriptURL:ga}),we=document.createElement("script"),et=`${Yt}?l=${T}&id=${R}`;we.src=G?null==G?void 0:G.createScriptURL(et):et,we.async=!0,document.head.appendChild(we)}(pt,Tr.measurementId),Nr&&(et("consent","default",Nr),function us(T){Nr=T}(void 0)),et("js",new Date);const Ks=null!==(Tn=null==Pt?void 0:Pt.config)&&void 0!==Tn?Tn:{};return Ks[yr]="firebase",Ks.update=!0,null!=Sr&&(Ks[tr]=Sr),et("config",Tr.measurementId,Ks),S&&(et("set",S),function Ss(T){S=T}(void 0)),Tr.measurementId}),Xo.apply(this,arguments)}class Qi{constructor(R){this.app=R}_delete(){return delete io[this.app.options.appId],Promise.resolve()}}let io={},Pl=[];const Mc={};let Qo,Ns,As="dataLayer",ll=!1;function ic(T,R,G){!function rc(){const T=[];if((0,Te.ru)()&&T.push("This is a browser extension environment."),(0,Te.zI)()||T.push("Cookies are not available."),T.length>0){const R=T.map((we,et)=>`(${et+1}) ${we}`).join(" "),G=qs.create("invalid-analytics-context",{errorInfo:R});Ur.warn(G.message)}}();const we=T.options.appId;if(!we)throw qs.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw qs.create("no-api-key");Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=io[we])throw qs.create("already-exists",{id:we});if(!ll){!function vu(T){let R=[];Array.isArray(window[T])?R=window[T]:window[T]=R}(As);const{wrappedGtag:pt,gtagCore:Pt}=function Wi(T,R,G,we,et){let pt=function(...Pt){window[we].push(arguments)};return window[et]&&"function"==typeof window[et]&&(pt=window[et]),window[et]=function _r(T,R,G,we){function pt(){return pt=(0,K.Z)(function*(Pt,...Tn){try{if("event"===Pt){const[wn,nr]=Tn;yield function Qr(T,R,G,we,et){return La.apply(this,arguments)}(T,R,G,wn,nr)}else if("config"===Pt){const[wn,nr]=Tn;yield function Sc(T,R,G,we,et,pt){return Xt.apply(this,arguments)}(T,R,G,we,wn,nr)}else if("consent"===Pt){const[wn]=Tn;T("consent","update",wn)}else if("get"===Pt){const[wn,nr,Tr]=Tn;T("get",wn,nr,Tr)}else if("set"===Pt){const[wn]=Tn;T("set",wn)}else T(Pt,...Tn)}catch(wn){Ur.error(wn)}}),pt.apply(this,arguments)}return function et(Pt){return pt.apply(this,arguments)}}(pt,T,R,G),{gtagCore:pt,wrappedGtag:window[et]}}(io,Pl,Mc,As,"gtag");Ns=pt,Qo=Pt,ll=!0}return io[we]=function bi(T,R,G,we,et,pt,Pt){return Xo.apply(this,arguments)}(T,Pl,Mc,R,Qo,As,G),new Qi(T)}function _u(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,K.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const sc="@firebase/analytics";!function ih(){(0,ne.Xd)(new Ee.wA(hn,(R,{options:G})=>ic(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,ne.Xd)(new Ee.wA("analytics-internal",function T(R){try{const G=R.getProvider(hn).getImmediate();return{logEvent:(we,et,pt)=>function id(T,R,G,we){T=(0,Te.m9)(T),function O(T,R,G,we,et){return b.apply(this,arguments)}(Ns,io[T.app.options.appId],R,G,we).catch(et=>Ur.error(et))}(G,we,et,pt)}}catch(G){throw qs.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,ne.KN)(sc,"0.10.0"),(0,ne.KN)(sc,"0.10.0","esm2017")}();var Ua=x(1954),Pc=x(2631);const ks=new class Nc extends Pc.v{}(class Oc extends Ua.o{constructor(R,G){super(R,G),this.scheduler=R,this.work=G}schedule(R,G=0){return G>0?super.schedule(R,G):(this.delay=G,this.state=R,this.scheduler.flush(this),this)}execute(R,G){return G>0||this.closed?super.execute(R,G):this._execute(R,G)}requestAsyncId(R,G,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(R,G,we):(R.flush(this),0)}});var va=x(6321),Jo=x(9397),Fi=x(5137),ya=x(3093);const vs=new f.GfV("7.6.1"),Pi="__angularfire_symbol__analyticsIsSupportedValue",xa="__angularfire_symbol__analyticsIsSupported",_a="__angularfire_symbol__remoteConfigIsSupportedValue",to="__angularfire_symbol__remoteConfigIsSupported",Nl="__angularfire_symbol__messagingIsSupportedValue",oc="__angularfire_symbol__messagingIsSupported";function go(T,R,G){if(R){if(1===R.length)return R[0];const pt=R.filter(Pt=>Pt.app===G);if(1===pt.length)return pt[0]}return G.container.getProvider(T).getImmediate({optional:!0})}globalThis[xa]||(globalThis[xa]=_u().then(T=>globalThis[Pi]=T).catch(()=>globalThis[Pi]=!1)),globalThis[oc]||(globalThis[oc]=pa().then(T=>globalThis[Nl]=T).catch(()=>globalThis[Nl]=!1)),globalThis[to]||(globalThis[to]=Bs().then(T=>globalThis[_a]=T).catch(()=>globalThis[_a]=!1));const kc=(T,R)=>{const G=R?[R]:(0,g.C6)(),we=[];return G.forEach(et=>{et.container.getProvider(T).instances.forEach(Pt=>{we.includes(Pt)||we.push(Pt)})}),we};function Ho(){}class ul{constructor(R,G=ks){this.zone=R,this.delegate=G}now(){return this.delegate.now()}schedule(R,G,we){const et=this.zone;return this.delegate.schedule(function(Pt){et.runGuarded(()=>{R.apply(this,[Pt])})},G,we)}}class ac{constructor(R){this.zone=R,this.task=null}call(R,G){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho)),G.pipe((0,Jo.b)({next:we,complete:we,error:we})).subscribe(R).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oa=(()=>{class T{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new ul(Zone.current)),this.insideAngular=G.run(()=>new ul(Zone.current,va.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(G){return new(G||T)(f.LFG(f.R0b))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Li(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Ea(T){return Li(),function Lc(T){return function(G){return(G=G.lift(new ac(T.ngZone))).pipe((0,Fi.R)(T.outsideAngular),(0,ya.Q)(T.insideAngular))}}(Li())(T)}},9058:(rn,it,x)=>{"use strict";x.d(it,{$s:()=>Kt,BH:()=>ge,G6:()=>ht,L:()=>$e,LL:()=>tt,Pz:()=>He,Sg:()=>qe,UG:()=>ve,US:()=>Ee,ZB:()=>be,ZR:()=>rt,aH:()=>Re,b$:()=>ct,eu:()=>ye,hl:()=>ie,jU:()=>Oe,m9:()=>zn,ne:()=>ar,pd:()=>Pn,r3:()=>tn,ru:()=>Qe,tV:()=>ue,uI:()=>se,vZ:()=>gn,w1:()=>Vt,xO:()=>Er,xb:()=>kn,z$:()=>Me,zI:()=>Se,zd:()=>On});const ne=function(ke){const Z=[];let Y=0;for(let xe=0;xe<ke.length;xe++){let ee=ke.charCodeAt(xe);ee<128?Z[Y++]=ee:ee<2048?(Z[Y++]=ee>>6|192,Z[Y++]=63&ee|128):55296==(64512&ee)&&xe+1<ke.length&&56320==(64512&ke.charCodeAt(xe+1))?(ee=65536+((1023&ee)<<10)+(1023&ke.charCodeAt(++xe)),Z[Y++]=ee>>18|240,Z[Y++]=ee>>12&63|128,Z[Y++]=ee>>6&63|128,Z[Y++]=63&ee|128):(Z[Y++]=ee>>12|224,Z[Y++]=ee>>6&63|128,Z[Y++]=63&ee|128)}return Z},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ke,Z){if(!Array.isArray(ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let ee=0;ee<ke.length;ee+=3){const Be=ke[ee],bt=ee+1<ke.length,kt=bt?ke[ee+1]:0,An=ee+2<ke.length,en=An?ke[ee+2]:0;let Rr=(15&kt)<<2|en>>6,nt=63&en;An||(nt=64,bt||(Rr=64)),xe.push(Y[Be>>2],Y[(3&Be)<<4|kt>>4],Y[Rr],Y[nt])}return xe.join("")},encodeString(ke,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(ke):this.encodeByteArray(ne(ke),Z)},decodeString(ke,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(ke):function(ke){const Z=[];let Y=0,xe=0;for(;Y<ke.length;){const ee=ke[Y++];if(ee<128)Z[xe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Be=ke[Y++];Z[xe++]=String.fromCharCode((31&ee)<<6|63&Be)}else if(ee>239&&ee<365){const An=((7&ee)<<18|(63&ke[Y++])<<12|(63&ke[Y++])<<6|63&ke[Y++])-65536;Z[xe++]=String.fromCharCode(55296+(An>>10)),Z[xe++]=String.fromCharCode(56320+(1023&An))}else{const Be=ke[Y++],bt=ke[Y++];Z[xe++]=String.fromCharCode((15&ee)<<12|(63&Be)<<6|63&bt)}}return Z.join("")}(this.decodeStringToByteArray(ke,Z))},decodeStringToByteArray(ke,Z){this.init_();const Y=Z?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let ee=0;ee<ke.length;){const Be=Y[ke.charAt(ee++)],kt=ee<ke.length?Y[ke.charAt(ee)]:0;++ee;const en=ee<ke.length?Y[ke.charAt(ee)]:64;++ee;const Yn=ee<ke.length?Y[ke.charAt(ee)]:64;if(++ee,null==Be||null==kt||null==en||null==Yn)throw new he;xe.push(Be<<2|kt>>4),64!==en&&(xe.push(kt<<4&240|en>>2),64!==Yn&&xe.push(en<<6&192|Yn))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ke=0;ke<this.ENCODED_VALS.length;ke++)this.byteToCharMap_[ke]=this.ENCODED_VALS.charAt(ke),this.charToByteMap_[this.byteToCharMap_[ke]]=ke,this.byteToCharMapWebSafe_[ke]=this.ENCODED_VALS_WEBSAFE.charAt(ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ke]]=ke,ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ke)]=ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ke)]=ke)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(ke){return function(ke){const Z=ne(ke);return Ee.encodeByteArray(Z,!0)}(ke).replace(/\./g,"")},ue=function(ke){try{return Ee.decodeString(ke,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function be(ke,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===ke&&(ke={});break;case Array:ke=[];break;default:return Z}for(const Y in Z)!Z.hasOwnProperty(Y)||!Ae(Y)||(ke[Y]=be(ke[Y],Z[Y]));return ke}function Ae(ke){return"__proto__"!==ke}const Ie=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ke=process.env.__FIREBASE_DEFAULTS__;return ke?JSON.parse(ke):void 0})()||(()=>{if(typeof document>"u")return;let ke;try{ke=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=ke&&ue(ke[1]);return Z&&JSON.parse(Z)})()}catch(ke){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ke}`)}},Re=()=>{var ke;return null===(ke=Ie())||void 0===ke?void 0:ke.config},He=ke=>{var Z;return null===(Z=Ie())||void 0===Z?void 0:Z[`_${ke}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Y)=>{this.resolve=Z,this.reject=Y})}wrapCallback(Z){return(Y,xe)=>{Y?this.reject(Y):this.resolve(xe),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(Y):Z(Y,xe))}}}function qe(ke,Z){if(ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=Z||"demo-project",ee=ke.iat||0,Be=ke.sub||ke.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:ee,exp:ee+3600,auth_time:ee,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},ke);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(bt)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ve(){var ke;const Z=null===(ke=Ie())||void 0===ke?void 0:ke.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Qe(){const ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ke&&void 0!==ke.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Vt(){const ke=Me();return ke.indexOf("MSIE ")>=0||ke.indexOf("Trident/")>=0}function ht(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((ke,Z)=>{try{let Y=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(xe);ee.onsuccess=()=>{ee.result.close(),Y||self.indexedDB.deleteDatabase(xe),ke(!0)},ee.onupgradeneeded=()=>{Y=!1},ee.onerror=()=>{var Be;Z((null===(Be=ee.error)||void 0===Be?void 0:Be.message)||"")}}catch(Y){Z(Y)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(Z,Y,xe){super(Y),this.code=Z,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(Z,Y,xe){this.service=Z,this.serviceName=Y,this.errors=xe}create(Z,...Y){const xe=Y[0]||{},ee=`${this.service}/${Z}`,Be=this.errors[Z],bt=Be?function Rt(ke,Z){return ke.replace(At,(Y,xe)=>{const ee=Z[xe];return null!=ee?String(ee):`<${xe}?>`})}(Be,xe):"Error";return new rt(ee,`${this.serviceName}: ${bt} (${ee}).`,xe)}}const At=/\{\$([^}]+)}/g;function tn(ke,Z){return Object.prototype.hasOwnProperty.call(ke,Z)}function kn(ke){for(const Z in ke)if(Object.prototype.hasOwnProperty.call(ke,Z))return!1;return!0}function gn(ke,Z){if(ke===Z)return!0;const Y=Object.keys(ke),xe=Object.keys(Z);for(const ee of Y){if(!xe.includes(ee))return!1;const Be=ke[ee],bt=Z[ee];if(Rn(Be)&&Rn(bt)){if(!gn(Be,bt))return!1}else if(Be!==bt)return!1}for(const ee of xe)if(!Y.includes(ee))return!1;return!0}function Rn(ke){return null!==ke&&"object"==typeof ke}function Er(ke){const Z=[];for(const[Y,xe]of Object.entries(ke))Array.isArray(xe)?xe.forEach(ee=>{Z.push(encodeURIComponent(Y)+"="+encodeURIComponent(ee))}):Z.push(encodeURIComponent(Y)+"="+encodeURIComponent(xe));return Z.length?"&"+Z.join("&"):""}function On(ke){const Z={};return ke.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[ee,Be]=xe.split("=");Z[decodeURIComponent(ee)]=decodeURIComponent(Be)}}),Z}function Pn(ke){const Z=ke.indexOf("?");if(!Z)return"";const Y=ke.indexOf("#",Z);return ke.substring(Z,Y>0?Y:void 0)}function ar(ke,Z){const Y=new gr(ke,Z);return Y.subscribe.bind(Y)}class gr{constructor(Z,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{Z(this)}).catch(xe=>{this.error(xe)})}next(Z){this.forEachObserver(Y=>{Y.next(Z)})}error(Z){this.forEachObserver(Y=>{Y.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,Y,xe){let ee;if(void 0===Z&&void 0===Y&&void 0===xe)throw new Error("Missing Observer.");ee=function $t(ke,Z){if("object"!=typeof ke||null===ke)return!1;for(const Y of Z)if(Y in ke&&"function"==typeof ke[Y])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:Y,complete:xe},void 0===ee.next&&(ee.next=Ir),void 0===ee.error&&(ee.error=Ir),void 0===ee.complete&&(ee.complete=Ir);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Be}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,Z)}sendOne(Z,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{Y(this.observers[Z])}catch(xe){typeof console<"u"&&console.error&&console.error(xe)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const $r=1e3,Dt=2,We=144e5,wt=.5;function Kt(ke,Z=$r,Y=Dt){const xe=Z*Math.pow(Y,ke),ee=Math.round(wt*xe*(Math.random()-.5)*2);return Math.min(We,xe+ee)}function zn(ke){return ke&&ke._delegate?ke._delegate:ke}},1774:(rn,it,x)=>{"use strict";x.d(it,{c:()=>Ye});var f=x(6225),g=x(839);let K;const Te=Ve=>Ve.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=Ve=>(void 0===K&&(K=void 0===Ve.style.animationName&&void 0!==Ve.style.webkitAnimationName?"-webkit-":""),K),he=(Ve,Ie,me)=>{const ut=Ie.startsWith("animation")?Ee(Ve):"";Ve.style.setProperty(ut+Ie,me)},Ge=(Ve,Ie)=>{const me=Ie.startsWith("animation")?Ee(Ve):"";Ve.style.removeProperty(me+Ie)},le=[],Ce=(Ve=[],Ie)=>{if(void 0!==Ie){const me=Array.isArray(Ie)?Ie:[Ie];return[...Ve,...me]}return Ve},Ye=Ve=>{let Ie,me,ut,Re,He,ge,Oe,ie,ye,Se,Ze,At,Ht,qe=[],Me=[],se=[],ve=!1,Qe={},ct=[],dt=[],Vt={},mn=0,Qt=!1,ht=!1,rt=!0,tt=!1,Rt=!0,Xe=!1;const Cn=Ve,yt=[],gt=[],mt=[],Ut=[],tn=[],Hn=[],kn=[],dn=[],gn=[],Rn=[],xr="function"==typeof AnimationEffect||void 0!==f.w&&"function"==typeof f.w.AnimationEffect,Er="function"==typeof Element&&"function"==typeof Element.prototype.animate&&xr,Pn=()=>Rn,$t=(q,De)=>((null!=De&&De.oneTimeCallback?gt:yt).push({c:q,o:De}),Ht),Wt=()=>{if(Er)Rn.forEach(q=>{q.cancel()}),Rn.length=0;else{const q=mt.slice();(0,g.r)(()=>{q.forEach(De=>{Ge(De,"animation-name"),Ge(De,"animation-duration"),Ge(De,"animation-timing-function"),Ge(De,"animation-iteration-count"),Ge(De,"animation-delay"),Ge(De,"animation-play-state"),Ge(De,"animation-fill-mode"),Ge(De,"animation-direction")})})}},Jn=()=>{tn.forEach(q=>{null!=q&&q.parentNode&&q.parentNode.removeChild(q)}),tn.length=0},vn=()=>void 0!==He?He:Oe?Oe.getFill():"both",zn=()=>void 0!==ye?ye:void 0!==ge?ge:Oe?Oe.getDirection():"normal",ke=()=>Qt?"linear":void 0!==ut?ut:Oe?Oe.getEasing():"linear",Z=()=>ht?0:void 0!==Se?Se:void 0!==me?me:Oe?Oe.getDuration():0,Y=()=>void 0!==Re?Re:Oe?Oe.getIterations():1,xe=()=>void 0!==Ze?Ze:void 0!==Ie?Ie:Oe?Oe.getDelay():0,jt=()=>{0!==mn&&(mn--,0===mn&&((()=>{Bi(),dn.forEach(st=>st()),gn.forEach(st=>st());const q=rt?1:0,De=ct,Pe=dt,Et=Vt;mt.forEach(st=>{const Mt=st.classList;De.forEach(Bt=>Mt.add(Bt)),Pe.forEach(Bt=>Mt.remove(Bt));for(const Bt in Et)Et.hasOwnProperty(Bt)&&he(st,Bt,Et[Bt])}),yt.forEach(st=>st.c(q,Ht)),gt.forEach(st=>st.c(q,Ht)),gt.length=0,Rt=!0,rt&&(tt=!0),rt=!0})(),Oe&&Oe.animationFinish()))},Sn=(q=!0)=>{Jn();const De=(Ve=>(Ve.forEach(Ie=>{for(const me in Ie)if(Ie.hasOwnProperty(me)){const ut=Ie[me];if("easing"===me)Ie["animation-timing-function"]=ut,delete Ie[me];else{const Re=Te(me);Re!==me&&(Ie[Re]=ut,delete Ie[me])}}}),Ve))(qe);mt.forEach(Pe=>{if(De.length>0){const Et=((Ve=[])=>Ve.map(Ie=>{const me=Ie.offset,ut=[];for(const Re in Ie)Ie.hasOwnProperty(Re)&&"offset"!==Re&&ut.push(`${Re}: ${Ie[Re]};`);return`${100*me}% { ${ut.join(" ")} }`}).join(" "))(De);At=void 0!==Ve?Ve:(Ve=>{let Ie=le.indexOf(Ve);return Ie<0&&(Ie=le.push(Ve)-1),`ion-animation-${Ie}`})(Et);const st=((Ve,Ie,me)=>{var ut;const Re=(Ve=>{const Ie=void 0!==Ve.getRootNode?Ve.getRootNode():Ve;return Ie.head||Ie})(me),He=Ee(me),ge=Re.querySelector("#"+Ve);if(ge)return ge;const qe=(null!==(ut=me.ownerDocument)&&void 0!==ut?ut:document).createElement("style");return qe.id=Ve,qe.textContent=`@${He}keyframes ${Ve} { ${Ie} } @${He}keyframes ${Ve}-alt { ${Ie} }`,Re.appendChild(qe),qe})(At,Et,Pe);tn.push(st),he(Pe,"animation-duration",`${Z()}ms`),he(Pe,"animation-timing-function",ke()),he(Pe,"animation-delay",`${xe()}ms`),he(Pe,"animation-fill-mode",vn()),he(Pe,"animation-direction",zn());const Mt=Y()===1/0?"infinite":Y().toString();he(Pe,"animation-iteration-count",Mt),he(Pe,"animation-play-state","paused"),q&&he(Pe,"animation-name",`${st.id}-alt`),(0,g.r)(()=>{he(Pe,"animation-name",st.id||null)})}})},er=(q=!0)=>{(()=>{Hn.forEach(Et=>Et()),kn.forEach(Et=>Et());const q=Me,De=se,Pe=Qe;mt.forEach(Et=>{const st=Et.classList;q.forEach(Mt=>st.add(Mt)),De.forEach(Mt=>st.remove(Mt));for(const Mt in Pe)Pe.hasOwnProperty(Mt)&&he(Et,Mt,Pe[Mt])})})(),qe.length>0&&(Er?(mt.forEach(q=>{const De=q.animate(qe,{id:Cn,delay:xe(),duration:Z(),easing:ke(),iterations:Y(),fill:vn(),direction:zn()});De.pause(),Rn.push(De)}),Rn.length>0&&(Rn[0].onfinish=()=>{jt()})):Sn(q)),ve=!0},Qn=q=>{if(q=Math.min(Math.max(q,0),.9999),Er)Rn.forEach(De=>{De.currentTime=De.effect.getComputedTiming().delay+Z()*q,De.pause()});else{const De=`-${Z()*q}ms`;mt.forEach(Pe=>{qe.length>0&&(he(Pe,"animation-delay",De),he(Pe,"animation-play-state","paused"))})}},Gr=q=>{Rn.forEach(De=>{De.effect.updateTiming({delay:xe(),duration:Z(),easing:ke(),iterations:Y(),fill:vn(),direction:zn()})}),void 0!==q&&Qn(q)},xi=(q=!0,De)=>{(0,g.r)(()=>{mt.forEach(Pe=>{he(Pe,"animation-name",At||null),he(Pe,"animation-duration",`${Z()}ms`),he(Pe,"animation-timing-function",ke()),he(Pe,"animation-delay",void 0!==De?`-${De*Z()}ms`:`${xe()}ms`),he(Pe,"animation-fill-mode",vn()||null),he(Pe,"animation-direction",zn()||null);const Et=Y()===1/0?"infinite":Y().toString();he(Pe,"animation-iteration-count",Et),q&&he(Pe,"animation-name",`${At}-alt`),(0,g.r)(()=>{he(Pe,"animation-name",At||null)})})})},dr=(q=!1,De=!0,Pe)=>(q&&Ut.forEach(Et=>{Et.update(q,De,Pe)}),Er?Gr(Pe):xi(De,Pe),Ht),Pr=()=>{ve&&(Er?Rn.forEach(q=>{q.pause()}):mt.forEach(q=>{he(q,"animation-play-state","paused")}),Xe=!0)},Wr=()=>{ie=void 0,jt()},Bi=()=>{ie&&clearTimeout(ie)},Ei=q=>new Promise(De=>{null!=q&&q.sync&&(ht=!0,$t(()=>ht=!1,{oneTimeCallback:!0})),ve||er(),tt&&(Er?(Qn(0),Gr()):xi(),tt=!1),Rt&&(mn=Ut.length+1,Rt=!1),$t(()=>De(),{oneTimeCallback:!0}),Ut.forEach(Pe=>{Pe.play()}),Er?(Rn.forEach(q=>{q.play()}),(0===qe.length||0===mt.length)&&jt()):(()=>{if(Bi(),(0,g.r)(()=>{mt.forEach(q=>{qe.length>0&&he(q,"animation-play-state","running")})}),0===qe.length||0===mt.length)jt();else{const q=xe()||0,De=Z()||0,Pe=Y()||1;isFinite(Pe)&&(ie=setTimeout(Wr,q+De*Pe+100)),((Ve,Ie)=>{let me;const ut={passive:!0},He=ge=>{Ve===ge.target&&(me&&me(),Bi(),(0,g.r)(()=>{mt.forEach(q=>{Ge(q,"animation-duration"),Ge(q,"animation-delay"),Ge(q,"animation-play-state")}),(0,g.r)(jt)}))};Ve&&(Ve.addEventListener("webkitAnimationEnd",He,ut),Ve.addEventListener("animationend",He,ut),me=()=>{Ve.removeEventListener("webkitAnimationEnd",He,ut),Ve.removeEventListener("animationend",He,ut)})})(mt[0])}})(),Xe=!1}),Kr=(q,De)=>{const Pe=qe[0];return void 0===Pe||void 0!==Pe.offset&&0!==Pe.offset?qe=[{offset:0,[q]:De},...qe]:Pe[q]=De,Ht};return Ht={parentAnimation:Oe,elements:mt,childAnimations:Ut,id:Cn,animationFinish:jt,from:Kr,to:(q,De)=>{const Pe=qe[qe.length-1];return void 0===Pe||void 0!==Pe.offset&&1!==Pe.offset?qe=[...qe,{offset:1,[q]:De}]:Pe[q]=De,Ht},fromTo:(q,De,Pe)=>Kr(q,De).to(q,Pe),parent:q=>(Oe=q,Ht),play:Ei,pause:()=>(Ut.forEach(q=>{q.pause()}),Pr(),Ht),stop:()=>{Ut.forEach(q=>{q.stop()}),ve&&(Wt(),ve=!1),Qt=!1,ht=!1,Rt=!0,ye=void 0,Se=void 0,Ze=void 0,mn=0,tt=!1,rt=!0,Xe=!1},destroy:q=>(Ut.forEach(De=>{De.destroy(q)}),(q=>{Wt(),q&&Jn()})(q),mt.length=0,Ut.length=0,qe.length=0,yt.length=0,gt.length=0,ve=!1,Rt=!0,Ht),keyframes:q=>{const De=qe!==q;return qe=q,De&&(q=>{Er?Pn().forEach(De=>{if(De.effect.setKeyframes)De.effect.setKeyframes(q);else{const Pe=new KeyframeEffect(De.effect.target,q,De.effect.getTiming());De.effect=Pe}}):Sn()})(qe),Ht},addAnimation:q=>{if(null!=q)if(Array.isArray(q))for(const De of q)De.parent(Ht),Ut.push(De);else q.parent(Ht),Ut.push(q);return Ht},addElement:q=>{if(null!=q)if(1===q.nodeType)mt.push(q);else if(q.length>=0)for(let De=0;De<q.length;De++)mt.push(q[De]);else console.error("Invalid addElement value");return Ht},update:dr,fill:q=>(He=q,dr(!0),Ht),direction:q=>(ge=q,dr(!0),Ht),iterations:q=>(Re=q,dr(!0),Ht),duration:q=>(!Er&&0===q&&(q=1),me=q,dr(!0),Ht),easing:q=>(ut=q,dr(!0),Ht),delay:q=>(Ie=q,dr(!0),Ht),getWebAnimations:Pn,getKeyframes:()=>qe,getFill:vn,getDirection:zn,getDelay:xe,getIterations:Y,getEasing:ke,getDuration:Z,afterAddRead:q=>(dn.push(q),Ht),afterAddWrite:q=>(gn.push(q),Ht),afterClearStyles:(q=[])=>{for(const De of q)Vt[De]="";return Ht},afterStyles:(q={})=>(Vt=q,Ht),afterRemoveClass:q=>(dt=Ce(dt,q),Ht),afterAddClass:q=>(ct=Ce(ct,q),Ht),beforeAddRead:q=>(Hn.push(q),Ht),beforeAddWrite:q=>(kn.push(q),Ht),beforeClearStyles:(q=[])=>{for(const De of q)Qe[De]="";return Ht},beforeStyles:(q={})=>(Qe=q,Ht),beforeRemoveClass:q=>(se=Ce(se,q),Ht),beforeAddClass:q=>(Me=Ce(Me,q),Ht),onFinish:$t,isRunning:()=>0!==mn&&!Xe,progressStart:(q=!1,De)=>(Ut.forEach(Pe=>{Pe.progressStart(q,De)}),Pr(),Qt=q,ve||er(),dr(!1,!0,De),Ht),progressStep:q=>(Ut.forEach(De=>{De.progressStep(q)}),Qn(q),Ht),progressEnd:(q,De,Pe)=>(Qt=!1,Ut.forEach(Et=>{Et.progressEnd(q,De,Pe)}),void 0!==Pe&&(Se=Pe),tt=!1,rt=!0,0===q?(ye="reverse"===zn()?"normal":"reverse","reverse"===ye&&(rt=!1),Er?(dr(),Qn(1-De)):(Ze=(1-De)*Z()*-1,dr(!1,!1))):1===q&&(Er?(dr(),Qn(De)):(Ze=De*Z()*-1,dr(!1,!1))),void 0!==q&&($t(()=>{Se=void 0,ye=void 0,Ze=void 0},{oneTimeCallback:!0}),Oe||Ei()),Ht)}}},3365:(rn,it,x)=>{"use strict";x.d(it,{E:()=>ue,a:()=>f,s:()=>Ge});const f=le=>{try{if(le instanceof he)return le.value;if(!ne()||"string"!=typeof le||""===le)return le;if(le.includes("onload="))return"";const be=document.createDocumentFragment(),Ae=document.createElement("div");be.appendChild(Ae),Ae.innerHTML=le,Ee.forEach(Ve=>{const Ie=be.querySelectorAll(Ve);for(let me=Ie.length-1;me>=0;me--){const ut=Ie[me];ut.parentNode?ut.parentNode.removeChild(ut):be.removeChild(ut);const Re=K(ut);for(let He=0;He<Re.length;He++)g(Re[He])}});const Ne=K(be);for(let Ve=0;Ve<Ne.length;Ve++)g(Ne[Ve]);const Ce=document.createElement("div");Ce.appendChild(be);const Ye=Ce.querySelector("div");return null!==Ye?Ye.innerHTML:Ce.innerHTML}catch(be){return console.error(be),""}},g=le=>{if(le.nodeType&&1!==le.nodeType)return;if(typeof NamedNodeMap<"u"&&!(le.attributes instanceof NamedNodeMap))return void le.remove();for(let Ae=le.attributes.length-1;Ae>=0;Ae--){const Ne=le.attributes.item(Ae),Ce=Ne.name;if(!Te.includes(Ce.toLowerCase())){le.removeAttribute(Ce);continue}const Ye=Ne.value,Ve=le[Ce];(null!=Ye&&Ye.toLowerCase().includes("javascript:")||null!=Ve&&Ve.toLowerCase().includes("javascript:"))&&le.removeAttribute(Ce)}const be=K(le);for(let Ae=0;Ae<be.length;Ae++)g(be[Ae])},K=le=>null!=le.children?le.children:le.childNodes,ne=()=>{var le;const be=window,Ae=null===(le=null==be?void 0:be.Ionic)||void 0===le?void 0:le.config;return!Ae||(Ae.get?Ae.get("sanitizerEnabled",!0):!0===Ae.sanitizerEnabled||void 0===Ae.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],Ee=["script","style","iframe","meta","link","object","embed"];class he{constructor(be){this.value=be}}const Ge=le=>{const be=window,Ae=be.Ionic;if(!Ae||!Ae.config||"Object"===Ae.config.constructor.name)return be.Ionic=be.Ionic||{},be.Ionic.config=Object.assign(Object.assign({},be.Ionic.config),le),be.Ionic.config},ue=!1},6559:(rn,it,x)=>{"use strict";x.d(it,{C:()=>Te,a:()=>K,d:()=>ne});var f=x(5861),g=x(839);const K=function(){var Ee=(0,f.Z)(function*(he,Ge,$e,ue,le,be){var Ae;if(he)return he.attachViewToDom(Ge,$e,le,ue);if(!(be||"string"==typeof $e||$e instanceof HTMLElement))throw new Error("framework delegate is missing");const Ne="string"==typeof $e?null===(Ae=Ge.ownerDocument)||void 0===Ae?void 0:Ae.createElement($e):$e;return ue&&ue.forEach(Ce=>Ne.classList.add(Ce)),le&&Object.assign(Ne,le),Ge.appendChild(Ne),yield new Promise(Ce=>(0,g.c)(Ne,Ce)),Ne});return function(Ge,$e,ue,le,be,Ae){return Ee.apply(this,arguments)}}(),ne=(Ee,he)=>{if(he){if(Ee)return Ee.removeViewFromDom(he.parentElement,he);he.remove()}return Promise.resolve()},Te=()=>{let Ee,he;return{attachViewToDom:function(){var ue=(0,f.Z)(function*(le,be,Ae={},Ne=[]){var Ce,Ye;let Ve;if(Ee=le,be){const me="string"==typeof be?null===(Ce=Ee.ownerDocument)||void 0===Ce?void 0:Ce.createElement(be):be;Ne.forEach(ut=>me.classList.add(ut)),Object.assign(me,Ae),Ee.appendChild(me),Ve=me,yield new Promise(ut=>(0,g.c)(me,ut))}else if(Ee.children.length>0&&("ION-MODAL"===Ee.tagName||"ION-POPOVER"===Ee.tagName)&&!(Ve=Ee.children[0]).classList.contains("ion-delegate-host")){const ut=null===(Ye=Ee.ownerDocument)||void 0===Ye?void 0:Ye.createElement("div");ut.classList.add("ion-delegate-host"),Ne.forEach(Re=>ut.classList.add(Re)),ut.append(...Ee.children),Ee.appendChild(ut),Ve=ut}const Ie=document.querySelector("ion-app")||document.body;return he=document.createComment("ionic teleport"),Ee.parentNode.insertBefore(he,Ee),Ie.appendChild(Ee),null!=Ve?Ve:Ee});return function(be,Ae){return ue.apply(this,arguments)}}(),removeViewFromDom:()=>(Ee&&he&&(he.parentNode.insertBefore(Ee,he),he.remove()),Promise.resolve())}}},619:(rn,it,x)=>{"use strict";x.d(it,{G:()=>Te});class g{constructor(he,Ge,$e,ue,le){this.id=Ge,this.name=$e,this.disableScroll=le,this.priority=1e6*ue+Ge,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(he,Ge,$e,ue){this.id=Ge,this.disable=$e,this.disableScroll=ue,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ne="backdrop-no-scroll",Te=new class f{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){var Ge;return new g(this,this.newID(),he.name,null!==(Ge=he.priority)&&void 0!==Ge?Ge:0,!!he.disableScroll)}createBlocker(he={}){return new K(this,this.newID(),he.disable,!!he.disableScroll)}start(he,Ge,$e){return this.canStart(he)?(this.requestedStart.set(Ge,$e),!0):(this.requestedStart.delete(Ge),!1)}capture(he,Ge,$e){if(!this.start(he,Ge,$e))return!1;const ue=this.requestedStart;let le=-1e4;if(ue.forEach(be=>{le=Math.max(le,be)}),le===$e){this.capturedId=Ge,ue.clear();const be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(be),!0}return ue.delete(Ge),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,Ge){let $e=this.disabledGestures.get(he);void 0===$e&&($e=new Set,this.disabledGestures.set(he,$e)),$e.add(Ge)}enableGesture(he,Ge){const $e=this.disabledGestures.get(he);void 0!==$e&&$e.delete(Ge)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(ne)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(ne)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const Ge=this.disabledGestures.get(he);return!!(Ge&&Ge.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>ne,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>K});var f=x(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const Ee=document;let he=!1;Ee.addEventListener("backbutton",()=>{if(he)return;let Ge=0,$e=[];const ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ae,Ne){$e.push({priority:Ae,handler:Ne,id:Ge++})}}});Ee.dispatchEvent(ue);const le=function(){var Ae=(0,f.Z)(function*(Ne){try{if(null!=Ne&&Ne.handler){const Ce=Ne.handler(be);null!=Ce&&(yield Ce)}}catch(Ce){console.error(Ce)}});return function(Ce){return Ae.apply(this,arguments)}}(),be=()=>{if($e.length>0){let Ae={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(Ne=>{Ne.priority>=Ae.priority&&(Ae=Ne)}),he=!0,$e=$e.filter(Ne=>Ne.id!==Ae.id),le(Ae).then(()=>he=!1)}};be()})},ne=100,Te=99},839:(rn,it,x)=>{"use strict";x.d(it,{a:()=>Ge,b:()=>$e,c:()=>K,d:()=>Ye,e:()=>Ce,f:()=>Ne,g:()=>ue,h:()=>Ae,i:()=>he,j:()=>He,k:()=>Te,l:()=>Ve,m:()=>ne,n:()=>be,o:()=>Ie,p:()=>Re,q:()=>ge,r:()=>le,s:()=>qe,t:()=>f,u:()=>me,v:()=>ut});const f=(Me,se=0)=>new Promise(ve=>{g(Me,se,ve)}),g=(Me,se=0,ve)=>{let Oe,Qe;const ct={passive:!0},Vt=()=>{Oe&&Oe()},mn=Qt=>{(void 0===Qt||Me===Qt.target)&&(Vt(),ve(Qt))};return Me&&(Me.addEventListener("webkitTransitionEnd",mn,ct),Me.addEventListener("transitionend",mn,ct),Qe=setTimeout(mn,se+500),Oe=()=>{Qe&&(clearTimeout(Qe),Qe=void 0),Me.removeEventListener("webkitTransitionEnd",mn,ct),Me.removeEventListener("transitionend",mn,ct)}),Vt},K=(Me,se)=>{Me.componentOnReady?Me.componentOnReady().then(ve=>se(ve)):le(()=>se(Me))},ne=Me=>void 0!==Me.componentOnReady,Te=(Me,se=[])=>{const ve={};return se.forEach(Oe=>{Me.hasAttribute(Oe)&&(null!==Me.getAttribute(Oe)&&(ve[Oe]=Me.getAttribute(Oe)),Me.removeAttribute(Oe))}),ve},Ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],he=(Me,se)=>{let ve=Ee;return se&&se.length>0&&(ve=ve.filter(Oe=>!se.includes(Oe))),Te(Me,ve)},Ge=(Me,se,ve,Oe)=>{var Qe;if(typeof window<"u"){const ct=window,dt=null===(Qe=null==ct?void 0:ct.Ionic)||void 0===Qe?void 0:Qe.config;if(dt){const Vt=dt.get("_ael");if(Vt)return Vt(Me,se,ve,Oe);if(dt._ael)return dt._ael(Me,se,ve,Oe)}}return Me.addEventListener(se,ve,Oe)},$e=(Me,se,ve,Oe)=>{var Qe;if(typeof window<"u"){const ct=window,dt=null===(Qe=null==ct?void 0:ct.Ionic)||void 0===Qe?void 0:Qe.config;if(dt){const Vt=dt.get("_rel");if(Vt)return Vt(Me,se,ve,Oe);if(dt._rel)return dt._rel(Me,se,ve,Oe)}}return Me.removeEventListener(se,ve,Oe)},ue=(Me,se=Me)=>Me.shadowRoot||se,le=Me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Me):"function"==typeof requestAnimationFrame?requestAnimationFrame(Me):setTimeout(Me),be=Me=>!!Me.shadowRoot&&!!Me.attachShadow,Ae=Me=>{const se=Me.closest("ion-item");return se?se.querySelector("ion-label"):null},Ne=Me=>{if(Me.focus(),Me.classList.contains("ion-focusable")){const se=Me.closest("ion-app");se&&se.setFocus([Me])}},Ce=(Me,se)=>{let ve;const Oe=Me.getAttribute("aria-labelledby"),Qe=Me.id;let ct=null!==Oe&&""!==Oe.trim()?Oe:se+"-lbl",dt=null!==Oe&&""!==Oe.trim()?document.getElementById(Oe):Ae(Me);return dt?(null===Oe&&(dt.id=ct),ve=dt.textContent,dt.setAttribute("aria-hidden","true")):""!==Qe.trim()&&(dt=document.querySelector(`label[for="${Qe}"]`),dt&&(""!==dt.id?ct=dt.id:dt.id=ct=`${Qe}-lbl`,ve=dt.textContent)),{label:dt,labelId:ct,labelText:ve}},Ye=(Me,se,ve,Oe,Qe)=>{if(Me||be(se)){let ct=se.querySelector("input.aux-input");ct||(ct=se.ownerDocument.createElement("input"),ct.type="hidden",ct.classList.add("aux-input"),se.appendChild(ct)),ct.disabled=Qe,ct.name=ve,ct.value=Oe||""}},Ve=(Me,se,ve)=>Math.max(Me,Math.min(se,ve)),Ie=(Me,se)=>{if(!Me){const ve="ASSERT: "+se;throw console.error(ve),new Error(ve)}},me=Me=>Me.timeStamp||Date.now(),ut=Me=>{if(Me){const se=Me.changedTouches;if(se&&se.length>0){const ve=se[0];return{x:ve.clientX,y:ve.clientY}}if(void 0!==Me.pageX)return{x:Me.pageX,y:Me.pageY}}return{x:0,y:0}},Re=Me=>{const se="rtl"===document.dir;switch(Me){case"start":return se;case"end":return!se;default:throw new Error(`"${Me}" is not a valid value for [side]. Use "start" or "end" instead.`)}},He=(Me,se)=>{const ve=Me._original||Me;return{_original:Me,emit:ge(ve.emit.bind(ve),se)}},ge=(Me,se=0)=>{let ve;return(...Oe)=>{clearTimeout(ve),ve=setTimeout(Me,se,...Oe)}},qe=(Me,se)=>{if(null!=Me||(Me={}),null!=se||(se={}),Me===se)return!0;const ve=Object.keys(Me);if(ve.length!==Object.keys(se).length)return!1;for(const Oe of ve)if(!(Oe in se)||Me[Oe]!==se[Oe])return!1;return!0}},2364:(rn,it,x)=>{"use strict";x.d(it,{B:()=>le,H:()=>Vt,a:()=>Pr,b:()=>Fn,c:()=>tt,d:()=>Xe,e:()=>Kr,f:()=>Ht,g:()=>Rt,h:()=>ct,i:()=>sn,j:()=>be,r:()=>jt,w:()=>hi});var f=x(5861);let K,ne,Te,Ee=!1,he=!1,Ge=!1,$e=!1,ue=!1;const le={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},be=J=>{const q=new URL(J,cr.$resourcesUrl$);return q.origin!==Or.location.origin?q.href:q.pathname},me="s-id",ut="sty-id",ge="http://www.w3.org/1999/xlink",qe={},Oe=J=>"object"==(J=typeof J)||"function"===J;function Qe(J){var q,De,Pe;return null!==(Pe=null===(De=null===(q=J.head)||void 0===q?void 0:q.querySelector('meta[name="csp-nonce"]'))||void 0===De?void 0:De.getAttribute("content"))&&void 0!==Pe?Pe:void 0}const ct=(J,q,...De)=>{let Pe=null,Et=null,st=null,Mt=!1,Bt=!1;const xt=[],zt=qn=>{for(let Zn=0;Zn<qn.length;Zn++)Pe=qn[Zn],Array.isArray(Pe)?zt(Pe):null!=Pe&&"boolean"!=typeof Pe&&((Mt="function"!=typeof J&&!Oe(Pe))&&(Pe=String(Pe)),Mt&&Bt?xt[xt.length-1].$text$+=Pe:xt.push(Mt?dt(null,Pe):Pe),Bt=Mt)};if(zt(De),q){q.key&&(Et=q.key),q.name&&(st=q.name);{const qn=q.className||q.class;qn&&(q.class="object"!=typeof qn?qn:Object.keys(qn).filter(Zn=>qn[Zn]).join(" "))}}if("function"==typeof J)return J(null===q?{}:q,xt,Qt);const ln=dt(J,null);return ln.$attrs$=q,xt.length>0&&(ln.$children$=xt),ln.$key$=Et,ln.$name$=st,ln},dt=(J,q)=>({$flags$:0,$tag$:J,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Vt={},Qt={forEach:(J,q)=>J.map(ht).forEach(q),map:(J,q)=>J.map(ht).map(q).map(ie)},ht=J=>({vattrs:J.$attrs$,vchildren:J.$children$,vkey:J.$key$,vname:J.$name$,vtag:J.$tag$,vtext:J.$text$}),ie=J=>{if("function"==typeof J.vtag){const De=Object.assign({},J.vattrs);return J.vkey&&(De.key=J.vkey),J.vname&&(De.name=J.vname),ct(J.vtag,De,...J.vchildren||[])}const q=dt(J.vtag,J.vtext);return q.$attrs$=J.vattrs,q.$children$=J.vchildren,q.$key$=J.vkey,q.$name$=J.vname,q},Se=(J,q,De,Pe,Et,st,Mt)=>{let Bt,xt,zt,ln;if(1===st.nodeType){for(Bt=st.getAttribute("c-id"),Bt&&(xt=Bt.split("."),(xt[0]===Mt||"0"===xt[0])&&(zt={$flags$:0,$hostId$:xt[0],$nodeId$:xt[1],$depth$:xt[2],$index$:xt[3],$tag$:st.tagName.toLowerCase(),$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(zt),st.removeAttribute("c-id"),J.$children$||(J.$children$=[]),J.$children$[zt.$index$]=zt,J=zt,Pe&&"0"===zt.$depth$&&(Pe[zt.$index$]=zt.$elm$))),ln=st.childNodes.length-1;ln>=0;ln--)Se(J,q,De,Pe,Et,st.childNodes[ln],Mt);if(st.shadowRoot)for(ln=st.shadowRoot.childNodes.length-1;ln>=0;ln--)Se(J,q,De,Pe,Et,st.shadowRoot.childNodes[ln],Mt)}else if(8===st.nodeType)xt=st.nodeValue.split("."),(xt[1]===Mt||"0"===xt[1])&&(Bt=xt[0],zt={$flags$:0,$hostId$:xt[1],$nodeId$:xt[2],$depth$:xt[3],$index$:xt[4],$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Bt?(zt.$elm$=st.nextSibling,zt.$elm$&&3===zt.$elm$.nodeType&&(zt.$text$=zt.$elm$.textContent,q.push(zt),st.remove(),J.$children$||(J.$children$=[]),J.$children$[zt.$index$]=zt,Pe&&"0"===zt.$depth$&&(Pe[zt.$index$]=zt.$elm$))):zt.$hostId$===Mt&&("s"===Bt?(zt.$tag$="slot",st["s-sn"]=xt[5]?zt.$name$=xt[5]:"",st["s-sr"]=!0,Pe&&(zt.$elm$=Mr.createElement(zt.$tag$),zt.$name$&&zt.$elm$.setAttribute("name",zt.$name$),st.parentNode.insertBefore(zt.$elm$,st),st.remove(),"0"===zt.$depth$&&(Pe[zt.$index$]=zt.$elm$)),De.push(zt),J.$children$||(J.$children$=[]),J.$children$[zt.$index$]=zt):"r"===Bt&&(Pe?st.remove():(Et["s-cr"]=st,st["s-cn"]=!0))));else if(J&&"style"===J.$tag$){const qn=dt(null,st.textContent);qn.$elm$=st,qn.$index$="0",J.$children$=[qn]}},Ze=(J,q)=>{if(1===J.nodeType){let De=0;for(;De<J.childNodes.length;De++)Ze(J.childNodes[De],q);if(J.shadowRoot)for(De=0;De<J.shadowRoot.childNodes.length;De++)Ze(J.shadowRoot.childNodes[De],q)}else if(8===J.nodeType){const De=J.nodeValue.split(".");"o"===De[0]&&(q.set(De[1]+"."+De[2],J),J.nodeValue="",J["s-en"]=De[3])}},tt=J=>dr.push(J),Rt=J=>qt(J).$modeName$,Ht=J=>qt(J).$hostElement$,Xe=(J,q,De)=>{const Pe=Ht(J);return{emit:Et=>Cn(Pe,q,{bubbles:!!(4&De),composed:!!(2&De),cancelable:!!(1&De),detail:Et})}},Cn=(J,q,De)=>{const Pe=cr.ce(q,De);return J.dispatchEvent(Pe),Pe},yt=new WeakMap,gt=(J,q,De)=>{let Pe=xi.get(J);Bi&&De?(Pe=Pe||new CSSStyleSheet,"string"==typeof Pe?Pe=q:Pe.replaceSync(q)):Pe=q,xi.set(J,Pe)},mt=(J,q,De)=>{var Pe;const Et=tn(q,De),st=xi.get(Et);if(J=11===J.nodeType?J:Mr,st)if("string"==typeof st){let Bt,Mt=yt.get(J=J.head||J);if(Mt||yt.set(J,Mt=new Set),!Mt.has(Et)){if(J.host&&(Bt=J.querySelector(`[${ut}="${Et}"]`)))Bt.innerHTML=st;else{Bt=Mr.createElement("style"),Bt.innerHTML=st;const xt=null!==(Pe=cr.$nonce$)&&void 0!==Pe?Pe:Qe(Mr);null!=xt&&Bt.setAttribute("nonce",xt),J.insertBefore(Bt,J.querySelector("link"))}Mt&&Mt.add(Et)}}else J.adoptedStyleSheets.includes(st)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,st]);return Et},tn=(J,q)=>"sc-"+(q&&32&J.$flags$?J.$tagName$+"-"+q:J.$tagName$),Hn=J=>J.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),kn=(J,q,De,Pe,Et,st)=>{if(De!==Pe){let Mt=Zt(J,q),Bt=q.toLowerCase();if("class"===q){const xt=J.classList,zt=gn(De),ln=gn(Pe);xt.remove(...zt.filter(qn=>qn&&!ln.includes(qn))),xt.add(...ln.filter(qn=>qn&&!zt.includes(qn)))}else if("style"===q){for(const xt in De)(!Pe||null==Pe[xt])&&(xt.includes("-")?J.style.removeProperty(xt):J.style[xt]="");for(const xt in Pe)(!De||Pe[xt]!==De[xt])&&(xt.includes("-")?J.style.setProperty(xt,Pe[xt]):J.style[xt]=Pe[xt])}else if("key"!==q)if("ref"===q)Pe&&Pe(J);else if(Mt||"o"!==q[0]||"n"!==q[1]){const xt=Oe(Pe);if((Mt||xt&&null!==Pe)&&!Et)try{if(J.tagName.includes("-"))J[q]=Pe;else{const ln=null==Pe?"":Pe;"list"===q?Mt=!1:(null==De||J[q]!=ln)&&(J[q]=ln)}}catch{}let zt=!1;Bt!==(Bt=Bt.replace(/^xlink\:?/,""))&&(q=Bt,zt=!0),null==Pe||!1===Pe?(!1!==Pe||""===J.getAttribute(q))&&(zt?J.removeAttributeNS(ge,q):J.removeAttribute(q)):(!Mt||4&st||Et)&&!xt&&(Pe=!0===Pe?"":Pe,zt?J.setAttributeNS(ge,q,Pe):J.setAttribute(q,Pe))}else q="-"===q[2]?q.slice(3):Zt(Or,Bt)?Bt.slice(2):Bt[2]+q.slice(3),De&&cr.rel(J,q,De,!1),Pe&&cr.ael(J,q,Pe,!1)}},dn=/\s/,gn=J=>J?J.split(dn):[],Rn=(J,q,De,Pe)=>{const Et=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,st=J&&J.$attrs$||qe,Mt=q.$attrs$||qe;for(Pe in st)Pe in Mt||kn(Et,Pe,st[Pe],void 0,De,q.$flags$);for(Pe in Mt)kn(Et,Pe,st[Pe],Mt[Pe],De,q.$flags$)},xr=(J,q,De,Pe)=>{const Et=q.$children$[De];let Mt,Bt,xt,st=0;if(Ee||(Ge=!0,"slot"===Et.$tag$&&(K&&Pe.classList.add(K+"-s"),Et.$flags$|=Et.$children$?2:1)),null!==Et.$text$)Mt=Et.$elm$=Mr.createTextNode(Et.$text$);else if(1&Et.$flags$)Mt=Et.$elm$=Mr.createTextNode("");else{if($e||($e="svg"===Et.$tag$),Mt=Et.$elm$=Mr.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Et.$flags$?"slot-fb":Et.$tag$),$e&&"foreignObject"===Et.$tag$&&($e=!1),Rn(null,Et,$e),(J=>null!=J)(K)&&Mt["s-si"]!==K&&Mt.classList.add(Mt["s-si"]=K),Et.$children$)for(st=0;st<Et.$children$.length;++st)Bt=xr(J,Et,st,Mt),Bt&&Mt.appendChild(Bt);"svg"===Et.$tag$?$e=!1:"foreignObject"===Mt.tagName&&($e=!0)}return Mt["s-hn"]=Te,3&Et.$flags$&&(Mt["s-sr"]=!0,Mt["s-cr"]=ne,Mt["s-sn"]=Et.$name$||"",xt=J&&J.$children$&&J.$children$[De],xt&&xt.$tag$===Et.$tag$&&J.$elm$&&Er(J.$elm$,!1)),Mt},Er=(J,q)=>{cr.$flags$|=1;const De=J.childNodes;for(let Pe=De.length-1;Pe>=0;Pe--){const Et=De[Pe];Et["s-hn"]!==Te&&Et["s-ol"]&&(Cr(Et).insertBefore(Et,gr(Et)),Et["s-ol"].remove(),Et["s-ol"]=void 0,Ge=!0),q&&Er(Et,q)}cr.$flags$&=-2},On=(J,q,De,Pe,Et,st)=>{let Bt,Mt=J["s-cr"]&&J["s-cr"].parentNode||J;for(Mt.shadowRoot&&Mt.tagName===Te&&(Mt=Mt.shadowRoot);Et<=st;++Et)Pe[Et]&&(Bt=xr(null,De,Et,J),Bt&&(Pe[Et].$elm$=Bt,Mt.insertBefore(Bt,gr(q))))},Pn=(J,q,De)=>{for(let Pe=q;Pe<=De;++Pe){const Et=J[Pe];if(Et){const st=Et.$elm$;ir(Et),st&&(he=!0,st["s-ol"]?st["s-ol"].remove():Er(st,!0),st.remove())}}},ar=(J,q)=>J.$tag$===q.$tag$&&("slot"===J.$tag$?J.$name$===q.$name$:J.$key$===q.$key$),gr=J=>J&&J["s-ol"]||J,Cr=J=>(J["s-ol"]?J["s-ol"]:J).parentNode,$t=(J,q)=>{const De=q.$elm$=J.$elm$,Pe=J.$children$,Et=q.$children$,st=q.$tag$,Mt=q.$text$;let Bt;null===Mt?($e="svg"===st||"foreignObject"!==st&&$e,"slot"===st||Rn(J,q,$e),null!==Pe&&null!==Et?((J,q,De,Pe)=>{let Je,Ke,Et=0,st=0,Mt=0,Bt=0,xt=q.length-1,zt=q[0],ln=q[xt],qn=Pe.length-1,Zn=Pe[0],ur=Pe[qn];for(;Et<=xt&&st<=qn;)if(null==zt)zt=q[++Et];else if(null==ln)ln=q[--xt];else if(null==Zn)Zn=Pe[++st];else if(null==ur)ur=Pe[--qn];else if(ar(zt,Zn))$t(zt,Zn),zt=q[++Et],Zn=Pe[++st];else if(ar(ln,ur))$t(ln,ur),ln=q[--xt],ur=Pe[--qn];else if(ar(zt,ur))("slot"===zt.$tag$||"slot"===ur.$tag$)&&Er(zt.$elm$.parentNode,!1),$t(zt,ur),J.insertBefore(zt.$elm$,ln.$elm$.nextSibling),zt=q[++Et],ur=Pe[--qn];else if(ar(ln,Zn))("slot"===zt.$tag$||"slot"===ur.$tag$)&&Er(ln.$elm$.parentNode,!1),$t(ln,Zn),J.insertBefore(ln.$elm$,zt.$elm$),ln=q[--xt],Zn=Pe[++st];else{for(Mt=-1,Bt=Et;Bt<=xt;++Bt)if(q[Bt]&&null!==q[Bt].$key$&&q[Bt].$key$===Zn.$key$){Mt=Bt;break}Mt>=0?(Ke=q[Mt],Ke.$tag$!==Zn.$tag$?Je=xr(q&&q[st],De,Mt,J):($t(Ke,Zn),q[Mt]=void 0,Je=Ke.$elm$),Zn=Pe[++st]):(Je=xr(q&&q[st],De,st,J),Zn=Pe[++st]),Je&&Cr(zt.$elm$).insertBefore(Je,gr(zt.$elm$))}Et>xt?On(J,null==Pe[qn+1]?null:Pe[qn+1].$elm$,De,Pe,st,qn):st>qn&&Pn(q,Et,xt)})(De,Pe,q,Et):null!==Et?(null!==J.$text$&&(De.textContent=""),On(De,null,q,Et,0,Et.length-1)):null!==Pe&&Pn(Pe,0,Pe.length-1),$e&&"svg"===st&&($e=!1)):(Bt=De["s-cr"])?Bt.parentNode.textContent=Mt:J.$text$!==Mt&&(De.data=Mt)},Ir=J=>{const q=J.childNodes;let De,Pe,Et,st,Mt,Bt;for(Pe=0,Et=q.length;Pe<Et;Pe++)if(De=q[Pe],1===De.nodeType){if(De["s-sr"])for(Mt=De["s-sn"],De.hidden=!1,st=0;st<Et;st++)if(Bt=q[st].nodeType,q[st]["s-hn"]!==De["s-hn"]||""!==Mt){if(1===Bt&&Mt===q[st].getAttribute("slot")){De.hidden=!0;break}}else if(1===Bt||3===Bt&&""!==q[st].textContent.trim()){De.hidden=!0;break}Ir(De)}},Wt=[],Jn=J=>{let q,De,Pe,Et,st,Mt,Bt=0;const xt=J.childNodes,zt=xt.length;for(;Bt<zt;Bt++){if(q=xt[Bt],q["s-sr"]&&(De=q["s-cr"])&&De.parentNode)for(Pe=De.parentNode.childNodes,Et=q["s-sn"],Mt=Pe.length-1;Mt>=0;Mt--)De=Pe[Mt],!De["s-cn"]&&!De["s-nr"]&&De["s-hn"]!==q["s-hn"]&&(ti(De,Et)?(st=Wt.find(ln=>ln.$nodeToRelocate$===De),he=!0,De["s-sn"]=De["s-sn"]||Et,st?st.$slotRefNode$=q:Wt.push({$slotRefNode$:q,$nodeToRelocate$:De}),De["s-sr"]&&Wt.map(ln=>{ti(ln.$nodeToRelocate$,De["s-sn"])&&(st=Wt.find(qn=>qn.$nodeToRelocate$===De),st&&!ln.$slotRefNode$&&(ln.$slotRefNode$=st.$slotRefNode$))})):Wt.some(ln=>ln.$nodeToRelocate$===De)||Wt.push({$nodeToRelocate$:De}));1===q.nodeType&&Jn(q)}},ti=(J,q)=>1===J.nodeType?null===J.getAttribute("slot")&&""===q||J.getAttribute("slot")===q:J["s-sn"]===q||""===q,ir=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.map(ir)},Mi=(J,q)=>{q&&!J.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(De=>J.$onRenderResolve$=De))},ni=(J,q)=>{if(J.$flags$|=16,!(4&J.$flags$))return Mi(J,J.$ancestorComponent$),hi(()=>Lr(J,q));J.$flags$|=512},Lr=(J,q)=>{const Pe=J.$lazyInstance$;let Et;return q&&(J.$flags$|=256,J.$queuedListeners$&&(J.$queuedListeners$.map(([st,Mt])=>zn(Pe,st,Mt)),J.$queuedListeners$=void 0),Et=zn(Pe,"componentWillLoad")),Et=$r(Et,()=>zn(Pe,"componentWillRender")),$r(Et,()=>We(J,Pe,q))},$r=(J,q)=>Dt(J)?J.then(q):q(),Dt=J=>J instanceof Promise||J&&J.then&&"function"==typeof J.then,We=function(){var J=(0,f.Z)(function*(q,De,Pe){var Et;const st=q.$hostElement$,Bt=st["s-rc"];Pe&&(J=>{const q=J.$cmpMeta$,De=J.$hostElement$,Pe=q.$flags$,st=mt(De.shadowRoot?De.shadowRoot:De.getRootNode(),q,J.$modeName$);10&Pe&&(De["s-sc"]=st,De.classList.add(st+"-h"),2&Pe&&De.classList.add(st+"-s"))})(q);wt(q,De,st,Pe),Bt&&(Bt.map(zt=>zt()),st["s-rc"]=void 0);{const zt=null!==(Et=st["s-p"])&&void 0!==Et?Et:[],ln=()=>Kt(q);0===zt.length?ln():(Promise.all(zt).then(ln),q.$flags$|=4,zt.length=0)}});return function(De,Pe,Et){return J.apply(this,arguments)}}(),wt=(J,q,De,Pe)=>{try{q=q.render&&q.render(),J.$flags$&=-17,J.$flags$|=2,((J,q,De=!1)=>{const Pe=J.$hostElement$,Et=J.$cmpMeta$,st=J.$vnode$||dt(null,null),Mt=(J=>J&&J.$tag$===Vt)(q)?q:ct(null,null,q);if(Te=Pe.tagName,Et.$attrsToReflect$&&(Mt.$attrs$=Mt.$attrs$||{},Et.$attrsToReflect$.map(([Bt,xt])=>Mt.$attrs$[xt]=Pe[Bt])),De&&Mt.$attrs$)for(const Bt of Object.keys(Mt.$attrs$))Pe.hasAttribute(Bt)&&!["key","ref","style","class"].includes(Bt)&&(Mt.$attrs$[Bt]=Pe[Bt]);if(Mt.$tag$=null,Mt.$flags$|=4,J.$vnode$=Mt,Mt.$elm$=st.$elm$=Pe.shadowRoot||Pe,K=Pe["s-sc"],ne=Pe["s-cr"],Ee=0!=(1&Et.$flags$),he=!1,$t(st,Mt),cr.$flags$|=1,Ge){Jn(Mt.$elm$);let Bt,xt,zt,ln,qn,Zn,ur=0;for(;ur<Wt.length;ur++)Bt=Wt[ur],xt=Bt.$nodeToRelocate$,xt["s-ol"]||(zt=Mr.createTextNode(""),zt["s-nr"]=xt,xt.parentNode.insertBefore(xt["s-ol"]=zt,xt));for(ur=0;ur<Wt.length;ur++)if(Bt=Wt[ur],xt=Bt.$nodeToRelocate$,Bt.$slotRefNode$){for(ln=Bt.$slotRefNode$.parentNode,qn=Bt.$slotRefNode$.nextSibling,zt=xt["s-ol"];zt=zt.previousSibling;)if(Zn=zt["s-nr"],Zn&&Zn["s-sn"]===xt["s-sn"]&&ln===Zn.parentNode&&(Zn=Zn.nextSibling,!Zn||!Zn["s-nr"])){qn=Zn;break}(!qn&&ln!==xt.parentNode||xt.nextSibling!==qn)&&xt!==qn&&(!xt["s-hn"]&&xt["s-ol"]&&(xt["s-hn"]=xt["s-ol"].parentNode.nodeName),ln.insertBefore(xt,qn))}else 1===xt.nodeType&&(xt.hidden=!0)}he&&Ir(Mt.$elm$),cr.$flags$&=-2,Wt.length=0})(J,q,Pe)}catch(Et){er(Et,J.$hostElement$)}return null},Kt=J=>{const De=J.$hostElement$,Et=J.$lazyInstance$,st=J.$ancestorComponent$;zn(Et,"componentDidRender"),64&J.$flags$?zn(Et,"componentDidUpdate"):(J.$flags$|=64,ke(De),zn(Et,"componentDidLoad"),J.$onReadyResolve$(De),st||vn()),J.$onInstanceResolve$(De),J.$onRenderResolve$&&(J.$onRenderResolve$(),J.$onRenderResolve$=void 0),512&J.$flags$&&qi(()=>ni(J,!1)),J.$flags$&=-517},sn=J=>{{const q=qt(J),De=q.$hostElement$.isConnected;return De&&2==(18&q.$flags$)&&ni(q,!1),De}},vn=J=>{ke(Mr.documentElement),qi(()=>Cn(Or,"appload",{detail:{namespace:"ionic"}}))},zn=(J,q,De)=>{if(J&&J[q])try{return J[q](De)}catch(Pe){er(Pe)}},ke=J=>J.classList.add("hydrated"),xe=(J,q,De)=>{var Pe;if(q.$members$){J.watchers&&(q.$watchers$=J.watchers);const Et=Object.entries(q.$members$),st=J.prototype;if(Et.map(([Mt,[Bt]])=>{31&Bt||2&De&&32&Bt?Object.defineProperty(st,Mt,{get(){return((J,q)=>qt(this).$instanceValues$.get(q))(0,Mt)},set(xt){((J,q,De,Pe)=>{const Et=qt(J),st=Et.$hostElement$,Mt=Et.$instanceValues$.get(q),Bt=Et.$flags$,xt=Et.$lazyInstance$;De=((J,q)=>null==J||Oe(J)?J:4&q?"false"!==J&&(""===J||!!J):2&q?parseFloat(J):1&q?String(J):J)(De,Pe.$members$[q][0]);const zt=Number.isNaN(Mt)&&Number.isNaN(De);if((!(8&Bt)||void 0===Mt)&&De!==Mt&&!zt&&(Et.$instanceValues$.set(q,De),xt)){if(Pe.$watchers$&&128&Bt){const qn=Pe.$watchers$[q];qn&&qn.map(Zn=>{try{xt[Zn](De,Mt,q)}catch(ur){er(ur,st)}})}2==(18&Bt)&&ni(Et,!1)}})(this,Mt,xt,q)},configurable:!0,enumerable:!0}):1&De&&64&Bt&&Object.defineProperty(st,Mt,{value(...xt){const zt=qt(this);return zt.$onInstancePromise$.then(()=>zt.$lazyInstance$[Mt](...xt))}})}),1&De){const Mt=new Map;st.attributeChangedCallback=function(Bt,xt,zt){cr.jmp(()=>{const ln=Mt.get(Bt);if(this.hasOwnProperty(ln))zt=this[ln],delete this[ln];else{if(st.hasOwnProperty(ln)&&"number"==typeof this[ln]&&this[ln]==zt)return;if(null==ln){const qn=qt(this),Zn=null==qn?void 0:qn.$flags$;if(!(8&Zn)&&128&Zn&&zt!==xt){const ur=qn.$lazyInstance$,Je=q.$watchers$[Bt];null==Je||Je.forEach(Ke=>{null!=ur[Ke]&&ur[Ke].call(ur,zt,xt,Bt)})}return}}this[ln]=(null!==zt||"boolean"!=typeof this[ln])&&zt})},J.observedAttributes=Array.from(new Set([...Object.keys(null!==(Pe=q.$watchers$)&&void 0!==Pe?Pe:{}),...Et.filter(([Bt,xt])=>15&xt[0]).map(([Bt,xt])=>{const zt=xt[1]||Bt;return Mt.set(zt,Bt),512&xt[0]&&q.$attrsToReflect$.push([Bt,zt]),zt})]))}}return J},ee=function(){var J=(0,f.Z)(function*(q,De,Pe,Et,st){if(!(32&De.$flags$)){De.$flags$|=32;{if((st=Gr(Pe)).then){const zt=()=>{};st=yield st,zt()}st.isProxied||(Pe.$watchers$=st.watchers,xe(st,Pe,2),st.isProxied=!0);const xt=()=>{};De.$flags$|=8;try{new st(De)}catch(zt){er(zt)}De.$flags$&=-9,De.$flags$|=128,xt(),Be(De.$lazyInstance$)}if(st.style){let xt=st.style;"string"!=typeof xt&&(xt=xt[De.$modeName$=(J=>dr.map(q=>q(J)).find(q=>!!q))(q)]);const zt=tn(Pe,De.$modeName$);if(!xi.has(zt)){const ln=()=>{};gt(zt,xt,!!(1&Pe.$flags$)),ln()}}}const Mt=De.$ancestorComponent$,Bt=()=>ni(De,!0);Mt&&Mt["s-rc"]?Mt["s-rc"].push(Bt):Bt()});return function(De,Pe,Et,st,Mt){return J.apply(this,arguments)}}(),Be=J=>{zn(J,"connectedCallback")},kt=J=>{const q=J["s-cr"]=Mr.createComment("");q["s-cn"]=!0,J.insertBefore(q,J.firstChild)},An=J=>{zn(J,"disconnectedCallback")},en=function(){var J=(0,f.Z)(function*(q){if(!(1&cr.$flags$)){const De=qt(q);De.$rmListeners$&&(De.$rmListeners$.map(Pe=>Pe()),De.$rmListeners$=void 0),null!=De&&De.$lazyInstance$?An(De.$lazyInstance$):null!=De&&De.$onReadyPromise$&&De.$onReadyPromise$.then(()=>An(De.$lazyInstance$))}});return function(De){return J.apply(this,arguments)}}(),Fn=(J,q={})=>{var De;const Et=[],st=q.exclude||[],Mt=Or.customElements,Bt=Mr.head,xt=Bt.querySelector("meta[charset]"),zt=Mr.createElement("style"),ln=[],qn=Mr.querySelectorAll(`[${ut}]`);let Zn,ur=!0,Je=0;for(Object.assign(cr,q),cr.$resourcesUrl$=new URL(q.resourcesUrl||"./",Mr.baseURI).href,cr.$flags$|=2;Je<qn.length;Je++)gt(qn[Je].getAttribute(ut),Hn(qn[Je].innerHTML),!0);J.map(Ke=>{Ke[1].map(lt=>{var Nt;const Ct={$flags$:lt[0],$tagName$:lt[1],$members$:lt[2],$listeners$:lt[3]};Ct.$members$=lt[2],Ct.$listeners$=lt[3],Ct.$attrsToReflect$=[],Ct.$watchers$=null!==(Nt=lt[4])&&void 0!==Nt?Nt:{};const _n=Ct.$tagName$,Xn=class extends HTMLElement{constructor(sr){super(sr),Sn(sr=this,Ct),1&Ct.$flags$&&sr.attachShadow({mode:"open",delegatesFocus:!!(16&Ct.$flags$)})}connectedCallback(){Zn&&(clearTimeout(Zn),Zn=null),ur?ln.push(this):cr.jmp(()=>(J=>{if(!(1&cr.$flags$)){const q=qt(J),De=q.$cmpMeta$,Pe=()=>{};if(1&q.$flags$)Yn(J,q,De.$listeners$),null!=q&&q.$lazyInstance$?Be(q.$lazyInstance$):null!=q&&q.$onReadyPromise$&&q.$onReadyPromise$.then(()=>Be(q.$lazyInstance$));else{let Et;if(q.$flags$|=1,Et=J.getAttribute(me),Et){if(1&De.$flags$){const st=mt(J.shadowRoot,De,J.getAttribute("s-mode"));J.classList.remove(st+"-h",st+"-s")}((J,q,De,Pe)=>{const st=J.shadowRoot,Mt=[],xt=st?[]:null,zt=Pe.$vnode$=dt(q,null);cr.$orgLocNodes$||Ze(Mr.body,cr.$orgLocNodes$=new Map),J[me]=De,J.removeAttribute(me),Se(zt,Mt,[],xt,J,J,De),Mt.map(ln=>{const qn=ln.$hostId$+"."+ln.$nodeId$,Zn=cr.$orgLocNodes$.get(qn),ur=ln.$elm$;Zn&&br&&""===Zn["s-en"]&&Zn.parentNode.insertBefore(ur,Zn.nextSibling),st||(ur["s-hn"]=q,Zn&&(ur["s-ol"]=Zn,ur["s-ol"]["s-nr"]=ur)),cr.$orgLocNodes$.delete(qn)}),st&&xt.map(ln=>{ln&&st.appendChild(ln)})})(J,De.$tagName$,Et,q)}Et||12&De.$flags$&&kt(J);{let st=J;for(;st=st.parentNode||st.host;)if(1===st.nodeType&&st.hasAttribute("s-id")&&st["s-p"]||st["s-p"]){Mi(q,q.$ancestorComponent$=st);break}}De.$members$&&Object.entries(De.$members$).map(([st,[Mt]])=>{if(31&Mt&&J.hasOwnProperty(st)){const Bt=J[st];delete J[st],J[st]=Bt}}),ee(J,q,De)}Pe()}})(this))}disconnectedCallback(){cr.jmp(()=>en(this))}componentOnReady(){return qt(this).$onReadyPromise$}};Ct.$lazyBundleId$=Ke[0],!st.includes(_n)&&!Mt.get(_n)&&(Et.push(_n),Mt.define(_n,xe(Xn,Ct,1)))})});{zt.innerHTML=Et+"{visibility:hidden}.hydrated{visibility:inherit}",zt.setAttribute("data-styles","");const Ke=null!==(De=cr.$nonce$)&&void 0!==De?De:Qe(Mr);null!=Ke&&zt.setAttribute("nonce",Ke),Bt.insertBefore(zt,xt?xt.nextSibling:Bt.firstChild)}ur=!1,ln.length?ln.map(Ke=>Ke.connectedCallback()):cr.jmp(()=>Zn=setTimeout(vn,30))},Yn=(J,q,De,Pe)=>{De&&De.map(([Et,st,Mt])=>{const Bt=nt(J,Et),xt=Rr(q,Mt),zt=Fe(Et);cr.ael(Bt,st,xt,zt),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>cr.rel(Bt,st,xt,zt))})},Rr=(J,q)=>De=>{try{256&J.$flags$?J.$lazyInstance$[q](De):(J.$queuedListeners$=J.$queuedListeners$||[]).push([q,De])}catch(Pe){er(Pe)}},nt=(J,q)=>4&q?Mr:8&q?Or:16&q?Mr.body:J,Fe=J=>0!=(2&J),ft=new WeakMap,qt=J=>ft.get(J),jt=(J,q)=>ft.set(q.$lazyInstance$=J,q),Sn=(J,q)=>{const De={$flags$:0,$hostElement$:J,$cmpMeta$:q,$instanceValues$:new Map};return De.$onInstancePromise$=new Promise(Pe=>De.$onInstanceResolve$=Pe),De.$onReadyPromise$=new Promise(Pe=>De.$onReadyResolve$=Pe),J["s-p"]=[],J["s-rc"]=[],Yn(J,De,q.$listeners$),ft.set(J,De)},Zt=(J,q)=>q in J,er=(J,q)=>(0,console.error)(J,q),Qn=new Map,Gr=(J,q,De)=>{const Pe=J.$tagName$.replace(/-/g,"_"),Et=J.$lazyBundleId$,st=Qn.get(Et);return st?st[Pe]:x(863)(`./${Et}.entry.js`).then(Mt=>(Qn.set(Et,Mt),Mt[Pe]),er)},xi=new Map,dr=[],Or=typeof window<"u"?window:{},Mr=Or.document||{head:{}},cr={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,q,De,Pe)=>J.addEventListener(q,De,Pe),rel:(J,q,De,Pe)=>J.removeEventListener(q,De,Pe),ce:(J,q)=>new CustomEvent(J,q)},Pr=J=>{Object.assign(cr,J)},br=!0,Bi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Br=[],Ci=[],Dr=(J,q)=>De=>{J.push(De),ue||(ue=!0,q&&4&cr.$flags$?qi(Ei):cr.raf(Ei))},Ti=J=>{for(let q=0;q<J.length;q++)try{J[q](performance.now())}catch(De){er(De)}J.length=0},Ei=()=>{Ti(Br),Ti(Ci),(ue=Br.length>0)&&cr.raf(Ei)},qi=J=>Promise.resolve(void 0).then(J),Kr=Dr(Br,!1),hi=Dr(Ci,!0)},6710:(rn,it,x)=>{"use strict";x.d(it,{a:()=>g,b:()=>K,p:()=>f});const f=(ne,...Te)=>console.warn(`[Ionic Warning]: ${ne}`,...Te),g=(ne,...Te)=>console.error(`[Ionic Error]: ${ne}`,...Te),K=(ne,...Te)=>console.error(`<${ne.tagName.toLowerCase()}> must be used inside ${Te.join(" or ")}.`)},4505:(rn,it,x)=>{"use strict";x.d(it,{m:()=>le});var f=x(5861),g=x(2124),K=x(839),ne=x(152),Te=x(1774);const Ee=be=>(0,Te.c)().duration(be?400:300),he=be=>{let Ae,Ne;const Ce=be.width+8,Ye=(0,Te.c)(),Ve=(0,Te.c)();be.isEndSide?(Ae=Ce+"px",Ne="0px"):(Ae=-Ce+"px",Ne="0px"),Ye.addElement(be.menuInnerEl).fromTo("transform",`translateX(${Ae})`,`translateX(${Ne})`);const me="ios"===(0,ne.b)(be),ut=me?.2:.25;return Ve.addElement(be.backdropEl).fromTo("opacity",.01,ut),Ee(me).addAnimation([Ye,Ve])},Ge=be=>{let Ae,Ne;const Ce=(0,ne.b)(be),Ye=be.width;be.isEndSide?(Ae=-Ye+"px",Ne=Ye+"px"):(Ae=Ye+"px",Ne=-Ye+"px");const Ve=(0,Te.c)().addElement(be.menuInnerEl).fromTo("transform",`translateX(${Ne})`,"translateX(0px)"),Ie=(0,Te.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ae})`),me=(0,Te.c)().addElement(be.backdropEl).fromTo("opacity",.01,.32);return Ee("ios"===Ce).addAnimation([Ve,Ie,me])},$e=be=>{const Ae=(0,ne.b)(be),Ne=be.width*(be.isEndSide?-1:1)+"px",Ce=(0,Te.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ne})`);return Ee("ios"===Ae).addAnimation(Ce)},le=(()=>{const be=new Map,Ae=[],Ne=function(){var ie=(0,f.Z)(function*(ye){const Se=yield Re(ye);return!!Se&&Se.open()});return function(Se){return ie.apply(this,arguments)}}(),Ce=function(){var ie=(0,f.Z)(function*(ye){const Se=yield void 0!==ye?Re(ye):He();return void 0!==Se&&Se.close()});return function(Se){return ie.apply(this,arguments)}}(),Ye=function(){var ie=(0,f.Z)(function*(ye){const Se=yield Re(ye);return!!Se&&Se.toggle()});return function(Se){return ie.apply(this,arguments)}}(),Ve=function(){var ie=(0,f.Z)(function*(ye,Se){const Ze=yield Re(Se);return Ze&&(Ze.disabled=!ye),Ze});return function(Se,Ze){return ie.apply(this,arguments)}}(),Ie=function(){var ie=(0,f.Z)(function*(ye,Se){const Ze=yield Re(Se);return Ze&&(Ze.swipeGesture=ye),Ze});return function(Se,Ze){return ie.apply(this,arguments)}}(),me=function(){var ie=(0,f.Z)(function*(ye){if(null!=ye){const Se=yield Re(ye);return void 0!==Se&&Se.isOpen()}return void 0!==(yield He())});return function(Se){return ie.apply(this,arguments)}}(),ut=function(){var ie=(0,f.Z)(function*(ye){const Se=yield Re(ye);return!!Se&&!Se.disabled});return function(Se){return ie.apply(this,arguments)}}(),Re=function(){var ie=(0,f.Z)(function*(ye){return yield ht(),"start"===ye||"end"===ye?Qt(rt=>rt.side===ye&&!rt.disabled)||Qt(rt=>rt.side===ye):null!=ye?Qt(Ze=>Ze.menuId===ye):Qt(Ze=>!Ze.disabled)||(Ae.length>0?Ae[0].el:void 0)});return function(Se){return ie.apply(this,arguments)}}(),He=function(){var ie=(0,f.Z)(function*(){return yield ht(),dt()});return function(){return ie.apply(this,arguments)}}(),ge=function(){var ie=(0,f.Z)(function*(){return yield ht(),Vt()});return function(){return ie.apply(this,arguments)}}(),qe=function(){var ie=(0,f.Z)(function*(){return yield ht(),mn()});return function(){return ie.apply(this,arguments)}}(),Me=(ie,ye)=>{be.set(ie,ye)},Oe=ie=>{const ye=ie.side;Ae.filter(Se=>Se.side===ye&&Se!==ie).forEach(Se=>Se.disabled=!0)},Qe=function(){var ie=(0,f.Z)(function*(ye,Se,Ze){if(mn())return!1;if(Se){const rt=yield He();rt&&ye.el!==rt&&(yield rt.setOpen(!1,!1))}return ye._setOpen(Se,Ze)});return function(Se,Ze,rt){return ie.apply(this,arguments)}}(),dt=()=>Qt(ie=>ie._isOpen),Vt=()=>Ae.map(ie=>ie.el),mn=()=>Ae.some(ie=>ie.isAnimating),Qt=ie=>{const ye=Ae.find(ie);if(void 0!==ye)return ye.el},ht=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ie=>new Promise(ye=>(0,K.c)(ie,ye))));return Me("reveal",$e),Me("push",Ge),Me("overlay",he),typeof document<"u"&&document.addEventListener("ionBackButton",ie=>{const ye=dt();ye&&ie.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:Me,get:Re,getMenus:ge,getOpen:He,isEnabled:ut,swipeGesture:Ie,isAnimating:qe,isOpen:me,enable:Ve,toggle:Ye,close:Ce,open:Ne,_getOpenSync:dt,_createAnimation:(ie,ye)=>{const Se=be.get(ie);if(!Se)throw new Error("animation not registered");return Se(ye)},_register:ie=>{Ae.indexOf(ie)<0&&(ie.disabled||Oe(ie),Ae.push(ie))},_unregister:ie=>{const ye=Ae.indexOf(ie);ye>-1&&Ae.splice(ye,1)},_setOpen:Qe,_setActiveMenu:Oe}})()},6225:(rn,it,x)=>{"use strict";x.d(it,{d:()=>g,w:()=>f});const f=typeof window<"u"?window:void 0,g=typeof document<"u"?document:void 0},2690:(rn,it,x)=>{"use strict";x.d(it,{L:()=>ne,a:()=>Te,b:()=>Ee,c:()=>he,d:()=>Ge,e:()=>Me,g:()=>Oe,l:()=>ge,s:()=>se,t:()=>le,w:()=>qe});var f=x(5861),g=x(2364),K=x(839);const ne="ionViewWillEnter",Te="ionViewDidEnter",Ee="ionViewWillLeave",he="ionViewDidLeave",Ge="ionViewWillUnload",le=Qe=>new Promise((ct,dt)=>{(0,g.w)(()=>{be(Qe),Ae(Qe).then(Vt=>{Vt.animation&&Vt.animation.destroy(),Ne(Qe),ct(Vt)},Vt=>{Ne(Qe),dt(Vt)})})}),be=Qe=>{const ct=Qe.enteringEl,dt=Qe.leavingEl;ve(ct,dt,Qe.direction),Qe.showGoBack?ct.classList.add("can-go-back"):ct.classList.remove("can-go-back"),se(ct,!1),ct.style.setProperty("pointer-events","none"),dt&&(se(dt,!1),dt.style.setProperty("pointer-events","none"))},Ae=function(){var Qe=(0,f.Z)(function*(ct){const dt=yield Ce(ct);return dt&&g.B.isBrowser?Ye(dt,ct):Ve(ct)});return function(dt){return Qe.apply(this,arguments)}}(),Ne=Qe=>{const ct=Qe.enteringEl,dt=Qe.leavingEl;ct.classList.remove("ion-page-invisible"),ct.style.removeProperty("pointer-events"),void 0!==dt&&(dt.classList.remove("ion-page-invisible"),dt.style.removeProperty("pointer-events"))},Ce=function(){var Qe=(0,f.Z)(function*(ct){return ct.leavingEl&&ct.animated&&0!==ct.duration?ct.animationBuilder?ct.animationBuilder:"ios"===ct.mode?(yield Promise.resolve().then(x.bind(x,7006))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,2952))).mdTransitionAnimation:void 0});return function(dt){return Qe.apply(this,arguments)}}(),Ye=function(){var Qe=(0,f.Z)(function*(ct,dt){yield Ie(dt,!0);const Vt=ct(dt.baseEl,dt);Re(dt.enteringEl,dt.leavingEl);const mn=yield ut(Vt,dt);return dt.progressCallback&&dt.progressCallback(void 0),mn&&He(dt.enteringEl,dt.leavingEl),{hasCompleted:mn,animation:Vt}});return function(dt,Vt){return Qe.apply(this,arguments)}}(),Ve=function(){var Qe=(0,f.Z)(function*(ct){const dt=ct.enteringEl,Vt=ct.leavingEl;return yield Ie(ct,!1),Re(dt,Vt),He(dt,Vt),{hasCompleted:!0}});return function(dt){return Qe.apply(this,arguments)}}(),Ie=function(){var Qe=(0,f.Z)(function*(ct,dt){(void 0!==ct.deepWait?ct.deepWait:dt)&&(yield Promise.all([Me(ct.enteringEl),Me(ct.leavingEl)])),yield me(ct.viewIsReady,ct.enteringEl)});return function(dt,Vt){return Qe.apply(this,arguments)}}(),me=function(){var Qe=(0,f.Z)(function*(ct,dt){ct&&(yield ct(dt))});return function(dt,Vt){return Qe.apply(this,arguments)}}(),ut=(Qe,ct)=>{const dt=ct.progressCallback,Vt=new Promise(mn=>{Qe.onFinish(Qt=>mn(1===Qt))});return dt?(Qe.progressStart(!0),dt(Qe)):Qe.play(),Vt},Re=(Qe,ct)=>{ge(ct,Ee),ge(Qe,ne)},He=(Qe,ct)=>{ge(Qe,Te),ge(ct,he)},ge=(Qe,ct)=>{if(Qe){const dt=new CustomEvent(ct,{bubbles:!1,cancelable:!1});Qe.dispatchEvent(dt)}},qe=()=>new Promise(Qe=>(0,K.r)(()=>(0,K.r)(()=>Qe()))),Me=function(){var Qe=(0,f.Z)(function*(ct){const dt=ct;if(dt){if(null!=dt.componentOnReady){if(null!=(yield dt.componentOnReady()))return}else if(null!=dt.__registerHost)return void(yield new Promise(mn=>(0,K.r)(mn)));yield Promise.all(Array.from(dt.children).map(Me))}});return function(dt){return Qe.apply(this,arguments)}}(),se=(Qe,ct)=>{ct?(Qe.setAttribute("aria-hidden","true"),Qe.classList.add("ion-page-hidden")):(Qe.hidden=!1,Qe.removeAttribute("aria-hidden"),Qe.classList.remove("ion-page-hidden"))},ve=(Qe,ct,dt)=>{void 0!==Qe&&(Qe.style.zIndex="back"===dt?"99":"101"),void 0!==ct&&(ct.style.zIndex="100")},Oe=Qe=>Qe.classList.contains("ion-page")?Qe:Qe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Qe},9203:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{GESTURE_CONTROLLER:()=>f.G,createGesture:()=>$e});var f=x(619);const g=(Ae,Ne,Ce,Ye)=>{const Ve=K(Ae)?{capture:!!Ye.capture,passive:!!Ye.passive}:!!Ye.capture;let Ie,me;return Ae.__zone_symbol__addEventListener?(Ie="__zone_symbol__addEventListener",me="__zone_symbol__removeEventListener"):(Ie="addEventListener",me="removeEventListener"),Ae[Ie](Ne,Ce,Ve),()=>{Ae[me](Ne,Ce,Ve)}},K=Ae=>{if(void 0===ne)try{const Ne=Object.defineProperty({},"passive",{get:()=>{ne=!0}});Ae.addEventListener("optsTest",()=>{},Ne)}catch{ne=!1}return!!ne};let ne;const he=Ae=>Ae instanceof Document?Ae:Ae.ownerDocument,$e=Ae=>{let Ne=!1,Ce=!1,Ye=!0,Ve=!1;const Ie=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ae),me=Ie.canStart,ut=Ie.onWillStart,Re=Ie.onStart,He=Ie.onEnd,ge=Ie.notCaptured,qe=Ie.onMove,Me=Ie.threshold,se=Ie.passive,ve=Ie.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Qe=((Ae,Ne,Ce)=>{const Ye=Ce*(Math.PI/180),Ve="x"===Ae,Ie=Math.cos(Ye),me=Ne*Ne;let ut=0,Re=0,He=!1,ge=0;return{start(qe,Me){ut=qe,Re=Me,ge=0,He=!0},detect(qe,Me){if(!He)return!1;const se=qe-ut,ve=Me-Re,Oe=se*se+ve*ve;if(Oe<me)return!1;const Qe=Math.sqrt(Oe),ct=(Ve?se:ve)/Qe;return ge=ct>Ie?1:ct<-Ie?-1:0,He=!1,!0},isGesture:()=>0!==ge,getDirection:()=>ge}})(Ie.direction,Ie.threshold,Ie.maxAngle),ct=f.G.createGesture({name:Ae.gestureName,priority:Ae.gesturePriority,disableScroll:Ae.disableScroll}),mn=()=>{Ne&&(Ve=!1,qe&&qe(Oe))},Qt=()=>!!ct.capture()&&(Ne=!0,Ye=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,ut?ut(Oe).then(ie):ie(),!0),ie=()=>{ve&&(()=>{if(typeof document<"u"){const tt=document.activeElement;null!=tt&&tt.blur&&tt.blur()}})(),Re&&Re(Oe),Ye=!0},ye=()=>{Ne=!1,Ce=!1,Ve=!1,Ye=!0,ct.release()},Se=tt=>{const Rt=Ne,At=Ye;if(ye(),At){if(ue(Oe,tt),Rt)return void(He&&He(Oe));ge&&ge(Oe)}},Ze=((Ae,Ne,Ce,Ye,Ve)=>{let Ie,me,ut,Re,He,ge,qe,Me=0;const se=ht=>{Me=Date.now()+2e3,Ne(ht)&&(!me&&Ce&&(me=g(Ae,"touchmove",Ce,Ve)),ut||(ut=g(ht.target,"touchend",Oe,Ve)),Re||(Re=g(ht.target,"touchcancel",Oe,Ve)))},ve=ht=>{Me>Date.now()||Ne(ht)&&(!ge&&Ce&&(ge=g(he(Ae),"mousemove",Ce,Ve)),qe||(qe=g(he(Ae),"mouseup",Qe,Ve)))},Oe=ht=>{ct(),Ye&&Ye(ht)},Qe=ht=>{dt(),Ye&&Ye(ht)},ct=()=>{me&&me(),ut&&ut(),Re&&Re(),me=ut=Re=void 0},dt=()=>{ge&&ge(),qe&&qe(),ge=qe=void 0},Vt=()=>{ct(),dt()},mn=(ht=!0)=>{ht?(Ie||(Ie=g(Ae,"touchstart",se,Ve)),He||(He=g(Ae,"mousedown",ve,Ve))):(Ie&&Ie(),He&&He(),Ie=He=void 0,Vt())};return{enable:mn,stop:Vt,destroy:()=>{mn(!1),Ye=Ce=Ne=void 0}}})(Ie.el,tt=>{const Rt=be(tt);return!(Ce||!Ye||(le(tt,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=Rt,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=tt,me&&!1===me(Oe))||(ct.release(),!ct.start()))&&(Ce=!0,0===Me?Qt():(Qe.start(Oe.startX,Oe.startY),!0))},tt=>{Ne?!Ve&&Ye&&(Ve=!0,ue(Oe,tt),requestAnimationFrame(mn)):(ue(Oe,tt),Qe.detect(Oe.currentX,Oe.currentY)&&(!Qe.isGesture()||!Qt())&&rt())},Se,{capture:!1,passive:se}),rt=()=>{ye(),Ze.stop(),ge&&ge(Oe)};return{enable(tt=!0){tt||(Ne&&Se(void 0),ye()),Ze.enable(tt)},destroy(){ct.destroy(),Ze.destroy()}}},ue=(Ae,Ne)=>{if(!Ne)return;const Ce=Ae.currentX,Ye=Ae.currentY,Ve=Ae.currentTime;le(Ne,Ae);const Ie=Ae.currentX,me=Ae.currentY,Re=(Ae.currentTime=be(Ne))-Ve;if(Re>0&&Re<100){const ge=(me-Ye)/Re;Ae.velocityX=(Ie-Ce)/Re*.7+.3*Ae.velocityX,Ae.velocityY=.7*ge+.3*Ae.velocityY}Ae.deltaX=Ie-Ae.startX,Ae.deltaY=me-Ae.startY,Ae.event=Ne},le=(Ae,Ne)=>{let Ce=0,Ye=0;if(Ae){const Ve=Ae.changedTouches;if(Ve&&Ve.length>0){const Ie=Ve[0];Ce=Ie.clientX,Ye=Ie.clientY}else void 0!==Ae.pageX&&(Ce=Ae.pageX,Ye=Ae.pageY)}Ne.currentX=Ce,Ne.currentY=Ye},be=Ae=>Ae.timeStamp||Date.now()},152:(rn,it,x)=>{"use strict";x.d(it,{a:()=>le,b:()=>mn,c:()=>K,g:()=>ue,i:()=>Qt});var f=x(2364);class g{constructor(){this.m=new Map}reset(ie){this.m=new Map(Object.entries(ie))}get(ie,ye){const Se=this.m.get(ie);return void 0!==Se?Se:ye}getBoolean(ie,ye=!1){const Se=this.m.get(ie);return void 0===Se?ye:"string"==typeof Se?"true"===Se:!!Se}getNumber(ie,ye){const Se=parseFloat(this.m.get(ie));return isNaN(Se)?void 0!==ye?ye:NaN:Se}set(ie,ye){this.m.set(ie,ye)}}const K=new g,$e="ionic-persist-config",ue=ht=>be(ht),le=(ht,ie)=>("string"==typeof ht&&(ie=ht,ht=void 0),ue(ht).includes(ie)),be=(ht=window)=>{if(typeof ht>"u")return[];ht.Ionic=ht.Ionic||{};let ie=ht.Ionic.platforms;return null==ie&&(ie=ht.Ionic.platforms=Ae(ht),ie.forEach(ye=>ht.document.documentElement.classList.add(`plt-${ye}`))),ie},Ae=ht=>{const ie=K.get("platform");return Object.keys(dt).filter(ye=>{const Se=null==ie?void 0:ie[ye];return"function"==typeof Se?Se(ht):dt[ye](ht)})},Ce=ht=>!!(Qe(ht,/iPad/i)||Qe(ht,/Macintosh/i)&&He(ht)),Ie=ht=>Qe(ht,/android|sink/i),He=ht=>ct(ht,"(any-pointer:coarse)"),qe=ht=>Me(ht)||se(ht),Me=ht=>!!(ht.cordova||ht.phonegap||ht.PhoneGap),se=ht=>{const ie=ht.Capacitor;return!(null==ie||!ie.isNative)},Qe=(ht,ie)=>ie.test(ht.navigator.userAgent),ct=(ht,ie)=>{var ye;return null===(ye=ht.matchMedia)||void 0===ye?void 0:ye.call(ht,ie).matches},dt={ipad:Ce,iphone:ht=>Qe(ht,/iPhone/i),ios:ht=>Qe(ht,/iPhone|iPod/i)||Ce(ht),android:Ie,phablet:ht=>{const ie=ht.innerWidth,ye=ht.innerHeight,Se=Math.min(ie,ye),Ze=Math.max(ie,ye);return Se>390&&Se<520&&Ze>620&&Ze<800},tablet:ht=>{const ie=ht.innerWidth,ye=ht.innerHeight,Se=Math.min(ie,ye),Ze=Math.max(ie,ye);return Ce(ht)||(ht=>Ie(ht)&&!Qe(ht,/mobile/i))(ht)||Se>460&&Se<820&&Ze>780&&Ze<1400},cordova:Me,capacitor:se,electron:ht=>Qe(ht,/electron/i),pwa:ht=>{var ie;return!!(null!==(ie=ht.matchMedia)&&void 0!==ie&&ie.call(ht,"(display-mode: standalone)").matches||ht.navigator.standalone)},mobile:He,mobileweb:ht=>He(ht)&&!qe(ht),desktop:ht=>!He(ht),hybrid:qe};let Vt;const mn=ht=>ht&&(0,f.g)(ht)||Vt,Qt=(ht={})=>{if(typeof window>"u")return;const ie=window.document,ye=window,Se=ye.Ionic=ye.Ionic||{},Ze={};ht._ael&&(Ze.ael=ht._ael),ht._rel&&(Ze.rel=ht._rel),ht._ce&&(Ze.ce=ht._ce),(0,f.a)(Ze);const rt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ht=>{try{const ie=ht.sessionStorage.getItem($e);return null!==ie?JSON.parse(ie):{}}catch{return{}}})(ye)),{persistConfig:!1}),Se.config),(ht=>{const ie={};return ht.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,Se])=>[decodeURIComponent(ye),decodeURIComponent(Se)]).filter(([ye])=>((ht,ie)=>ht.substr(0,ie.length)===ie)(ye,"ionic:")).map(([ye,Se])=>[ye.slice(6),Se]).forEach(([ye,Se])=>{ie[ye]=Se}),ie})(ye)),ht);K.reset(rt),K.getBoolean("persistConfig")&&((ht,ie)=>{try{ht.sessionStorage.setItem($e,JSON.stringify(ie))}catch{return}})(ye,rt),be(ye),Se.config=K,Se.mode=Vt=K.get("mode",ie.documentElement.getAttribute("mode")||(le(ye,"ios")?"ios":"md")),K.set("mode",Vt),ie.documentElement.setAttribute("mode",Vt),ie.documentElement.classList.add(Vt),K.getBoolean("_testing")&&K.set("animated",!1);const tt=At=>{var Ht;return null===(Ht=At.tagName)||void 0===Ht?void 0:Ht.startsWith("ION-")},Rt=At=>["ios","md"].includes(At);(0,f.c)(At=>{for(;At;){const Ht=At.mode||At.getAttribute("mode");if(Ht){if(Rt(Ht))return Ht;tt(At)&&console.warn('Invalid ionic mode: "'+Ht+'", expected: "ios" or "md"')}At=At.parentElement}return Vt})}},7006:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{iosTransitionAnimation:()=>Ae,shadow:()=>he});var f=x(1774),g=x(2690);x(6225),x(2364);const Ee=Ne=>document.querySelector(`${Ne}.ion-cloned-element`),he=Ne=>Ne.shadowRoot||Ne,Ge=Ne=>{const Ce="ION-TABS"===Ne.tagName?Ne:Ne.querySelector("ion-tabs"),Ye="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ce){const Ve=Ce.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ve?Ve.querySelector(Ye):null}return Ne.querySelector(Ye)},$e=(Ne,Ce)=>{const Ye="ION-TABS"===Ne.tagName?Ne:Ne.querySelector("ion-tabs");let Ve=[];if(null!=Ye){const Ie=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ie&&(Ve=Ie.querySelectorAll("ion-buttons"))}else Ve=Ne.querySelectorAll("ion-buttons");for(const Ie of Ve){const me=Ie.closest("ion-header"),ut=me&&!me.classList.contains("header-collapse-condense-inactive"),Re=Ie.querySelector("ion-back-button"),He=Ie.classList.contains("buttons-collapse");if(null!==Re&&("start"===Ie.slot||""===Ie.slot)&&(He&&ut&&Ce||!He))return Re}return null},le=(Ne,Ce,Ye,Ve,Ie,me)=>{const ut=Ce?`calc(100% - ${me.right+4}px)`:me.left-4+"px",Re=Ce?"7px":"-7px",He=Ce?"-4px":"4px",ge=Ce?"-4px":"4px",qe=Ce?"right":"left",Me=Ce?"left":"right",Oe=Ye?[{offset:0,opacity:1,transform:`translate3d(${He}, ${me.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Re}, ${Ie.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Re}, ${Ie.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${He}, ${me.top-46}px, 0) scale(1)`}],dt=Ye?[{offset:0,opacity:1,transform:`translate3d(${ge}, ${me.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ge}, ${me.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ge}, ${me.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ge}, ${me.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ge}, ${me.top-46}px, 0) scale(1)`}],Vt=(0,f.c)(),mn=(0,f.c)(),Qt=Ee("ion-back-button"),ht=he(Qt).querySelector(".button-text"),ie=he(Qt).querySelector("ion-icon");Qt.text=Ve.text,Qt.mode=Ve.mode,Qt.icon=Ve.icon,Qt.color=Ve.color,Qt.disabled=Ve.disabled,Qt.style.setProperty("display","block"),Qt.style.setProperty("position","fixed"),mn.addElement(ie),Vt.addElement(ht),Vt.beforeStyles({"transform-origin":`${qe} center`}).beforeAddWrite(()=>{Ve.style.setProperty("display","none"),Qt.style.setProperty(qe,ut)}).afterAddWrite(()=>{Ve.style.setProperty("display",""),Qt.style.setProperty("display","none"),Qt.style.removeProperty(qe)}).keyframes(Oe),mn.beforeStyles({"transform-origin":`${Me} center`}).keyframes(dt),Ne.addAnimation([Vt,mn])},be=(Ne,Ce,Ye,Ve,Ie,me)=>{const ut=Ce?`calc(100% - ${Ie.right}px)`:`${Ie.left}px`,Re=Ce?"-18px":"18px",He=Ce?"right":"left",Me=Ye?[{offset:0,opacity:0,transform:`translate3d(${Re}, ${me.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ie.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ie.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Re}, ${me.top-4}px, 0) scale(0.5)`}],se=Ee("ion-title"),ve=(0,f.c)();se.innerText=Ve.innerText,se.size=Ve.size,se.color=Ve.color,ve.addElement(se),ve.beforeStyles({"transform-origin":`${He} center`,height:"46px",display:"",position:"relative",[He]:ut}).beforeAddWrite(()=>{Ve.style.setProperty("display","none")}).afterAddWrite(()=>{Ve.style.setProperty("display",""),se.style.setProperty("display","none")}).keyframes(Me),Ne.addAnimation(ve)},Ae=(Ne,Ce)=>{var Ye;try{const Ve="cubic-bezier(0.32,0.72,0,1)",Ie="opacity",me="transform",ut="0%",He="rtl"===Ne.ownerDocument.dir,ge=He?"-99.5%":"99.5%",qe=He?"33%":"-33%",Me=Ce.enteringEl,se=Ce.leavingEl,ve="back"===Ce.direction,Oe=Me.querySelector(":scope > ion-content"),Qe=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ct=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),dt=(0,f.c)(),Vt=(0,f.c)();if(dt.addElement(Me).duration((null!==(Ye=Ce.duration)&&void 0!==Ye?Ye:0)||540).easing(Ce.easing||Ve).fill("both").beforeRemoveClass("ion-page-invisible"),se&&null!=Ne){const ie=(0,f.c)();ie.addElement(Ne),dt.addAnimation(ie)}if(Oe||0!==ct.length||0!==Qe.length?(Vt.addElement(Oe),Vt.addElement(Qe)):Vt.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),dt.addAnimation(Vt),ve?Vt.beforeClearStyles([Ie]).fromTo("transform",`translateX(${qe})`,`translateX(${ut})`).fromTo(Ie,.8,1):Vt.beforeClearStyles([Ie]).fromTo("transform",`translateX(${ge})`,`translateX(${ut})`),Oe){const ie=he(Oe).querySelector(".transition-effect");if(ie){const ye=ie.querySelector(".transition-cover"),Se=ie.querySelector(".transition-shadow"),Ze=(0,f.c)(),rt=(0,f.c)(),tt=(0,f.c)();Ze.addElement(ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),rt.addElement(ye).beforeClearStyles([Ie]).fromTo(Ie,0,.1),tt.addElement(Se).beforeClearStyles([Ie]).fromTo(Ie,.03,.7),Ze.addAnimation([rt,tt]),Vt.addAnimation([Ze])}}const mn=Me.querySelector("ion-header.header-collapse-condense"),{forward:Qt,backward:ht}=((Ne,Ce,Ye,Ve,Ie)=>{const me=$e(Ve,Ye),ut=Ge(Ie),Re=Ge(Ve),He=$e(Ie,Ye),ge=null!==me&&null!==ut&&!Ye,qe=null!==Re&&null!==He&&Ye;if(ge){const Me=ut.getBoundingClientRect(),se=me.getBoundingClientRect();be(Ne,Ce,Ye,ut,Me,se),le(Ne,Ce,Ye,me,Me,se)}else if(qe){const Me=Re.getBoundingClientRect(),se=He.getBoundingClientRect();be(Ne,Ce,Ye,Re,Me,se),le(Ne,Ce,Ye,He,Me,se)}return{forward:ge,backward:qe}})(dt,He,ve,Me,se);if(ct.forEach(ie=>{const ye=(0,f.c)();ye.addElement(ie),dt.addAnimation(ye);const Se=(0,f.c)();Se.addElement(ie.querySelector("ion-title"));const Ze=(0,f.c)(),rt=Array.from(ie.querySelectorAll("ion-buttons,[menuToggle]")),tt=ie.closest("ion-header"),Rt=null==tt?void 0:tt.classList.contains("header-collapse-condense-inactive");let At;At=rt.filter(ve?gt=>{const mt=gt.classList.contains("buttons-collapse");return mt&&!Rt||!mt}:gt=>!gt.classList.contains("buttons-collapse")),Ze.addElement(At);const Ht=(0,f.c)();Ht.addElement(ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xe=(0,f.c)();Xe.addElement(he(ie).querySelector(".toolbar-background"));const Cn=(0,f.c)(),yt=ie.querySelector("ion-back-button");if(yt&&Cn.addElement(yt),ye.addAnimation([Se,Ze,Ht,Xe,Cn]),Ze.fromTo(Ie,.01,1),Ht.fromTo(Ie,.01,1),ve)Rt||Se.fromTo("transform",`translateX(${qe})`,`translateX(${ut})`).fromTo(Ie,.01,1),Ht.fromTo("transform",`translateX(${qe})`,`translateX(${ut})`),Cn.fromTo(Ie,.01,1);else if(mn||Se.fromTo("transform",`translateX(${ge})`,`translateX(${ut})`).fromTo(Ie,.01,1),Ht.fromTo("transform",`translateX(${ge})`,`translateX(${ut})`),Xe.beforeClearStyles([Ie,"transform"]),(null==tt?void 0:tt.translucent)?Xe.fromTo("transform",He?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xe.fromTo(Ie,.01,"var(--opacity)"),Qt||Cn.fromTo(Ie,.01,1),yt&&!Qt){const mt=(0,f.c)();mt.addElement(he(yt).querySelector(".button-text")).fromTo("transform",He?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(mt)}}),se){const ie=(0,f.c)(),ye=se.querySelector(":scope > ion-content"),Se=se.querySelectorAll(":scope > ion-header > ion-toolbar"),Ze=se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==Se.length||0!==Ze.length?(ie.addElement(ye),ie.addElement(Ze)):ie.addElement(se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),dt.addAnimation(ie),ve){ie.beforeClearStyles([Ie]).fromTo("transform",`translateX(${ut})`,He?"translateX(-100%)":"translateX(100%)");const rt=(0,g.g)(se);dt.afterAddWrite(()=>{"normal"===dt.getDirection()&&rt.style.setProperty("display","none")})}else ie.fromTo("transform",`translateX(${ut})`,`translateX(${qe})`).fromTo(Ie,1,.8);if(ye){const rt=he(ye).querySelector(".transition-effect");if(rt){const tt=rt.querySelector(".transition-cover"),Rt=rt.querySelector(".transition-shadow"),At=(0,f.c)(),Ht=(0,f.c)(),Xe=(0,f.c)();At.addElement(rt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ht.addElement(tt).beforeClearStyles([Ie]).fromTo(Ie,.1,0),Xe.addElement(Rt).beforeClearStyles([Ie]).fromTo(Ie,.7,.03),At.addAnimation([Ht,Xe]),ie.addAnimation([At])}}Se.forEach(rt=>{const tt=(0,f.c)();tt.addElement(rt);const Rt=(0,f.c)();Rt.addElement(rt.querySelector("ion-title"));const At=(0,f.c)(),Ht=rt.querySelectorAll("ion-buttons,[menuToggle]"),Xe=rt.closest("ion-header"),Cn=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive"),yt=Array.from(Ht).filter(kn=>{const dn=kn.classList.contains("buttons-collapse");return dn&&!Cn||!dn});At.addElement(yt);const gt=(0,f.c)(),mt=rt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");mt.length>0&&gt.addElement(mt);const Ut=(0,f.c)();Ut.addElement(he(rt).querySelector(".toolbar-background"));const tn=(0,f.c)(),Hn=rt.querySelector("ion-back-button");if(Hn&&tn.addElement(Hn),tt.addAnimation([Rt,At,gt,tn,Ut]),dt.addAnimation(tt),tn.fromTo(Ie,.99,0),At.fromTo(Ie,.99,0),gt.fromTo(Ie,.99,0),ve){if(Cn||Rt.fromTo("transform",`translateX(${ut})`,He?"translateX(-100%)":"translateX(100%)").fromTo(Ie,.99,0),gt.fromTo("transform",`translateX(${ut})`,He?"translateX(-100%)":"translateX(100%)"),Ut.beforeClearStyles([Ie,"transform"]),(null==Xe?void 0:Xe.translucent)?Ut.fromTo("transform","translateX(0px)",He?"translateX(-100%)":"translateX(100%)"):Ut.fromTo(Ie,"var(--opacity)",0),Hn&&!ht){const dn=(0,f.c)();dn.addElement(he(Hn).querySelector(".button-text")).fromTo("transform",`translateX(${ut})`,`translateX(${(He?-124:124)+"px"})`),tt.addAnimation(dn)}}else Cn||Rt.fromTo("transform",`translateX(${ut})`,`translateX(${qe})`).fromTo(Ie,.99,0).afterClearStyles([me,Ie]),gt.fromTo("transform",`translateX(${ut})`,`translateX(${qe})`).afterClearStyles([me,Ie]),tn.afterClearStyles([Ie]),Rt.afterClearStyles([Ie]),At.afterClearStyles([Ie])})}return dt}catch(Ve){throw Ve}}},2952:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{mdTransitionAnimation:()=>Te});var f=x(1774),g=x(2690);x(6225),x(2364);const Te=(Ee,he)=>{var Ge,$e,ue;const Ae="back"===he.direction,Ce=he.leavingEl,Ye=(0,g.g)(he.enteringEl),Ve=Ye.querySelector("ion-toolbar"),Ie=(0,f.c)();if(Ie.addElement(Ye).fill("both").beforeRemoveClass("ion-page-invisible"),Ae?Ie.duration((null!==(Ge=he.duration)&&void 0!==Ge?Ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ie.duration((null!==($e=he.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ve){const me=(0,f.c)();me.addElement(Ve),Ie.addAnimation(me)}if(Ce&&Ae){Ie.duration((null!==(ue=he.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const me=(0,f.c)();me.addElement((0,g.g)(Ce)).onFinish(ut=>{1===ut&&me.elements.length>0&&me.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ie.addAnimation(me)}return Ie}},1912:(rn,it,x)=>{"use strict";x.d(it,{B:()=>At,G:()=>Ht,a:()=>be,b:()=>Ae,c:()=>Ve,d:()=>Xe,e:()=>Cn,f:()=>mn,g:()=>ht,h:()=>Se,i:()=>rt,j:()=>me,k:()=>ut,l:()=>Ne,m:()=>Ce,n:()=>ue,o:()=>ge,q:()=>dt,s:()=>Rt,t:()=>Ie});var f=x(5861),g=x(6225),K=x(152),ne=x(6559),Te=x(2124),Ee=x(839),he=x(6710);let Ge=0,$e=0;const ue=new WeakMap,le=yt=>({create:gt=>Re(yt,gt),dismiss:(gt,mt,Ut)=>Oe(document,gt,mt,yt,Ut),getTop:()=>(0,f.Z)(function*(){return dt(document,yt)})()}),be=le("ion-alert"),Ae=le("ion-action-sheet"),Ne=le("ion-loading"),Ce=le("ion-modal"),Ve=le("ion-popover"),Ie=le("ion-toast"),me=yt=>{typeof document<"u"&&ve(document);const gt=Ge++;yt.overlayIndex=gt},ut=yt=>(yt.hasAttribute("id")||(yt.id="ion-overlay-"+ ++$e),yt.id),Re=(yt,gt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(yt).then(()=>{const mt=document.createElement(yt);return mt.classList.add("overlay-hidden"),Object.assign(mt,Object.assign(Object.assign({},gt),{hasController:!0})),ie(document).appendChild(mt),new Promise(Ut=>(0,Ee.c)(mt,Ut))}):Promise.resolve(),He='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ge=(yt,gt)=>{let mt=yt.querySelector(He);const Ut=null==mt?void 0:mt.shadowRoot;Ut&&(mt=Ut.querySelector(He)||mt),mt?(0,Ee.f)(mt):gt.focus()},Me=(yt,gt)=>{const mt=Array.from(yt.querySelectorAll(He));let Ut=mt.length>0?mt[mt.length-1]:null;const tn=null==Ut?void 0:Ut.shadowRoot;tn&&(Ut=tn.querySelector(He)||Ut),Ut?Ut.focus():gt.focus()},ve=yt=>{0===Ge&&(Ge=1,yt.addEventListener("focus",gt=>{((yt,gt)=>{const mt=dt(gt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ut=yt.target;mt&&Ut&&!mt.classList.contains("ion-disable-focus-trap")&&(mt.shadowRoot?(()=>{if(mt.contains(Ut))mt.lastFocus=Ut;else{const kn=mt.lastFocus;ge(mt,mt),kn===gt.activeElement&&Me(mt,mt),mt.lastFocus=gt.activeElement}})():(()=>{if(mt===Ut)mt.lastFocus=void 0;else{const kn=(0,Ee.g)(mt);if(!kn.contains(Ut))return;const dn=kn.querySelector(".ion-overlay-wrapper");if(!dn)return;if(dn.contains(Ut)||Ut===kn.querySelector("ion-backdrop"))mt.lastFocus=Ut;else{const gn=mt.lastFocus;ge(dn,mt),gn===gt.activeElement&&Me(dn,mt),mt.lastFocus=gt.activeElement}}})())})(gt,yt)},!0),yt.addEventListener("ionBackButton",gt=>{const mt=dt(yt);null!=mt&&mt.backdropDismiss&&gt.detail.register(Te.OVERLAY_BACK_BUTTON_PRIORITY,()=>mt.dismiss(void 0,At))}),yt.addEventListener("keydown",gt=>{if("Escape"===gt.key){const mt=dt(yt);null!=mt&&mt.backdropDismiss&&mt.dismiss(void 0,At)}}))},Oe=(yt,gt,mt,Ut,tn)=>{const Hn=dt(yt,Ut,tn);return Hn?Hn.dismiss(gt,mt):Promise.reject("overlay does not exist")},ct=(yt,gt)=>((yt,gt)=>(void 0===gt&&(gt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(yt.querySelectorAll(gt)).filter(mt=>mt.overlayIndex>0)))(yt,gt).filter(mt=>!(yt=>yt.classList.contains("overlay-hidden"))(mt)),dt=(yt,gt,mt)=>{const Ut=ct(yt,gt);return void 0===mt?Ut[Ut.length-1]:Ut.find(tn=>tn.id===mt)},Vt=(yt=!1)=>{const mt=ie(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");mt&&(yt?mt.setAttribute("aria-hidden","true"):mt.removeAttribute("aria-hidden"))},mn=function(){var yt=(0,f.Z)(function*(gt,mt,Ut,tn,Hn){var kn,dn;if(gt.presented)return;Vt(!0),gt.presented=!0,gt.willPresent.emit(),null===(kn=gt.willPresentShorthand)||void 0===kn||kn.emit();const gn=(0,K.b)(gt),Rn=gt.enterAnimation?gt.enterAnimation:K.c.get(mt,"ios"===gn?Ut:tn);(yield ye(gt,Rn,gt.el,Hn))&&(gt.didPresent.emit(),null===(dn=gt.didPresentShorthand)||void 0===dn||dn.emit()),"ION-TOAST"!==gt.el.tagName&&Qt(gt.el),gt.keyboardClose&&(null===document.activeElement||!gt.el.contains(document.activeElement))&&gt.el.focus()});return function(mt,Ut,tn,Hn,kn){return yt.apply(this,arguments)}}(),Qt=function(){var yt=(0,f.Z)(function*(gt){let mt=document.activeElement;if(!mt)return;const Ut=null==mt?void 0:mt.shadowRoot;Ut&&(mt=Ut.querySelector(He)||mt),yield gt.onDidDismiss(),mt.focus()});return function(mt){return yt.apply(this,arguments)}}(),ht=function(){var yt=(0,f.Z)(function*(gt,mt,Ut,tn,Hn,kn,dn){var gn,Rn;if(!gt.presented)return!1;void 0!==g.d&&1===ct(g.d).length&&Vt(!1),gt.presented=!1;try{gt.el.style.setProperty("pointer-events","none"),gt.willDismiss.emit({data:mt,role:Ut}),null===(gn=gt.willDismissShorthand)||void 0===gn||gn.emit({data:mt,role:Ut});const xr=(0,K.b)(gt),Er=gt.leaveAnimation?gt.leaveAnimation:K.c.get(tn,"ios"===xr?Hn:kn);Ut!==Ht&&(yield ye(gt,Er,gt.el,dn)),gt.didDismiss.emit({data:mt,role:Ut}),null===(Rn=gt.didDismissShorthand)||void 0===Rn||Rn.emit({data:mt,role:Ut}),ue.delete(gt),gt.el.classList.add("overlay-hidden"),gt.el.style.removeProperty("pointer-events"),void 0!==gt.el.lastFocus&&(gt.el.lastFocus=void 0)}catch(xr){console.error(xr)}return gt.el.remove(),!0});return function(mt,Ut,tn,Hn,kn,dn,gn){return yt.apply(this,arguments)}}(),ie=yt=>yt.querySelector("ion-app")||yt.body,ye=function(){var yt=(0,f.Z)(function*(gt,mt,Ut,tn){Ut.classList.remove("overlay-hidden");const kn=mt(gt.el,tn);(!gt.animated||!K.c.getBoolean("animated",!0))&&kn.duration(0),gt.keyboardClose&&kn.beforeAddWrite(()=>{const gn=Ut.ownerDocument.activeElement;null!=gn&&gn.matches("input,ion-input, ion-textarea")&&gn.blur()});const dn=ue.get(gt)||[];return ue.set(gt,[...dn,kn]),yield kn.play(),!0});return function(mt,Ut,tn,Hn){return yt.apply(this,arguments)}}(),Se=(yt,gt)=>{let mt;const Ut=new Promise(tn=>mt=tn);return Ze(yt,gt,tn=>{mt(tn.detail)}),Ut},Ze=(yt,gt,mt)=>{const Ut=tn=>{(0,Ee.b)(yt,gt,Ut),mt(tn)};(0,Ee.a)(yt,gt,Ut)},rt=yt=>"cancel"===yt||yt===At,tt=yt=>yt(),Rt=(yt,gt)=>{if("function"==typeof yt)return K.c.get("_zoneGate",tt)(()=>{try{return yt(gt)}catch(Ut){throw Ut}})},At="backdrop",Ht="gesture",Xe=yt=>{let mt,gt=!1;const Ut=(0,ne.C)(),tn=(dn=!1)=>{if(mt&&!dn)return{delegate:mt,inline:gt};const{el:gn,hasController:Rn,delegate:xr}=yt;return gt=null!==gn.parentNode&&!Rn,mt=gt?xr||Ut:xr,{inline:gt,delegate:mt}};return{attachViewToDom:function(){var dn=(0,f.Z)(function*(gn){const{delegate:Rn}=tn(!0);if(Rn)return yield Rn.attachViewToDom(yt.el,gn);const{hasController:xr}=yt;if(xr&&void 0!==gn)throw new Error("framework delegate is missing");return null});return function(Rn){return dn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:dn}=tn();dn&&void 0!==yt.el&&dn.removeViewFromDom(yt.el.parentElement,yt.el)}}},Cn=()=>{let yt;const gt=()=>{yt&&(yt(),yt=void 0)};return{addClickListener:(Ut,tn)=>{gt();const Hn=void 0!==tn?document.getElementById(tn):null;Hn?yt=((dn,gn)=>{const Rn=()=>{gn.present()};return dn.addEventListener("click",Rn),()=>{dn.removeEventListener("click",Rn)}})(Hn,Ut):(0,he.p)(`A trigger element with the ID "${tn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ut)},removeClickListener:gt}}},5351:(rn,it,x)=>{"use strict";var f=x(6593),g=x(5879),K=x(2692),ne=x(6761);let Te=(()=>{var Ce;class Ye{constructor(){}}return(Ce=Ye).\u0275fac=function(Ie){return new(Ie||Ce)},Ce.\u0275cmp=g.Xpm({type:Ce,selectors:[["app-root"]],decls:2,vars:0,template:function(Ie,me){1&Ie&&(g.TgZ(0,"ion-app"),g._UZ(1,"ion-router-outlet"),g.qZA())},dependencies:[ne.dr,ne.jP]}),Ye})();const Ee=[{path:"home",loadChildren:()=>Promise.all([x.e(8592),x.e(7992)]).then(x.bind(x,7992)).then(Ce=>Ce.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"log-in",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(9539)]).then(x.bind(x,9539)).then(Ce=>Ce.LogInPageModule)},{path:"olvide-password",loadChildren:()=>Promise.all([x.e(8592),x.e(9493)]).then(x.bind(x,9493)).then(Ce=>Ce.OlvidePasswordPageModule)},{path:"asistencia",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(614)]).then(x.bind(x,614)).then(Ce=>Ce.AsistenciaPageModule)},{path:"alumno",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(9573)]).then(x.bind(x,9573)).then(Ce=>Ce.AlumnoPageModule)},{path:"docente",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(7379)]).then(x.bind(x,7379)).then(Ce=>Ce.DocentePageModule)},{path:"horario",loadChildren:()=>Promise.all([x.e(8592),x.e(2175)]).then(x.bind(x,2175)).then(Ce=>Ce.HorarioPageModule)},{path:"cuenta",loadChildren:()=>Promise.all([x.e(1273),x.e(8592)]).then(x.bind(x,5763)).then(Ce=>Ce.CuentaPageModule)},{path:"asistencia-qr",loadChildren:()=>Promise.all([x.e(1273),x.e(8592)]).then(x.bind(x,4791)).then(Ce=>Ce.AsistenciaQrPageModule)},{path:"cursos",loadChildren:()=>Promise.all([x.e(1273),x.e(8592)]).then(x.bind(x,3650)).then(Ce=>Ce.CursosPageModule)},{path:"asignaturas",loadChildren:()=>Promise.all([x.e(1273),x.e(8592)]).then(x.bind(x,7907)).then(Ce=>Ce.AsignaturasPageModule)},{path:"cuenta-d",loadChildren:()=>Promise.all([x.e(1273),x.e(8592)]).then(x.bind(x,8142)).then(Ce=>Ce.CuentaDPageModule)},{path:"generador-asis",loadChildren:()=>Promise.all([x.e(1273),x.e(4092),x.e(8592)]).then(x.bind(x,4092)).then(Ce=>Ce.GeneradorAsisPageModule)},{path:"admin-log",loadChildren:()=>Promise.all([x.e(8592),x.e(7127)]).then(x.bind(x,7127)).then(Ce=>Ce.AdminLogPageModule)},{path:"admin-log",loadChildren:()=>Promise.all([x.e(8592),x.e(7127)]).then(x.bind(x,7127)).then(Ce=>Ce.AdminLogPageModule)},{path:"admin",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(8763)]).then(x.bind(x,8763)).then(Ce=>Ce.AdminPageModule)},{path:"resgistrar",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(5575)]).then(x.bind(x,5575)).then(Ce=>Ce.ResgistrarPageModule)},{path:"modificar",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(2282)]).then(x.bind(x,2282)).then(Ce=>Ce.ModificarPageModule)},{path:"admin",loadChildren:()=>Promise.all([x.e(1273),x.e(8592),x.e(8763)]).then(x.bind(x,8763)).then(Ce=>Ce.AdminPageModule)}];let he=(()=>{var Ce;class Ye{}return(Ce=Ye).\u0275fac=function(Ie){return new(Ie||Ce)},Ce.\u0275mod=g.oAB({type:Ce}),Ce.\u0275inj=g.cJS({imports:[K.Bz.forRoot(Ee,{preloadingStrategy:K.wm}),K.Bz]}),Ye})();var Ge=x(6304);const $e_firebaseConfig={apiKey:"AIzaSyCXa-yIkcrkRSASC-HoxtHaITXpLe43SGI",authDomain:"appacademic-bb066.firebaseapp.com",projectId:"appacademic-bb066",storageBucket:"appacademic-bb066.appspot.com",messagingSenderId:"23193883544",appId:"1:23193883544:web:ed2aacd9f0b346370d11ed",measurementId:"G-5M8E0QCR63"};var ue=x(6796),le=x(9862),be=x(8022);let Ae=(()=>{var Ce;class Ye{constructor(){}}return(Ce=Ye).\u0275fac=function(Ie){return new(Ie||Ce)},Ce.\u0275mod=g.oAB({type:Ce,bootstrap:[Te]}),Ce.\u0275inj=g.cJS({providers:[{provide:K.wN,useClass:ne.r4}],imports:[f.b2,ne.Pc.forRoot({mode:"md"}),he,Ge.hO.initializeApp($e_firebaseConfig),ue.ww,be.yb,le.JF]}),Ye})();(0,g.G48)(),f.q6().bootstrapModule(Ae).catch(Ce=>console.log(Ce))},5619:(rn,it,x)=>{"use strict";x.d(it,{X:()=>g});var f=x(8645);class g extends f.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const Te=super._subscribe(ne);return!Te.closed&&ne.next(this._value),Te}getValue(){const{hasError:ne,thrownError:Te,_value:Ee}=this;if(ne)throw Te;return this._throwIfClosed(),Ee}next(ne){super.next(this._value=ne)}}},5592:(rn,it,x)=>{"use strict";x.d(it,{y:()=>Ge});var f=x(305),g=x(7394),K=x(4850),ne=x(8407),Te=x(2653),Ee=x(4674),he=x(1441);let Ge=(()=>{class be{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Ce=new be;return Ce.source=this,Ce.operator=Ne,Ce}subscribe(Ne,Ce,Ye){const Ve=function le(be){return be&&be instanceof f.Lv||function ue(be){return be&&(0,Ee.m)(be.next)&&(0,Ee.m)(be.error)&&(0,Ee.m)(be.complete)}(be)&&(0,g.Nn)(be)}(Ne)?Ne:new f.Hp(Ne,Ce,Ye);return(0,he.x)(()=>{const{operator:Ie,source:me}=this;Ve.add(Ie?Ie.call(Ve,me):me?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ce){Ne.error(Ce)}}forEach(Ne,Ce){return new(Ce=$e(Ce))((Ye,Ve)=>{const Ie=new f.Hp({next:me=>{try{Ne(me)}catch(ut){Ve(ut),Ie.unsubscribe()}},error:Ve,complete:Ye});this.subscribe(Ie)})}_subscribe(Ne){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Ne)}[K.L](){return this}pipe(...Ne){return(0,ne.U)(Ne)(this)}toPromise(Ne){return new(Ne=$e(Ne))((Ce,Ye)=>{let Ve;this.subscribe(Ie=>Ve=Ie,Ie=>Ye(Ie),()=>Ce(Ve))})}}return be.create=Ae=>new be(Ae),be})();function $e(be){var Ae;return null!==(Ae=null!=be?be:Te.config.Promise)&&void 0!==Ae?Ae:Promise}},8645:(rn,it,x)=>{"use strict";x.d(it,{x:()=>he});var f=x(5592),g=x(7394);const ne=(0,x(2306).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=x(9039),Ee=x(1441);let he=(()=>{class $e extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const be=new Ge(this,this);return be.operator=le,be}_throwIfClosed(){if(this.closed)throw new ne}next(le){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(le)}})}error(le){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:be}=this;for(;be.length;)be.shift().error(le)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:be,isStopped:Ae,observers:Ne}=this;return be||Ae?g.Lc:(this.currentObservers=null,Ne.push(le),new g.w0(()=>{this.currentObservers=null,(0,Te.P)(Ne,le)}))}_checkFinalizedStatuses(le){const{hasError:be,thrownError:Ae,isStopped:Ne}=this;be?le.error(Ae):Ne&&le.complete()}asObservable(){const le=new f.y;return le.source=this,le}}return $e.create=(ue,le)=>new Ge(ue,le),$e})();class Ge extends he{constructor(ue,le){super(),this.destination=ue,this.source=le}next(ue){var le,be;null===(be=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===be||be.call(le,ue)}error(ue){var le,be;null===(be=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===be||be.call(le,ue)}complete(){var ue,le;null===(le=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===le||le.call(ue)}_subscribe(ue){var le,be;return null!==(be=null===(le=this.source)||void 0===le?void 0:le.subscribe(ue))&&void 0!==be?be:g.Lc}}},305:(rn,it,x)=>{"use strict";x.d(it,{Hp:()=>Ye,Lv:()=>be});var f=x(4674),g=x(7394),K=x(2653),ne=x(3894),Te=x(2420);const Ee=$e("C",void 0,void 0);function $e(Re,He,ge){return{kind:Re,value:He,error:ge}}var ue=x(7599),le=x(1441);class be extends g.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,g.Nn)(He)&&He.add(this)):this.destination=ut}static create(He,ge,qe){return new Ye(He,ge,qe)}next(He){this.isStopped?me(function Ge(Re){return $e("N",Re,void 0)}(He),this):this._next(He)}error(He){this.isStopped?me(function he(Re){return $e("E",void 0,Re)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?me(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Ne(Re,He){return Ae.call(Re,He)}class Ce{constructor(He){this.partialObserver=He}next(He){const{partialObserver:ge}=this;if(ge.next)try{ge.next(He)}catch(qe){Ve(qe)}}error(He){const{partialObserver:ge}=this;if(ge.error)try{ge.error(He)}catch(qe){Ve(qe)}else Ve(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(ge){Ve(ge)}}}class Ye extends be{constructor(He,ge,qe){let Me;if(super(),(0,f.m)(He)||!He)Me={next:null!=He?He:void 0,error:null!=ge?ge:void 0,complete:null!=qe?qe:void 0};else{let se;this&&K.config.useDeprecatedNextContext?(se=Object.create(He),se.unsubscribe=()=>this.unsubscribe(),Me={next:He.next&&Ne(He.next,se),error:He.error&&Ne(He.error,se),complete:He.complete&&Ne(He.complete,se)}):Me=He}this.destination=new Ce(Me)}}function Ve(Re){K.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(Re):(0,ne.h)(Re)}function me(Re,He){const{onStoppedNotification:ge}=K.config;ge&&ue.z.setTimeout(()=>ge(Re,He))}const ut={closed:!0,next:Te.Z,error:function Ie(Re){throw Re},complete:Te.Z}},7394:(rn,it,x)=>{"use strict";x.d(it,{Lc:()=>Ee,w0:()=>Te,Nn:()=>he});var f=x(4674);const K=(0,x(2306).d)($e=>function(le){$e(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((be,Ae)=>`${Ae+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ne=x(9039);class Te{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Ne of le)Ne.remove(this);else le.remove(this);const{initialTeardown:be}=this;if((0,f.m)(be))try{be()}catch(Ne){ue=Ne instanceof K?Ne.errors:[Ne]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Ne of Ae)try{Ge(Ne)}catch(Ce){ue=null!=ue?ue:[],Ce instanceof K?ue=[...ue,...Ce.errors]:ue.push(Ce)}}if(ue)throw new K(ue)}}add(ue){var le;if(ue&&ue!==this)if(this.closed)Ge(ue);else{if(ue instanceof Te){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ue)}}_hasParent(ue){const{_parentage:le}=this;return le===ue||Array.isArray(le)&&le.includes(ue)}_addParent(ue){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ue),le):le?[le,ue]:ue}_removeParent(ue){const{_parentage:le}=this;le===ue?this._parentage=null:Array.isArray(le)&&(0,ne.P)(le,ue)}remove(ue){const{_finalizers:le}=this;le&&(0,ne.P)(le,ue),ue instanceof Te&&ue._removeParent(this)}}Te.EMPTY=(()=>{const $e=new Te;return $e.closed=!0,$e})();const Ee=Te.EMPTY;function he($e){return $e instanceof Te||$e&&"closed"in $e&&(0,f.m)($e.remove)&&(0,f.m)($e.add)&&(0,f.m)($e.unsubscribe)}function Ge($e){(0,f.m)($e)?$e():$e.unsubscribe()}},2653:(rn,it,x)=>{"use strict";x.d(it,{config:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(rn,it,x)=>{"use strict";x.d(it,{a:()=>ue});var f=x(5592),g=x(7453),K=x(2459),ne=x(2737),Te=x(7400),Ee=x(4564),he=x(2714),Ge=x(8251),$e=x(7103);function ue(...Ae){const Ne=(0,Ee.yG)(Ae),Ce=(0,Ee.jO)(Ae),{args:Ye,keys:Ve}=(0,g.D)(Ae);if(0===Ye.length)return(0,K.D)([],Ne);const Ie=new f.y(function le(Ae,Ne,Ce=ne.y){return Ye=>{be(Ne,()=>{const{length:Ve}=Ae,Ie=new Array(Ve);let me=Ve,ut=Ve;for(let Re=0;Re<Ve;Re++)be(Ne,()=>{const He=(0,K.D)(Ae[Re],Ne);let ge=!1;He.subscribe((0,Ge.x)(Ye,qe=>{Ie[Re]=qe,ge||(ge=!0,ut--),ut||Ye.next(Ce(Ie.slice()))},()=>{--me||Ye.complete()}))},Ye)},Ye)}}(Ye,Ne,Ve?me=>(0,he.n)(Ve,me):ne.y));return Ce?Ie.pipe((0,Te.Z)(Ce)):Ie}function be(Ae,Ne,Ce){Ae?(0,$e.f)(Ce,Ae,Ne):Ne()}},5211:(rn,it,x)=>{"use strict";x.d(it,{z:()=>Te});var f=x(7537),K=x(4564),ne=x(2459);function Te(...Ee){return function g(){return(0,f.J)(1)}()((0,ne.D)(Ee,(0,K.yG)(Ee)))}},6232:(rn,it,x)=>{"use strict";x.d(it,{E:()=>g});const g=new(x(5592).y)(Te=>Te.complete())},2459:(rn,it,x)=>{"use strict";x.d(it,{D:()=>He});var f=x(4829),g=x(3093),K=x(5137),Ee=x(5592),Ge=x(4971),$e=x(4674),ue=x(7103);function be(ge,qe){if(!ge)throw new Error("Iterable cannot be null");return new Ee.y(Me=>{(0,ue.f)(Me,qe,()=>{const se=ge[Symbol.asyncIterator]();(0,ue.f)(Me,qe,()=>{se.next().then(ve=>{ve.done?Me.complete():Me.next(ve.value)})},0,!0)})})}var Ae=x(8382),Ne=x(4026),Ce=x(4266),Ye=x(3664),Ve=x(5726),Ie=x(9853),me=x(541);function He(ge,qe){return qe?function Re(ge,qe){if(null!=ge){if((0,Ae.c)(ge))return function ne(ge,qe){return(0,f.Xf)(ge).pipe((0,K.R)(qe),(0,g.Q)(qe))}(ge,qe);if((0,Ce.z)(ge))return function he(ge,qe){return new Ee.y(Me=>{let se=0;return qe.schedule(function(){se===ge.length?Me.complete():(Me.next(ge[se++]),Me.closed||this.schedule())})})}(ge,qe);if((0,Ne.t)(ge))return function Te(ge,qe){return(0,f.Xf)(ge).pipe((0,K.R)(qe),(0,g.Q)(qe))}(ge,qe);if((0,Ve.D)(ge))return be(ge,qe);if((0,Ye.T)(ge))return function le(ge,qe){return new Ee.y(Me=>{let se;return(0,ue.f)(Me,qe,()=>{se=ge[Ge.h](),(0,ue.f)(Me,qe,()=>{let ve,Oe;try{({value:ve,done:Oe}=se.next())}catch(Qe){return void Me.error(Qe)}Oe?Me.complete():Me.next(ve)},0,!0)}),()=>(0,$e.m)(null==se?void 0:se.return)&&se.return()})}(ge,qe);if((0,me.L)(ge))return function ut(ge,qe){return be((0,me.Q)(ge),qe)}(ge,qe)}throw(0,Ie.z)(ge)}(ge,qe):(0,f.Xf)(ge)}},4829:(rn,it,x)=>{"use strict";x.d(it,{Xf:()=>Ae});var f=x(7582),g=x(4266),K=x(4026),ne=x(5592),Te=x(8382),Ee=x(5726),he=x(9853),Ge=x(3664),$e=x(541),ue=x(4674),le=x(3894),be=x(4850);function Ae(Re){if(Re instanceof ne.y)return Re;if(null!=Re){if((0,Te.c)(Re))return function Ne(Re){return new ne.y(He=>{const ge=Re[be.L]();if((0,ue.m)(ge.subscribe))return ge.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,g.z)(Re))return function Ce(Re){return new ne.y(He=>{for(let ge=0;ge<Re.length&&!He.closed;ge++)He.next(Re[ge]);He.complete()})}(Re);if((0,K.t)(Re))return function Ye(Re){return new ne.y(He=>{Re.then(ge=>{He.closed||(He.next(ge),He.complete())},ge=>He.error(ge)).then(null,le.h)})}(Re);if((0,Ee.D)(Re))return Ie(Re);if((0,Ge.T)(Re))return function Ve(Re){return new ne.y(He=>{for(const ge of Re)if(He.next(ge),He.closed)return;He.complete()})}(Re);if((0,$e.L)(Re))return function me(Re){return Ie((0,$e.Q)(Re))}(Re)}throw(0,he.z)(Re)}function Ie(Re){return new ne.y(He=>{(function ut(Re,He){var ge,qe,Me,se;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ge=(0,f.KL)(Re);!(qe=yield ge.next()).done;)if(He.next(qe.value),He.closed)return}catch(ve){Me={error:ve}}finally{try{qe&&!qe.done&&(se=ge.return)&&(yield se.call(ge))}finally{if(Me)throw Me.error}}He.complete()})})(Re,He).catch(ge=>He.error(ge))})}},3019:(rn,it,x)=>{"use strict";x.d(it,{T:()=>Ee});var f=x(7537),g=x(4829),K=x(6232),ne=x(4564),Te=x(2459);function Ee(...he){const Ge=(0,ne.yG)(he),$e=(0,ne._6)(he,1/0),ue=he;return ue.length?1===ue.length?(0,g.Xf)(ue[0]):(0,f.J)($e)((0,Te.D)(ue,Ge)):K.E}},2096:(rn,it,x)=>{"use strict";x.d(it,{of:()=>K});var f=x(4564),g=x(2459);function K(...ne){const Te=(0,f.yG)(ne);return(0,g.D)(ne,Te)}},8251:(rn,it,x)=>{"use strict";x.d(it,{x:()=>g});var f=x(305);function g(ne,Te,Ee,he,Ge){return new K(ne,Te,Ee,he,Ge)}class K extends f.Lv{constructor(Te,Ee,he,Ge,$e,ue){super(Te),this.onFinalize=$e,this.shouldUnsubscribe=ue,this._next=Ee?function(le){try{Ee(le)}catch(be){Te.error(be)}}:super._next,this._error=Ge?function(le){try{Ge(le)}catch(be){Te.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(le){Te.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},6328:(rn,it,x)=>{"use strict";x.d(it,{b:()=>K});var f=x(1631),g=x(4674);function K(ne,Te){return(0,g.m)(Te)?(0,f.z)(ne,Te,1):(0,f.z)(ne,1)}},3572:(rn,it,x)=>{"use strict";x.d(it,{d:()=>K});var f=x(9360),g=x(8251);function K(ne){return(0,f.e)((Te,Ee)=>{let he=!1;Te.subscribe((0,g.x)(Ee,Ge=>{he=!0,Ee.next(Ge)},()=>{he||Ee.next(ne),Ee.complete()}))})}},3997:(rn,it,x)=>{"use strict";x.d(it,{x:()=>ne});var f=x(2737),g=x(9360),K=x(8251);function ne(Ee,he=f.y){return Ee=null!=Ee?Ee:Te,(0,g.e)((Ge,$e)=>{let ue,le=!0;Ge.subscribe((0,K.x)($e,be=>{const Ae=he(be);(le||!Ee(ue,Ae))&&(le=!1,ue=Ae,$e.next(be))}))})}function Te(Ee,he){return Ee===he}},2181:(rn,it,x)=>{"use strict";x.d(it,{h:()=>K});var f=x(9360),g=x(8251);function K(ne,Te){return(0,f.e)((Ee,he)=>{let Ge=0;Ee.subscribe((0,g.x)(he,$e=>ne.call(Te,$e,Ge++)&&he.next($e)))})}},4716:(rn,it,x)=>{"use strict";x.d(it,{x:()=>g});var f=x(9360);function g(K){return(0,f.e)((ne,Te)=>{try{ne.subscribe(Te)}finally{Te.add(K)}})}},1374:(rn,it,x)=>{"use strict";x.d(it,{P:()=>he});var f=x(6973),g=x(2181),K=x(8180),ne=x(3572),Te=x(3026),Ee=x(2737);function he(Ge,$e){const ue=arguments.length>=2;return le=>le.pipe(Ge?(0,g.h)((be,Ae)=>Ge(be,Ae,le)):Ee.y,(0,K.q)(1),ue?(0,ne.d)($e):(0,Te.T)(()=>new f.K))}},7398:(rn,it,x)=>{"use strict";x.d(it,{U:()=>K});var f=x(9360),g=x(8251);function K(ne,Te){return(0,f.e)((Ee,he)=>{let Ge=0;Ee.subscribe((0,g.x)(he,$e=>{he.next(ne.call(Te,$e,Ge++))}))})}},7537:(rn,it,x)=>{"use strict";x.d(it,{J:()=>K});var f=x(1631),g=x(2737);function K(ne=1/0){return(0,f.z)(g.y,ne)}},1631:(rn,it,x)=>{"use strict";x.d(it,{z:()=>Ge});var f=x(7398),g=x(4829),K=x(9360),ne=x(7103),Te=x(8251),he=x(4674);function Ge($e,ue,le=1/0){return(0,he.m)(ue)?Ge((be,Ae)=>(0,f.U)((Ne,Ce)=>ue(be,Ne,Ae,Ce))((0,g.Xf)($e(be,Ae))),le):("number"==typeof ue&&(le=ue),(0,K.e)((be,Ae)=>function Ee($e,ue,le,be,Ae,Ne,Ce,Ye){const Ve=[];let Ie=0,me=0,ut=!1;const Re=()=>{ut&&!Ve.length&&!Ie&&ue.complete()},He=qe=>Ie<be?ge(qe):Ve.push(qe),ge=qe=>{Ne&&ue.next(qe),Ie++;let Me=!1;(0,g.Xf)(le(qe,me++)).subscribe((0,Te.x)(ue,se=>{null==Ae||Ae(se),Ne?He(se):ue.next(se)},()=>{Me=!0},void 0,()=>{if(Me)try{for(Ie--;Ve.length&&Ie<be;){const se=Ve.shift();Ce?(0,ne.f)(ue,Ce,()=>ge(se)):ge(se)}Re()}catch(se){ue.error(se)}}))};return $e.subscribe((0,Te.x)(ue,He,()=>{ut=!0,Re()})),()=>{null==Ye||Ye()}}(be,Ae,$e,le)))}},3093:(rn,it,x)=>{"use strict";x.d(it,{Q:()=>ne});var f=x(7103),g=x(9360),K=x(8251);function ne(Te,Ee=0){return(0,g.e)((he,Ge)=>{he.subscribe((0,K.x)(Ge,$e=>(0,f.f)(Ge,Te,()=>Ge.next($e),Ee),()=>(0,f.f)(Ge,Te,()=>Ge.complete(),Ee),$e=>(0,f.f)(Ge,Te,()=>Ge.error($e),Ee)))})}},6699:(rn,it,x)=>{"use strict";x.d(it,{R:()=>ne});var f=x(9360),g=x(8251);function ne(Te,Ee){return(0,f.e)(function K(Te,Ee,he,Ge,$e){return(ue,le)=>{let be=he,Ae=Ee,Ne=0;ue.subscribe((0,g.x)(le,Ce=>{const Ye=Ne++;Ae=be?Te(Ae,Ce,Ye):(be=!0,Ce),Ge&&le.next(Ae)},$e&&(()=>{be&&le.next(Ae),le.complete()})))}}(Te,Ee,arguments.length>=2,!0))}},3020:(rn,it,x)=>{"use strict";x.d(it,{B:()=>Te});var f=x(4829),g=x(8645),K=x(305),ne=x(9360);function Te(he={}){const{connector:Ge=(()=>new g.x),resetOnError:$e=!0,resetOnComplete:ue=!0,resetOnRefCountZero:le=!0}=he;return be=>{let Ae,Ne,Ce,Ye=0,Ve=!1,Ie=!1;const me=()=>{null==Ne||Ne.unsubscribe(),Ne=void 0},ut=()=>{me(),Ae=Ce=void 0,Ve=Ie=!1},Re=()=>{const He=Ae;ut(),null==He||He.unsubscribe()};return(0,ne.e)((He,ge)=>{Ye++,!Ie&&!Ve&&me();const qe=Ce=null!=Ce?Ce:Ge();ge.add(()=>{Ye--,0===Ye&&!Ie&&!Ve&&(Ne=Ee(Re,le))}),qe.subscribe(ge),!Ae&&Ye>0&&(Ae=new K.Hp({next:Me=>qe.next(Me),error:Me=>{Ie=!0,me(),Ne=Ee(ut,$e,Me),qe.error(Me)},complete:()=>{Ve=!0,me(),Ne=Ee(ut,ue),qe.complete()}}),(0,f.Xf)(He).subscribe(Ae))})(be)}}function Ee(he,Ge,...$e){if(!0===Ge)return void he();if(!1===Ge)return;const ue=new K.Hp({next:()=>{ue.unsubscribe(),he()}});return(0,f.Xf)(Ge(...$e)).subscribe(ue)}},7921:(rn,it,x)=>{"use strict";x.d(it,{O:()=>ne});var f=x(5211),g=x(4564),K=x(9360);function ne(...Te){const Ee=(0,g.yG)(Te);return(0,K.e)((he,Ge)=>{(Ee?(0,f.z)(Te,he,Ee):(0,f.z)(Te,he)).subscribe(Ge)})}},5137:(rn,it,x)=>{"use strict";x.d(it,{R:()=>g});var f=x(9360);function g(K,ne=0){return(0,f.e)((Te,Ee)=>{Ee.add(K.schedule(()=>Te.subscribe(Ee),ne))})}},4664:(rn,it,x)=>{"use strict";x.d(it,{w:()=>ne});var f=x(4829),g=x(9360),K=x(8251);function ne(Te,Ee){return(0,g.e)((he,Ge)=>{let $e=null,ue=0,le=!1;const be=()=>le&&!$e&&Ge.complete();he.subscribe((0,K.x)(Ge,Ae=>{null==$e||$e.unsubscribe();let Ne=0;const Ce=ue++;(0,f.Xf)(Te(Ae,Ce)).subscribe($e=(0,K.x)(Ge,Ye=>Ge.next(Ee?Ee(Ae,Ye,Ce,Ne++):Ye),()=>{$e=null,be()}))},()=>{le=!0,be()}))})}},8180:(rn,it,x)=>{"use strict";x.d(it,{q:()=>ne});var f=x(6232),g=x(9360),K=x(8251);function ne(Te){return Te<=0?()=>f.E:(0,g.e)((Ee,he)=>{let Ge=0;Ee.subscribe((0,K.x)(he,$e=>{++Ge<=Te&&(he.next($e),Te<=Ge&&he.complete())}))})}},9397:(rn,it,x)=>{"use strict";x.d(it,{b:()=>Te});var f=x(4674),g=x(9360),K=x(8251),ne=x(2737);function Te(Ee,he,Ge){const $e=(0,f.m)(Ee)||he||Ge?{next:Ee,error:he,complete:Ge}:Ee;return $e?(0,g.e)((ue,le)=>{var be;null===(be=$e.subscribe)||void 0===be||be.call($e);let Ae=!0;ue.subscribe((0,K.x)(le,Ne=>{var Ce;null===(Ce=$e.next)||void 0===Ce||Ce.call($e,Ne),le.next(Ne)},()=>{var Ne;Ae=!1,null===(Ne=$e.complete)||void 0===Ne||Ne.call($e),le.complete()},Ne=>{var Ce;Ae=!1,null===(Ce=$e.error)||void 0===Ce||Ce.call($e,Ne),le.error(Ne)},()=>{var Ne,Ce;Ae&&(null===(Ne=$e.unsubscribe)||void 0===Ne||Ne.call($e)),null===(Ce=$e.finalize)||void 0===Ce||Ce.call($e)}))}):ne.y}},3026:(rn,it,x)=>{"use strict";x.d(it,{T:()=>ne});var f=x(6973),g=x(9360),K=x(8251);function ne(Ee=Te){return(0,g.e)((he,Ge)=>{let $e=!1;he.subscribe((0,K.x)(Ge,ue=>{$e=!0,Ge.next(ue)},()=>$e?Ge.complete():Ge.error(Ee())))})}function Te(){return new f.K}},1954:(rn,it,x)=>{"use strict";x.d(it,{o:()=>Te});var f=x(7394);class g extends f.w0{constructor(he,Ge){super()}schedule(he,Ge=0){return this}}const K={setInterval(Ee,he,...Ge){const{delegate:$e}=K;return null!=$e&&$e.setInterval?$e.setInterval(Ee,he,...Ge):setInterval(Ee,he,...Ge)},clearInterval(Ee){const{delegate:he}=K;return((null==he?void 0:he.clearInterval)||clearInterval)(Ee)},delegate:void 0};var ne=x(9039);class Te extends g{constructor(he,Ge){super(he,Ge),this.scheduler=he,this.work=Ge,this.pending=!1}schedule(he,Ge=0){var $e;if(this.closed)return this;this.state=he;const ue=this.id,le=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(le,ue,Ge)),this.pending=!0,this.delay=Ge,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(le,this.id,Ge),this}requestAsyncId(he,Ge,$e=0){return K.setInterval(he.flush.bind(he,this),$e)}recycleAsyncId(he,Ge,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Ge;null!=Ge&&K.clearInterval(Ge)}execute(he,Ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(he,Ge);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ge){let ue,$e=!1;try{this.work(he)}catch(le){$e=!0,ue=le||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ge}=this,{actions:$e}=Ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)($e,this),null!=he&&(this.id=this.recycleAsyncId(Ge,he,null)),this.delay=null,super.unsubscribe()}}}},2631:(rn,it,x)=>{"use strict";x.d(it,{v:()=>K});var f=x(4552);class g{constructor(Te,Ee=g.now){this.schedulerActionCtor=Te,this.now=Ee}schedule(Te,Ee=0,he){return new this.schedulerActionCtor(this,Te).schedule(he,Ee)}}g.now=f.l.now;class K extends g{constructor(Te,Ee=g.now){super(Te,Ee),this.actions=[],this._active=!1}flush(Te){const{actions:Ee}=this;if(this._active)return void Ee.push(Te);let he;this._active=!0;do{if(he=Te.execute(Te.state,Te.delay))break}while(Te=Ee.shift());if(this._active=!1,he){for(;Te=Ee.shift();)Te.unsubscribe();throw he}}}},6321:(rn,it,x)=>{"use strict";x.d(it,{z:()=>K});var f=x(1954);const K=new(x(2631).v)(f.o)},4552:(rn,it,x)=>{"use strict";x.d(it,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},7599:(rn,it,x)=>{"use strict";x.d(it,{z:()=>f});const f={setTimeout(g,K,...ne){const{delegate:Te}=f;return null!=Te&&Te.setTimeout?Te.setTimeout(g,K,...ne):setTimeout(g,K,...ne)},clearTimeout(g){const{delegate:K}=f;return((null==K?void 0:K.clearTimeout)||clearTimeout)(g)},delegate:void 0}},4971:(rn,it,x)=>{"use strict";x.d(it,{h:()=>g});const g=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(rn,it,x)=>{"use strict";x.d(it,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(rn,it,x)=>{"use strict";x.d(it,{K:()=>g});const g=(0,x(2306).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(rn,it,x)=>{"use strict";x.d(it,{_6:()=>Ee,jO:()=>ne,yG:()=>Te});var f=x(4674);function K(he){return he[he.length-1]}function ne(he){return(0,f.m)(K(he))?he.pop():void 0}function Te(he){return function g(he){return he&&(0,f.m)(he.schedule)}(K(he))?he.pop():void 0}function Ee(he,Ge){return"number"==typeof K(he)?he.pop():Ge}},7453:(rn,it,x)=>{"use strict";x.d(it,{D:()=>Te});const{isArray:f}=Array,{getPrototypeOf:g,prototype:K,keys:ne}=Object;function Te(he){if(1===he.length){const Ge=he[0];if(f(Ge))return{args:Ge,keys:null};if(function Ee(he){return he&&"object"==typeof he&&g(he)===K}(Ge)){const $e=ne(Ge);return{args:$e.map(ue=>Ge[ue]),keys:$e}}}return{args:he,keys:null}}},9039:(rn,it,x)=>{"use strict";function f(g,K){if(g){const ne=g.indexOf(K);0<=ne&&g.splice(ne,1)}}x.d(it,{P:()=>f})},2306:(rn,it,x)=>{"use strict";function f(g){const ne=g(Te=>{Error.call(Te),Te.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}x.d(it,{d:()=>f})},2714:(rn,it,x)=>{"use strict";function f(g,K){return g.reduce((ne,Te,Ee)=>(ne[Te]=K[Ee],ne),{})}x.d(it,{n:()=>f})},1441:(rn,it,x)=>{"use strict";x.d(it,{O:()=>ne,x:()=>K});var f=x(2653);let g=null;function K(Te){if(f.config.useDeprecatedSynchronousErrorHandling){const Ee=!g;if(Ee&&(g={errorThrown:!1,error:null}),Te(),Ee){const{errorThrown:he,error:Ge}=g;if(g=null,he)throw Ge}}else Te()}function ne(Te){f.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Te)}},7103:(rn,it,x)=>{"use strict";function f(g,K,ne,Te=0,Ee=!1){const he=K.schedule(function(){ne(),Ee?g.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(g.add(he),!Ee)return he}x.d(it,{f:()=>f})},2737:(rn,it,x)=>{"use strict";function f(g){return g}x.d(it,{y:()=>f})},4266:(rn,it,x)=>{"use strict";x.d(it,{z:()=>f});const f=g=>g&&"number"==typeof g.length&&"function"!=typeof g},5726:(rn,it,x)=>{"use strict";x.d(it,{D:()=>g});var f=x(4674);function g(K){return Symbol.asyncIterator&&(0,f.m)(null==K?void 0:K[Symbol.asyncIterator])}},4674:(rn,it,x)=>{"use strict";function f(g){return"function"==typeof g}x.d(it,{m:()=>f})},8382:(rn,it,x)=>{"use strict";x.d(it,{c:()=>K});var f=x(4850),g=x(4674);function K(ne){return(0,g.m)(ne[f.L])}},3664:(rn,it,x)=>{"use strict";x.d(it,{T:()=>K});var f=x(4971),g=x(4674);function K(ne){return(0,g.m)(null==ne?void 0:ne[f.h])}},4026:(rn,it,x)=>{"use strict";x.d(it,{t:()=>g});var f=x(4674);function g(K){return(0,f.m)(null==K?void 0:K.then)}},541:(rn,it,x)=>{"use strict";x.d(it,{L:()=>ne,Q:()=>K});var f=x(7582),g=x(4674);function K(Te){return(0,f.FC)(this,arguments,function*(){const he=Te.getReader();try{for(;;){const{value:Ge,done:$e}=yield(0,f.qq)(he.read());if($e)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(Ge)}}finally{he.releaseLock()}})}function ne(Te){return(0,g.m)(null==Te?void 0:Te.getReader)}},9360:(rn,it,x)=>{"use strict";x.d(it,{A:()=>g,e:()=>K});var f=x(4674);function g(ne){return(0,f.m)(null==ne?void 0:ne.lift)}function K(ne){return Te=>{if(g(Te))return Te.lift(function(Ee){try{return ne(Ee,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(rn,it,x)=>{"use strict";x.d(it,{Z:()=>ne});var f=x(7398);const{isArray:g}=Array;function ne(Te){return(0,f.U)(Ee=>function K(Te,Ee){return g(Ee)?Te(...Ee):Te(Ee)}(Te,Ee))}},2420:(rn,it,x)=>{"use strict";function f(){}x.d(it,{Z:()=>f})},8407:(rn,it,x)=>{"use strict";x.d(it,{U:()=>K,z:()=>g});var f=x(2737);function g(...ne){return K(ne)}function K(ne){return 0===ne.length?f.y:1===ne.length?ne[0]:function(Ee){return ne.reduce((he,Ge)=>Ge(he),Ee)}}},3894:(rn,it,x)=>{"use strict";x.d(it,{h:()=>K});var f=x(2653),g=x(7599);function K(ne){g.z.setTimeout(()=>{const{onUnhandledError:Te}=f.config;if(!Te)throw ne;Te(ne)})}},9853:(rn,it,x)=>{"use strict";function f(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(it,{z:()=>f})},863:(rn,it,x)=>{var f={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,7350,433],"./ion-datetime_3.entry.js":[7059,7350,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function g(K){if(!x.o(f,K))return Promise.resolve().then(()=>{var Ee=new Error("Cannot find module '"+K+"'");throw Ee.code="MODULE_NOT_FOUND",Ee});var ne=f[K],Te=ne[0];return Promise.all(ne.slice(1).map(x.e)).then(()=>x(Te))}g.keys=()=>Object.keys(f),g.id=863,rn.exports=g},6814:(rn,it,x)=>{"use strict";x.d(it,{Do:()=>Ye,EM:()=>vi,HT:()=>ne,JF:()=>ms,K0:()=>Ee,Mx:()=>Or,O5:()=>Ti,PM:()=>Ms,S$:()=>Ae,V_:()=>Ge,Ye:()=>Ve,b0:()=>Ce,bD:()=>gs,ez:()=>ri,q:()=>K,sg:()=>Br,tP:()=>Mt,w_:()=>Te});var f=x(5879);let g=null;function K(){return g}function ne(C){g||(g=C)}class Te{}const Ee=new f.OlP("DocumentToken");let he=(()=>{var C;class U{historyGo(k){throw new Error("Not implemented")}}return(C=U).\u0275fac=function(k){return new(k||C)},C.\u0275prov=f.Yz7({token:C,factory:function(){return(0,f.f3M)($e)},providedIn:"platform"}),U})();const Ge=new f.OlP("Location Initialized");let $e=(()=>{var C;class U extends he{constructor(){super(),this._doc=(0,f.f3M)(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(k){const ce=K().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",k,!1),()=>ce.removeEventListener("popstate",k)}onHashChange(k){const ce=K().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",k,!1),()=>ce.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,ce,je){this._history.pushState(k,ce,je)}replaceState(k,ce,je){this._history.replaceState(k,ce,je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return(C=U).\u0275fac=function(k){return new(k||C)},C.\u0275prov=f.Yz7({token:C,factory:function(){return new C},providedIn:"platform"}),U})();function ue(C,U){if(0==C.length)return U;if(0==U.length)return C;let _e=0;return C.endsWith("/")&&_e++,U.startsWith("/")&&_e++,2==_e?C+U.substring(1):1==_e?C+U:C+"/"+U}function le(C){const U=C.match(/#|\?|$/),_e=U&&U.index||C.length;return C.slice(0,_e-("/"===C[_e-1]?1:0))+C.slice(_e)}function be(C){return C&&"?"!==C[0]?"?"+C:C}let Ae=(()=>{var C;class U{historyGo(k){throw new Error("Not implemented")}}return(C=U).\u0275fac=function(k){return new(k||C)},C.\u0275prov=f.Yz7({token:C,factory:function(){return(0,f.f3M)(Ce)},providedIn:"root"}),U})();const Ne=new f.OlP("appBaseHref");let Ce=(()=>{var C;class U extends Ae{constructor(k,ce){var je,Ot,an;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(je=null!==(Ot=null!=ce?ce:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ot?Ot:null===(an=(0,f.f3M)(Ee).location)||void 0===an?void 0:an.origin)&&void 0!==je?je:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ue(this._baseHref,k)}path(k=!1){const ce=this._platformLocation.pathname+be(this._platformLocation.search),je=this._platformLocation.hash;return je&&k?`${ce}${je}`:ce}pushState(k,ce,je,Ot){const an=this.prepareExternalUrl(je+be(Ot));this._platformLocation.pushState(k,ce,an)}replaceState(k,ce,je,Ot){const an=this.prepareExternalUrl(je+be(Ot));this._platformLocation.replaceState(k,ce,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var ce,je;null===(ce=(je=this._platformLocation).historyGo)||void 0===ce||ce.call(je,k)}}return(C=U).\u0275fac=function(k){return new(k||C)(f.LFG(he),f.LFG(Ne,8))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),U})(),Ye=(()=>{var C;class U extends Ae{constructor(k,ce){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(k){const ce=ue(this._baseHref,k);return ce.length>0?"#"+ce:ce}pushState(k,ce,je,Ot){let an=this.prepareExternalUrl(je+be(Ot));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.pushState(k,ce,an)}replaceState(k,ce,je,Ot){let an=this.prepareExternalUrl(je+be(Ot));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.replaceState(k,ce,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var ce,je;null===(ce=(je=this._platformLocation).historyGo)||void 0===ce||ce.call(je,k)}}return(C=U).\u0275fac=function(k){return new(k||C)(f.LFG(he),f.LFG(Ne,8))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac}),U})(),Ve=(()=>{var C;class U{constructor(k){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const ce=this._locationStrategy.getBaseHref();this._basePath=function Re(C){if(new RegExp("^(https?:)?//").test(C)){const[,_e]=C.split(/\/\/[^\/]+/);return _e}return C}(le(ut(ce))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,ce=""){return this.path()==this.normalize(k+be(ce))}normalize(k){return U.stripTrailingSlash(function me(C,U){if(!C||!U.startsWith(C))return U;const _e=U.substring(C.length);return""===_e||["/",";","?","#"].includes(_e[0])?_e:U}(this._basePath,ut(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,ce="",je=null){this._locationStrategy.pushState(je,"",k,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+be(ce)),je)}replaceState(k,ce="",je=null){this._locationStrategy.replaceState(je,"",k,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+be(ce)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var ce,je;null===(ce=(je=this._locationStrategy).historyGo)||void 0===ce||ce.call(je,k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(k);var je;this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(null===(je=this._urlChangeSubscription)||void 0===je||je.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",ce){this._urlChangeListeners.forEach(je=>je(k,ce))}subscribe(k,ce,je){return this._subject.subscribe({next:k,error:ce,complete:je})}}return(C=U).normalizeQueryParams=be,C.joinWithSlash=ue,C.stripTrailingSlash=le,C.\u0275fac=function(k){return new(k||C)(f.LFG(Ae))},C.\u0275prov=f.Yz7({token:C,factory:function(){return function Ie(){return new Ve((0,f.LFG)(Ae))}()},providedIn:"root"}),U})();function ut(C){return C.replace(/\/index.html$/,"")}function Or(C,U){U=encodeURIComponent(U);for(const _e of C.split(";")){const k=_e.indexOf("="),[ce,je]=-1==k?[_e,""]:[_e.slice(0,k),_e.slice(k+1)];if(ce.trim()===U)return decodeURIComponent(je)}return null}class Bi{constructor(U,_e,k,ce){this.$implicit=U,this.ngForOf=_e,this.index=k,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{var C;class U{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,ce,je){this._viewContainer=k,this._template=ce,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const ce=this._viewContainer;k.forEachOperation((je,Ot,an)=>{if(null==je.previousIndex)ce.createEmbeddedView(this._template,new Bi(je.item,this._ngForOf,-1,-1),null===an?void 0:an);else if(null==an)ce.remove(null===Ot?void 0:Ot);else if(null!==Ot){const fr=ce.get(Ot);ce.move(fr,an),Ci(fr,je)}});for(let je=0,Ot=ce.length;je<Ot;je++){const fr=ce.get(je).context;fr.index=je,fr.count=Ot,fr.ngForOf=this._ngForOf}k.forEachIdentityChange(je=>{Ci(ce.get(je.currentIndex),je)})}static ngTemplateContextGuard(k,ce){return!0}}return(C=U).\u0275fac=function(k){return new(k||C)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function Ci(C,U){C.context.$implicit=U.item}let Ti=(()=>{var C;class U{constructor(k,ce){this._viewContainer=k,this._context=new Ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){qi("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){qi("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,ce){return!0}}return(C=U).\u0275fac=function(k){return new(k||C)(f.Y36(f.s_b),f.Y36(f.Rgc))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class Ei{constructor(){this.$implicit=null,this.ngIf=null}}function qi(C,U){if(U&&!U.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,f.AaK)(U)}'.`)}let Mt=(()=>{var C;class U{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:je,ngTemplateOutletContext:Ot,ngTemplateOutletInjector:an}=this;this._viewRef=ce.createEmbeddedView(je,Ot,an?{injector:an}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(C=U).\u0275fac=function(k){return new(k||C)(f.Y36(f.s_b))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),U})(),ri=(()=>{var C;class U{}return(C=U).\u0275fac=function(k){return new(k||C)},C.\u0275mod=f.oAB({type:C}),C.\u0275inj=f.cJS({}),U})();const gs="browser",co="server";function Ms(C){return C===co}let vi=(()=>{var C;class U{}return(C=U).\u0275prov=(0,f.Yz7)({token:C,providedIn:"root",factory:()=>new zi((0,f.LFG)(Ee),window)}),U})();class zi{constructor(U,_e){this.document=U,this.window=_e,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const _e=function Zs(C,U){const _e=C.getElementById(U)||C.getElementsByName(U)[0];if(_e)return _e;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ce=k.currentNode;for(;ce;){const je=ce.shadowRoot;if(je){const Ot=je.getElementById(U)||je.querySelector(`[name="${U}"]`);if(Ot)return Ot}ce=k.nextNode()}}return null}(this.document,U);_e&&(this.scrollToElement(_e),_e.focus())}setHistoryScrollRestoration(U){this.supportsScrolling()&&(this.window.history.scrollRestoration=U)}scrollToElement(U){const _e=U.getBoundingClientRect(),k=_e.left+this.window.pageXOffset,ce=_e.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(k-je[0],ce-je[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ms{}},9862:(rn,it,x)=>{"use strict";x.d(it,{JF:()=>ee,eN:()=>ie});var f=x(5879),g=x(2096),K=x(2459),ne=x(5592),Te=x(6328),Ee=x(2181),he=x(7398),Ge=x(4716),$e=x(4664),ue=x(6814);class le{}class be{}class Ae{constructor(Fe){this.normalizedNames=new Map,this.lazyUpdate=null,Fe?"string"==typeof Fe?this.lazyInit=()=>{this.headers=new Map,Fe.split("\n").forEach(_t=>{const ft=_t.indexOf(":");if(ft>0){const qt=_t.slice(0,ft),jt=qt.toLowerCase(),Sn=_t.slice(ft+1).trim();this.maybeSetNormalizedName(qt,jt),this.headers.has(jt)?this.headers.get(jt).push(Sn):this.headers.set(jt,[Sn])}})}:typeof Headers<"u"&&Fe instanceof Headers?(this.headers=new Map,Fe.forEach((_t,ft)=>{this.setHeaderEntries(ft,_t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Fe).forEach(([_t,ft])=>{this.setHeaderEntries(_t,ft)})}:this.headers=new Map}has(Fe){return this.init(),this.headers.has(Fe.toLowerCase())}get(Fe){this.init();const _t=this.headers.get(Fe.toLowerCase());return _t&&_t.length>0?_t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Fe){return this.init(),this.headers.get(Fe.toLowerCase())||null}append(Fe,_t){return this.clone({name:Fe,value:_t,op:"a"})}set(Fe,_t){return this.clone({name:Fe,value:_t,op:"s"})}delete(Fe,_t){return this.clone({name:Fe,value:_t,op:"d"})}maybeSetNormalizedName(Fe,_t){this.normalizedNames.has(_t)||this.normalizedNames.set(_t,Fe)}init(){this.lazyInit&&(this.lazyInit instanceof Ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Fe=>this.applyUpdate(Fe)),this.lazyUpdate=null))}copyFrom(Fe){Fe.init(),Array.from(Fe.headers.keys()).forEach(_t=>{this.headers.set(_t,Fe.headers.get(_t)),this.normalizedNames.set(_t,Fe.normalizedNames.get(_t))})}clone(Fe){const _t=new Ae;return _t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ae?this.lazyInit:this,_t.lazyUpdate=(this.lazyUpdate||[]).concat([Fe]),_t}applyUpdate(Fe){const _t=Fe.name.toLowerCase();switch(Fe.op){case"a":case"s":let ft=Fe.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(Fe.name,_t);const qt=("a"===Fe.op?this.headers.get(_t):void 0)||[];qt.push(...ft),this.headers.set(_t,qt);break;case"d":const jt=Fe.value;if(jt){let Sn=this.headers.get(_t);if(!Sn)return;Sn=Sn.filter(Zt=>-1===jt.indexOf(Zt)),0===Sn.length?(this.headers.delete(_t),this.normalizedNames.delete(_t)):this.headers.set(_t,Sn)}else this.headers.delete(_t),this.normalizedNames.delete(_t)}}setHeaderEntries(Fe,_t){const ft=(Array.isArray(_t)?_t:[_t]).map(jt=>jt.toString()),qt=Fe.toLowerCase();this.headers.set(qt,ft),this.maybeSetNormalizedName(Fe,qt)}forEach(Fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(_t=>Fe(this.normalizedNames.get(_t),this.headers.get(_t)))}}class Ce{encodeKey(Fe){return me(Fe)}encodeValue(Fe){return me(Fe)}decodeKey(Fe){return decodeURIComponent(Fe)}decodeValue(Fe){return decodeURIComponent(Fe)}}const Ve=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function me(nt){return encodeURIComponent(nt).replace(Ve,(Fe,_t)=>{var ft;return null!==(ft=Ie[_t])&&void 0!==ft?ft:Fe})}function ut(nt){return`${nt}`}class Re{constructor(Fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Fe.encoder||new Ce,Fe.fromString){if(Fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ye(nt,Fe){const _t=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(qt=>{const jt=qt.indexOf("="),[Sn,Zt]=-1==jt?[Fe.decodeKey(qt),""]:[Fe.decodeKey(qt.slice(0,jt)),Fe.decodeValue(qt.slice(jt+1))],er=_t.get(Sn)||[];er.push(Zt),_t.set(Sn,er)}),_t}(Fe.fromString,this.encoder)}else Fe.fromObject?(this.map=new Map,Object.keys(Fe.fromObject).forEach(_t=>{const ft=Fe.fromObject[_t],qt=Array.isArray(ft)?ft.map(ut):[ut(ft)];this.map.set(_t,qt)})):this.map=null}has(Fe){return this.init(),this.map.has(Fe)}get(Fe){this.init();const _t=this.map.get(Fe);return _t?_t[0]:null}getAll(Fe){return this.init(),this.map.get(Fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Fe,_t){return this.clone({param:Fe,value:_t,op:"a"})}appendAll(Fe){const _t=[];return Object.keys(Fe).forEach(ft=>{const qt=Fe[ft];Array.isArray(qt)?qt.forEach(jt=>{_t.push({param:ft,value:jt,op:"a"})}):_t.push({param:ft,value:qt,op:"a"})}),this.clone(_t)}set(Fe,_t){return this.clone({param:Fe,value:_t,op:"s"})}delete(Fe,_t){return this.clone({param:Fe,value:_t,op:"d"})}toString(){return this.init(),this.keys().map(Fe=>{const _t=this.encoder.encodeKey(Fe);return this.map.get(Fe).map(ft=>_t+"="+this.encoder.encodeValue(ft)).join("&")}).filter(Fe=>""!==Fe).join("&")}clone(Fe){const _t=new Re({encoder:this.encoder});return _t.cloneFrom=this.cloneFrom||this,_t.updates=(this.updates||[]).concat(Fe),_t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Fe=>this.map.set(Fe,this.cloneFrom.map.get(Fe))),this.updates.forEach(Fe=>{switch(Fe.op){case"a":case"s":const _t=("a"===Fe.op?this.map.get(Fe.param):void 0)||[];_t.push(ut(Fe.value)),this.map.set(Fe.param,_t);break;case"d":if(void 0===Fe.value){this.map.delete(Fe.param);break}{let ft=this.map.get(Fe.param)||[];const qt=ft.indexOf(ut(Fe.value));-1!==qt&&ft.splice(qt,1),ft.length>0?this.map.set(Fe.param,ft):this.map.delete(Fe.param)}}}),this.cloneFrom=this.updates=null)}}class ge{constructor(){this.map=new Map}set(Fe,_t){return this.map.set(Fe,_t),this}get(Fe){return this.map.has(Fe)||this.map.set(Fe,Fe.defaultValue()),this.map.get(Fe)}delete(Fe){return this.map.delete(Fe),this}has(Fe){return this.map.has(Fe)}keys(){return this.map.keys()}}function Me(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function se(nt){return typeof Blob<"u"&&nt instanceof Blob}function ve(nt){return typeof FormData<"u"&&nt instanceof FormData}class Qe{constructor(Fe,_t,ft,qt){let jt;if(this.url=_t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Fe.toUpperCase(),function qe(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||qt?(this.body=void 0!==ft?ft:null,jt=qt):jt=ft,jt&&(this.reportProgress=!!jt.reportProgress,this.withCredentials=!!jt.withCredentials,jt.responseType&&(this.responseType=jt.responseType),jt.headers&&(this.headers=jt.headers),jt.context&&(this.context=jt.context),jt.params&&(this.params=jt.params)),this.headers||(this.headers=new Ae),this.context||(this.context=new ge),this.params){const Sn=this.params.toString();if(0===Sn.length)this.urlWithParams=_t;else{const Zt=_t.indexOf("?");this.urlWithParams=_t+(-1===Zt?"?":Zt<_t.length-1?"&":"")+Sn}}else this.params=new Re,this.urlWithParams=_t}serializeBody(){return null===this.body?null:Me(this.body)||se(this.body)||ve(this.body)||function Oe(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Re?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ve(this.body)?null:se(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Re?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Fe={}){var _t;const ft=Fe.method||this.method,qt=Fe.url||this.url,jt=Fe.responseType||this.responseType,Sn=void 0!==Fe.body?Fe.body:this.body,Zt=void 0!==Fe.withCredentials?Fe.withCredentials:this.withCredentials,er=void 0!==Fe.reportProgress?Fe.reportProgress:this.reportProgress;let Qn=Fe.headers||this.headers,Gr=Fe.params||this.params;const xi=null!==(_t=Fe.context)&&void 0!==_t?_t:this.context;return void 0!==Fe.setHeaders&&(Qn=Object.keys(Fe.setHeaders).reduce((dr,Or)=>dr.set(Or,Fe.setHeaders[Or]),Qn)),Fe.setParams&&(Gr=Object.keys(Fe.setParams).reduce((dr,Or)=>dr.set(Or,Fe.setParams[Or]),Gr)),new Qe(ft,qt,Sn,{params:Gr,headers:Qn,context:xi,reportProgress:er,responseType:jt,withCredentials:Zt})}}var ct=function(nt){return nt[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt}(ct||{});class dt{constructor(Fe,_t=200,ft="OK"){this.headers=Fe.headers||new Ae,this.status=void 0!==Fe.status?Fe.status:_t,this.statusText=Fe.statusText||ft,this.url=Fe.url||null,this.ok=this.status>=200&&this.status<300}}class Vt extends dt{constructor(Fe={}){super(Fe),this.type=ct.ResponseHeader}clone(Fe={}){return new Vt({headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class mn extends dt{constructor(Fe={}){super(Fe),this.type=ct.Response,this.body=void 0!==Fe.body?Fe.body:null}clone(Fe={}){return new mn({body:void 0!==Fe.body?Fe.body:this.body,headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Qt extends dt{constructor(Fe){super(Fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Fe.url||"(unknown url)"}`:`Http failure response for ${Fe.url||"(unknown url)"}: ${Fe.status} ${Fe.statusText}`,this.error=Fe.error||null}}function ht(nt,Fe){return{body:Fe,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials}}let ie=(()=>{var nt;class Fe{constructor(ft){this.handler=ft}request(ft,qt,jt={}){let Sn;if(ft instanceof Qe)Sn=ft;else{let Qn,Gr;Qn=jt.headers instanceof Ae?jt.headers:new Ae(jt.headers),jt.params&&(Gr=jt.params instanceof Re?jt.params:new Re({fromObject:jt.params})),Sn=new Qe(ft,qt,void 0!==jt.body?jt.body:null,{headers:Qn,context:jt.context,params:Gr,reportProgress:jt.reportProgress,responseType:jt.responseType||"json",withCredentials:jt.withCredentials})}const Zt=(0,g.of)(Sn).pipe((0,Te.b)(Qn=>this.handler.handle(Qn)));if(ft instanceof Qe||"events"===jt.observe)return Zt;const er=Zt.pipe((0,Ee.h)(Qn=>Qn instanceof mn));switch(jt.observe||"body"){case"body":switch(Sn.responseType){case"arraybuffer":return er.pipe((0,he.U)(Qn=>{if(null!==Qn.body&&!(Qn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Qn.body}));case"blob":return er.pipe((0,he.U)(Qn=>{if(null!==Qn.body&&!(Qn.body instanceof Blob))throw new Error("Response is not a Blob.");return Qn.body}));case"text":return er.pipe((0,he.U)(Qn=>{if(null!==Qn.body&&"string"!=typeof Qn.body)throw new Error("Response is not a string.");return Qn.body}));default:return er.pipe((0,he.U)(Qn=>Qn.body))}case"response":return er;default:throw new Error(`Unreachable: unhandled observe type ${jt.observe}}`)}}delete(ft,qt={}){return this.request("DELETE",ft,qt)}get(ft,qt={}){return this.request("GET",ft,qt)}head(ft,qt={}){return this.request("HEAD",ft,qt)}jsonp(ft,qt){return this.request("JSONP",ft,{params:(new Re).append(qt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ft,qt={}){return this.request("OPTIONS",ft,qt)}patch(ft,qt,jt={}){return this.request("PATCH",ft,ht(jt,qt))}post(ft,qt,jt={}){return this.request("POST",ft,ht(jt,qt))}put(ft,qt,jt={}){return this.request("PUT",ft,ht(jt,qt))}}return(nt=Fe).\u0275fac=function(ft){return new(ft||nt)(f.LFG(le))},nt.\u0275prov=f.Yz7({token:nt,factory:nt.\u0275fac}),Fe})();function Ht(nt,Fe){return Fe(nt)}function Xe(nt,Fe){return(_t,ft)=>Fe.intercept(_t,{handle:qt=>nt(qt,ft)})}const yt=new f.OlP(""),gt=new f.OlP(""),mt=new f.OlP("");function Ut(){let nt=null;return(Fe,_t)=>{var ft;null===nt&&(nt=(null!==(ft=(0,f.f3M)(yt,{optional:!0}))&&void 0!==ft?ft:[]).reduceRight(Xe,Ht));const qt=(0,f.f3M)(f.HDt),jt=qt.add();return nt(Fe,_t).pipe((0,Ge.x)(()=>qt.remove(jt)))}}let tn=(()=>{var nt;class Fe extends le{constructor(ft,qt){super(),this.backend=ft,this.injector=qt,this.chain=null,this.pendingTasks=(0,f.f3M)(f.HDt)}handle(ft){if(null===this.chain){const jt=Array.from(new Set([...this.injector.get(gt),...this.injector.get(mt,[])]));this.chain=jt.reduceRight((Sn,Zt)=>function Cn(nt,Fe,_t){return(ft,qt)=>_t.runInContext(()=>Fe(ft,jt=>nt(jt,qt)))}(Sn,Zt,this.injector),Ht)}const qt=this.pendingTasks.add();return this.chain(ft,jt=>this.backend.handle(jt)).pipe((0,Ge.x)(()=>this.pendingTasks.remove(qt)))}}return(nt=Fe).\u0275fac=function(ft){return new(ft||nt)(f.LFG(be),f.LFG(f.lqb))},nt.\u0275prov=f.Yz7({token:nt,factory:nt.\u0275fac}),Fe})();const gr=/^\)\]\}',?\n/;let $t=(()=>{var nt;class Fe{constructor(ft){this.xhrFactory=ft}handle(ft){if("JSONP"===ft.method)throw new f.vHH(-2800,!1);const qt=this.xhrFactory;return(qt.\u0275loadImpl?(0,K.D)(qt.\u0275loadImpl()):(0,g.of)(null)).pipe((0,$e.w)(()=>new ne.y(Sn=>{const Zt=qt.build();if(Zt.open(ft.method,ft.urlWithParams),ft.withCredentials&&(Zt.withCredentials=!0),ft.headers.forEach((Pr,br)=>Zt.setRequestHeader(Pr,br.join(","))),ft.headers.has("Accept")||Zt.setRequestHeader("Accept","application/json, text/plain, */*"),!ft.headers.has("Content-Type")){const Pr=ft.detectContentTypeHeader();null!==Pr&&Zt.setRequestHeader("Content-Type",Pr)}if(ft.responseType){const Pr=ft.responseType.toLowerCase();Zt.responseType="json"!==Pr?Pr:"text"}const er=ft.serializeBody();let Qn=null;const Gr=()=>{if(null!==Qn)return Qn;const Pr=Zt.statusText||"OK",br=new Ae(Zt.getAllResponseHeaders()),Wr=function Cr(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(Zt)||ft.url;return Qn=new Vt({headers:br,status:Zt.status,statusText:Pr,url:Wr}),Qn},xi=()=>{let{headers:Pr,status:br,statusText:Wr,url:Bi}=Gr(),Br=null;204!==br&&(Br=typeof Zt.response>"u"?Zt.responseText:Zt.response),0===br&&(br=Br?200:0);let Ci=br>=200&&br<300;if("json"===ft.responseType&&"string"==typeof Br){const Dr=Br;Br=Br.replace(gr,"");try{Br=""!==Br?JSON.parse(Br):null}catch(Ti){Br=Dr,Ci&&(Ci=!1,Br={error:Ti,text:Br})}}Ci?(Sn.next(new mn({body:Br,headers:Pr,status:br,statusText:Wr,url:Bi||void 0})),Sn.complete()):Sn.error(new Qt({error:Br,headers:Pr,status:br,statusText:Wr,url:Bi||void 0}))},dr=Pr=>{const{url:br}=Gr(),Wr=new Qt({error:Pr,status:Zt.status||0,statusText:Zt.statusText||"Unknown Error",url:br||void 0});Sn.error(Wr)};let Or=!1;const Mr=Pr=>{Or||(Sn.next(Gr()),Or=!0);let br={type:ct.DownloadProgress,loaded:Pr.loaded};Pr.lengthComputable&&(br.total=Pr.total),"text"===ft.responseType&&Zt.responseText&&(br.partialText=Zt.responseText),Sn.next(br)},cr=Pr=>{let br={type:ct.UploadProgress,loaded:Pr.loaded};Pr.lengthComputable&&(br.total=Pr.total),Sn.next(br)};return Zt.addEventListener("load",xi),Zt.addEventListener("error",dr),Zt.addEventListener("timeout",dr),Zt.addEventListener("abort",dr),ft.reportProgress&&(Zt.addEventListener("progress",Mr),null!==er&&Zt.upload&&Zt.upload.addEventListener("progress",cr)),Zt.send(er),Sn.next({type:ct.Sent}),()=>{Zt.removeEventListener("error",dr),Zt.removeEventListener("abort",dr),Zt.removeEventListener("load",xi),Zt.removeEventListener("timeout",dr),ft.reportProgress&&(Zt.removeEventListener("progress",Mr),null!==er&&Zt.upload&&Zt.upload.removeEventListener("progress",cr)),Zt.readyState!==Zt.DONE&&Zt.abort()}})))}}return(nt=Fe).\u0275fac=function(ft){return new(ft||nt)(f.LFG(ue.JF))},nt.\u0275prov=f.Yz7({token:nt,factory:nt.\u0275fac}),Fe})();const Ir=new f.OlP("XSRF_ENABLED"),Jn=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ir=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Jr{}let Mi=(()=>{var nt;class Fe{constructor(ft,qt,jt){this.doc=ft,this.platform=qt,this.cookieName=jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ft=this.doc.cookie||"";return ft!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ue.Mx)(ft,this.cookieName),this.lastCookieString=ft),this.lastToken}}return(nt=Fe).\u0275fac=function(ft){return new(ft||nt)(f.LFG(ue.K0),f.LFG(f.Lbi),f.LFG(Jn))},nt.\u0275prov=f.Yz7({token:nt,factory:nt.\u0275fac}),Fe})();function ni(nt,Fe){const _t=nt.url.toLowerCase();if(!(0,f.f3M)(Ir)||"GET"===nt.method||"HEAD"===nt.method||_t.startsWith("http://")||_t.startsWith("https://"))return Fe(nt);const ft=(0,f.f3M)(Jr).getToken(),qt=(0,f.f3M)(ir);return null!=ft&&!nt.headers.has(qt)&&(nt=nt.clone({headers:nt.headers.set(qt,ft)})),Fe(nt)}var $r=function(nt){return nt[nt.Interceptors=0]="Interceptors",nt[nt.LegacyInterceptors=1]="LegacyInterceptors",nt[nt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nt[nt.NoXsrfProtection=3]="NoXsrfProtection",nt[nt.JsonpSupport=4]="JsonpSupport",nt[nt.RequestsMadeViaParent=5]="RequestsMadeViaParent",nt[nt.Fetch=6]="Fetch",nt}($r||{});function Dt(nt,Fe){return{\u0275kind:nt,\u0275providers:Fe}}function We(...nt){const Fe=[ie,$t,tn,{provide:le,useExisting:tn},{provide:be,useExisting:$t},{provide:gt,useValue:ni,multi:!0},{provide:Ir,useValue:!0},{provide:Jr,useClass:Mi}];for(const _t of nt)Fe.push(..._t.\u0275providers);return(0,f.MR2)(Fe)}const Kt=new f.OlP("LEGACY_INTERCEPTOR_FN");let ee=(()=>{var nt;class Fe{}return(nt=Fe).\u0275fac=function(ft){return new(ft||nt)},nt.\u0275mod=f.oAB({type:nt}),nt.\u0275inj=f.cJS({providers:[We(Dt($r.LegacyInterceptors,[{provide:Kt,useFactory:Ut},{provide:gt,useExisting:Kt,multi:!0}]))]}),Fe})()},5879:(rn,it,x)=>{"use strict";x.d(it,{$8M:()=>Lc,$WT:()=>sr,$Z:()=>lm,AFp:()=>Ng,AaK:()=>be,AsE:()=>u,CHM:()=>La,CRH:()=>aD,EJc:()=>kC,EiD:()=>wh,EpF:()=>$y,F$t:()=>F0,F4k:()=>By,FYo:()=>Ph,FiY:()=>ja,G48:()=>vT,Gf:()=>sD,GfV:()=>ip,GkF:()=>fu,Gpc:()=>Ce,HDt:()=>MD,Hsn:()=>jy,JOm:()=>Hc,JVY:()=>M_,JZr:()=>ut,KtG:()=>_r,L6k:()=>x_,LAX:()=>Ih,LFG:()=>kt,LMc:()=>qT,Lbi:()=>kg,Lck:()=>vw,MMx:()=>NI,MR2:()=>Bf,NdJ:()=>Km,Ojb:()=>Bv,OlP:()=>Ai,Oqu:()=>s,P3R:()=>Ig,PXZ:()=>lT,Q6J:()=>Kl,QGY:()=>qm,Qsj:()=>Nh,R0b:()=>oo,RDi:()=>Ru,Rgc:()=>hv,SBq:()=>jl,Sil:()=>$C,Suo:()=>oD,TTD:()=>or,TgZ:()=>$p,Tol:()=>t_,VuI:()=>GT,X6Q:()=>mT,XFs:()=>On,Xpm:()=>zt,Xq5:()=>Sl,Xts:()=>Cd,Y36:()=>wl,YKP:()=>OI,YNc:()=>du,Yjl:()=>Nt,Yz7:()=>yt,Z0I:()=>tn,ZZ4:()=>DE,_Bn:()=>RI,_UZ:()=>zm,_c5:()=>PT,_uU:()=>l_,aQg:()=>bE,c2e:()=>AD,cJS:()=>mt,cg1:()=>H0,dDg:()=>iT,dqk:()=>$t,eBb:()=>R_,eFA:()=>BD,eJc:()=>oE,ekj:()=>Jm,eoX:()=>kD,f3M:()=>en,g9A:()=>Gf,h0i:()=>ef,hGG:()=>NT,hij:()=>l,iGM:()=>iD,ifc:()=>jt,ip1:()=>SD,jDz:()=>kI,kL8:()=>rI,lG2:()=>lt,lqb:()=>Pa,lri:()=>PD,mCW:()=>Dd,n5z:()=>mo,oAB:()=>ur,oxw:()=>Uy,pB0:()=>Ou,q3G:()=>Ka,q4F:()=>sp,qFp:()=>KT,qLn:()=>zl,qOj:()=>Fs,qZA:()=>Bp,qzn:()=>Id,rWj:()=>ND,rg0:()=>ce,sBO:()=>yT,s_b:()=>m_,soG:()=>y_,tb:()=>mE,tp0:()=>pl,uIk:()=>Zu,vHH:()=>Re,vpe:()=>Ya,wAp:()=>Yp,xp6:()=>pp,z2F:()=>Jp,z3N:()=>ia,zSh:()=>Tg,zs3:()=>Dl});var f=x(8645),g=x(7394),K=x(5592),ne=x(3019),Te=x(5619),Ee=x(2096),he=x(3020),Ge=x(4664),$e=x(3997);function ue(t){for(let r in t)if(t[r]===ue)return r;throw Error("Could not find renamed property on target object.")}function le(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ae(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ne=ue({__forward_ref__:ue});function Ce(t){return t.__forward_ref__=Ce,t.toString=function(){return be(this())},t}function Ye(t){return Ve(t)?t():t}function Ve(t){return"function"==typeof t&&t.hasOwnProperty(Ne)&&t.__forward_ref__===Ce}function Ie(t){return t&&!!t.\u0275providers}const ut="https://g.co/ng/security#xss";class Re extends Error{constructor(r,o){super(function He(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function ge(t){return"string"==typeof t?t:null==t?"":String(t)}function Oe(t,r){throw new Re(-201,!1)}function Rt(t,r){null==t&&function At(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function yt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ut(t){return Hn(t,gn)||Hn(t,xr)}function tn(t){return null!==Ut(t)}function Hn(t,r){return t.hasOwnProperty(r)?t[r]:null}function dn(t){return t&&(t.hasOwnProperty(Rn)||t.hasOwnProperty(Er))?t[Rn]:null}const gn=ue({\u0275prov:ue}),Rn=ue({\u0275inj:ue}),xr=ue({ngInjectableDef:ue}),Er=ue({ngInjectorDef:ue});var On=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(On||{});let Pn;function ar(t){const r=Pn;return Pn=t,r}function gr(t,r,o){const a=Ut(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&On.Optional?null:void 0!==r?r:void Oe(be(t))}const $t=globalThis,Kt={},sn="__NG_DI_FLAG__",vn="ngTempTokenPath",ke=/\n/gm,Y="__source";let xe;function Be(t){const r=xe;return xe=t,r}function bt(t,r=On.Default){if(void 0===xe)throw new Re(-203,!1);return null===xe?gr(t,void 0,r):xe.get(t,r&On.Optional?null:void 0,r)}function kt(t,r=On.Default){return(function $n(){return Pn}()||bt)(Ye(t),r)}function en(t,r=On.Default){return kt(t,Fn(r))}function Fn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yn(t){const r=[];for(let o=0;o<t.length;o++){const a=Ye(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Re(900,!1);let c,h=On.Default;for(let v=0;v<a.length;v++){const w=a[v],M=nt(w);"number"==typeof M?-1===M?c=w.token:h|=M:c=w}r.push(kt(c,h))}else r.push(kt(a))}return r}function Rr(t,r){return t[sn]=r,t.prototype[sn]=r,t}function nt(t){return t[sn]}function ft(t){return{toString:t}.toString()}var qt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qt||{}),jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jt||{});const Sn={},Zt=[],er=ue({\u0275cmp:ue}),Qn=ue({\u0275dir:ue}),Gr=ue({\u0275pipe:ue}),xi=ue({\u0275mod:ue}),dr=ue({\u0275fac:ue}),Or=ue({__NG_ELEMENT_ID__:ue}),Mr=ue({__NG_ENV_ID__:ue});function cr(t,r,o){let a=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function Pr(t,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],v=o[a++],w=o[a++];t.setAttribute(r,v,w,h)}else{const h=c,v=o[++a];Wr(h)?t.setProperty(r,h,v):t.setAttribute(r,h,v),a++}}return a}function br(t){return 3===t||4===t||6===t}function Wr(t){return 64===t.charCodeAt(0)}function Bi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||Br(t,o,c,null,-1===o||2===o?r[++a]:null)}}return t}function Br(t,r,o,a,c){let h=0,v=t.length;if(-1===r)v=-1;else for(;h<t.length;){const w=t[h++];if("number"==typeof w){if(w===r){v=-1;break}if(w>r){v=h-1;break}}}for(;h<t.length;){const w=t[h];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==v&&(t.splice(v,0,r),h=v+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const Ci="ng-template";function Dr(t,r,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const v=t[a++];if(o&&"class"===h&&-1!==cr(v.toLowerCase(),r,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Ti(t){return 4===t.type&&t.value!==Ci}function Ei(t,r,o){return r===(4!==t.type||o?t.value:Ci)}function qi(t,r,o){let a=4;const c=t.attrs||[],h=function De(t){for(let r=0;r<t.length;r++)if(br(t[r]))return r;return t.length}(c);let v=!1;for(let w=0;w<r.length;w++){const M=r[w];if("number"!=typeof M){if(!v)if(4&a){if(a=2|1&a,""!==M&&!Ei(t,M,o)||""===M&&1===r.length){if(Kr(a))return!1;v=!0}}else{const j=8&a?M:r[++w];if(8&a&&null!==t.attrs){if(!Dr(t.attrs,j,o)){if(Kr(a))return!1;v=!0}continue}const ae=hi(8&a?"class":M,c,Ti(t),o);if(-1===ae){if(Kr(a))return!1;v=!0;continue}if(""!==j){let ze;ze=ae>h?"":c[ae+1].toLowerCase();const ot=8&a?ze:null;if(ot&&-1!==cr(ot,j,0)||2&a&&j!==ze){if(Kr(a))return!1;v=!0}}}}else{if(!v&&!Kr(a)&&!Kr(M))return!1;if(v&&Kr(M))continue;v=!1,a=M|1&a}}return Kr(a)||v}function Kr(t){return 0==(1&t)}function hi(t,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let h=!1;for(;c<r.length;){const v=r[c];if(v===t)return c;if(3===v||6===v)h=!0;else{if(1===v||2===v){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=h?1:2}return-1}return function Pe(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function J(t,r,o=!1){for(let a=0;a<r.length;a++)if(qi(t,r[a],o))return!0;return!1}function Et(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function st(t,r){return t?":not("+r.trim()+")":r}function Mt(t){let r=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let v=t[o];if("string"==typeof v)if(2&a){const w=t[++o];c+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+v:4&a&&(c+=" "+v);else""!==c&&!Kr(v)&&(r+=st(h,c),c=""),a=v,h=h||!Kr(a);o++}return""!==c&&(r+=st(h,c)),r}function zt(t){return ft(()=>{var r;const o=ls(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,styles:t.styles||Zt,_:null,schemas:t.schemas||null,tView:null,id:""};Eo(a);const c=t.dependencies;return a.directiveDefs=ci(c,!1),a.pipeDefs=ci(c,!0),a.id=function Es(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function qn(t){return Ct(t)||_n(t)}function Zn(t){return null!==t}function ur(t){return ft(()=>({type:t.type,bootstrap:t.bootstrap||Zt,declarations:t.declarations||Zt,imports:t.imports||Zt,exports:t.exports||Zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ke(t,r){if(null==t)return Sn;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,r&&(r[c]=h)}return o}function lt(t){return ft(()=>{const r=ls(t);return Eo(r),r})}function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ct(t){return t[er]||null}function _n(t){return t[Qn]||null}function Xn(t){return t[Gr]||null}function sr(t){const r=Ct(t)||_n(t)||Xn(t);return null!==r&&r.standalone}function lr(t,r){const o=t[xi]||null;if(!o&&!0===r)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return o}function ls(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Sn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ke(t.inputs,r),outputs:Ke(t.outputs)}}function Eo(t){var r;null===(r=t.features)||void 0===r||r.forEach(o=>o(t))}function ci(t,r){if(!t)return null;const o=r?Xn:qn;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Zn)}const wr=0,yn=1,Gn=2,Yr=3,ui=4,Is=5,Ii=6,Io=7,ri=8,gs=9,co=10,Bn=11,fi=12,Do=13,Ms=14,ii=15,Zr=16,$s=17,vi=18,zi=19,Zs=20,Bs=21,ms=22,Vs=23,uo=24,hr=25,ts=1,bo=2,Ri=7,yi=9,ji=11;function Vi(t){return Array.isArray(t)&&"object"==typeof t[ts]}function Hi(t){return Array.isArray(t)&&!0===t[ts]}function Us(t){return 0!=(4&t.flags)}function js(t){return t.componentOffset>-1}function Gi(t){return 1==(1&t.flags)}function Ni(t){return!!t.template}function cs(t){return 0!=(512&t[Gn])}function te(t,r){return t.hasOwnProperty(dr)?t[dr]:null}let Un=null,mr=!1;function Xr(t){const r=Un;return Un=t,r}const ns={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hs(t){if(!Qs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Fa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Bo(t){var r;t.dirty=!0,function bs(t){if(void 0===t.liveConsumerNode)return;const r=mr;mr=!0;try{for(const o of t.liveConsumerNode)o.dirty||Bo(o)}finally{mr=r}}(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function Vo(t){return t&&(t.nextProducerIndex=0),Xr(t)}function Ki(t,r){if(Xr(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Qs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)ua(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fa(t){Oo(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Hs(o),a!==o.version))return!0}return!1}function wa(t){if(Oo(t),Qs(t))for(let r=0;r<t.producerNode.length;r++)ua(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ua(t,r){if(function da(t){var r,o;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),Oo(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ua(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Oo(c),c.producerIndexOfThis[a]=r}}function Qs(t){var r,o;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0}function Oo(t){var r,o,a;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let xs=null;function ce(t){const r=Xr(null);try{return t()}finally{Xr(r)}}const Ot=()=>{},an=(()=>({...ns,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Ot}))();class vr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function or(){return pr}function pr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vr),Di}function Di(){const t=zs(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===Sn)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Vr(t,r,o,a){const c=this.declaredInputs[o],h=zs(t)||function Rs(t,r){return t[oi]=r}(t,{previous:Sn,current:null}),v=h.current||(h.current={}),w=h.previous,M=w[c];v[c]=new vr(M&&M.currentValue,r,w===Sn),t[a]=r}or.ngInherit=!0;const oi="__ngSimpleChanges__";function zs(t){return t[oi]||null}const is=function(t,r,o){};function pi(t){for(;Array.isArray(t);)t=t[wr];return t}function fa(t,r){return pi(r[t])}function Ts(t,r){return pi(r[t.index])}function Aa(t,r){return t.data[r]}function ai(t,r){const o=r[t];return Vi(o)?o:o[wr]}function Ws(t,r){return null==r?null:t[r]}function on(t){t[$s]=0}function Yi(t){1024&t[Gn]||(t[Gn]|=1024,Po(t,1))}function Os(t){1024&t[Gn]&&(t[Gn]&=-1025,Po(t,-1))}function Po(t,r){let o=t[Yr];if(null===o)return;o[Is]+=r;let a=o;for(o=o[Yr];null!==o&&(1===r&&1===a[Is]||-1===r&&0===a[Is]);)o[Is]+=r,a=o,o=o[Yr]}const yr={lFrame:Wn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qs(){return yr.bindingsEnabled}function ga(){return null!==yr.skipHydrationRootTNode}function Xt(){return yr.lFrame.lView}function Qr(){return yr.lFrame.tView}function La(t){return yr.lFrame.contextLView=t,t[ri]}function _r(t){return yr.lFrame.contextLView=null,t}function Wi(){let t=nc();for(;null!==t&&64===t.type;)t=t.parent;return t}function nc(){return yr.lFrame.currentTNode}function jn(t,r){const o=yr.lFrame;o.currentTNode=t,o.isParent=r}function So(){return yr.lFrame.isParent}function qr(){yr.lFrame.isParent=!1}function Ma(){return yr.lFrame.bindingIndex++}function No(t){const r=yr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function S(t,r){const o=yr.lFrame;o.bindingIndex=o.bindingRootIndex=t,b(r)}function b(t){yr.lFrame.currentDirectiveIndex=t}function X(){return yr.lFrame.currentQueryIndex}function fe(t){yr.lFrame.currentQueryIndex=t}function at(t){const r=t[yn];return 2===r.type?r.declTNode:1===r.type?t[Ii]:null}function cn(t,r,o){if(o&On.SkipSelf){let c=r,h=t;for(;!(c=c.parent,null!==c||o&On.Host||(c=at(h),null===c||(h=h[Ms],10&c.type))););if(null===c)return!1;r=c,t=h}const a=yr.lFrame=bn();return a.currentTNode=r,a.lView=t,!0}function pe(t){const r=bn(),o=t[yn];yr.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function bn(){const t=yr.lFrame,r=null===t?null:t.child;return null===r?Wn(t):r}function Wn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ki(){const t=yr.lFrame;return yr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ui=ki;function Nr(){const t=ki();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xi(){return yr.lFrame.selectedIndex}function eo(t){yr.lFrame.selectedIndex=t}function bi(){const t=yr.lFrame;return Aa(t.tView,t.selectedIndex)}let As=!0;function al(){return As}function Qo(t){As=t}function ll(t,r){for(let j=r.directiveStart,W=r.directiveEnd;j<W;j++){const ze=t.data[j].type.prototype,{ngAfterContentInit:ot,ngAfterContentChecked:Lt,ngAfterViewInit:un,ngAfterViewChecked:xn,ngOnDestroy:rr}=ze;var o,a,c,h,v,w,M;ot&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-j,ot),Lt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(j,Lt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(j,Lt)),un&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-j,un),xn&&((null!==(v=t.viewHooks)&&void 0!==v?v:t.viewHooks=[]).push(j,xn),(null!==(w=t.viewCheckHooks)&&void 0!==w?w:t.viewCheckHooks=[]).push(j,xn)),null!=rr&&(null!==(M=t.destroyHooks)&&void 0!==M?M:t.destroyHooks=[]).push(j,rr)}}function $a(t,r,o){nh(t,r,3,o)}function rc(t,r,o,a){(3&t[Gn])===o&&nh(t,r,o,a)}function ic(t,r){let o=t[Gn];(3&o)===r&&(o&=8191,o+=1,t[Gn]=o)}function nh(t,r,o,a){const h=null!=a?a:-1,v=r.length-1;let w=0;for(let M=void 0!==a?65535&t[$s]:0;M<v;M++)if("number"==typeof r[M+1]){if(w=r[M],null!=a&&w>=a)break}else r[M]<0&&(t[$s]+=65536),(w<h||-1==h)&&(_u(t,o,r,M),t[$s]=(4294901760&t[$s])+M+2),M++}function xc(t,r){is(4,t,r);const o=Xr(null);try{r.call(t)}finally{Xr(o),is(5,t,r)}}function _u(t,r,o,a){const c=o[a]<0,h=o[a+1],w=t[c?-o[a]:o[a]];c?t[Gn]>>13<t[$s]>>16&&(3&t[Gn])===r&&(t[Gn]+=8192,xc(w,h)):xc(w,h)}const Ba=-1;class Va{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function sc(t){return t!==Ba}function cl(t){return 32767&t}function Ua(t,r){let o=function ih(t){return t>>16}(t),a=r;for(;o>0;)a=a[Ms],o--;return a}let Oc=!0;function Pc(t){const r=Oc;return Oc=t,r}const ks=255,sd=5;let va=0;const Jo={};function ya(t,r){const o=Pi(t,r);if(-1!==o)return o;const a=r[yn];a.firstCreatePass&&(t.injectorIndex=r.length,vs(a.data,t),vs(r,null),vs(a.blueprint,null));const c=xa(t,r),h=t.injectorIndex;if(sc(c)){const v=cl(c),w=Ua(c,r),M=w[yn].data;for(let j=0;j<8;j++)r[h+j]=w[v+j]|M[v+j]}return r[h+8]=c,h}function vs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Pi(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function xa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Ea(c),null===a)return Ba;if(o++,c=c[Ms],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Ba}function _a(t,r,o){!function Fi(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Or)&&(a=o[Or]),null==a&&(a=o[Or]=va++);const c=a&ks;r.data[t+(c>>sd)]|=1<<c}(t,r,o)}function Nl(t,r,o){if(o&On.Optional||void 0!==t)return t;Oe()}function oc(t,r,o,a){if(o&On.Optional&&void 0===a&&(a=null),!(o&(On.Self|On.Host))){const c=t[gs],h=ar(void 0);try{return c?c.get(r,a,o&On.Optional):gr(r,a,o&On.Optional)}finally{ar(h)}}return Nl(a,0,o)}function ds(t,r,o,a=On.Default,c){if(null!==t){if(2048&r[Gn]&&!(a&On.Self)){const v=function Fc(t,r,o,a,c){let h=t,v=r;for(;null!==h&&null!==v&&2048&v[Gn]&&!(512&v[Gn]);){const w=od(h,v,o,a|On.Self,Jo);if(w!==Jo)return w;let M=h.parent;if(!M){const j=v[Zs];if(j){const W=j.get(o,Jo,a);if(W!==Jo)return W}M=Ea(v),v=v[Ms]}h=M}return c}(t,r,o,a,Jo);if(v!==Jo)return v}const h=od(t,r,o,a,Jo);if(h!==Jo)return h}return oc(r,o,a,c)}function od(t,r,o,a,c){const h=function kc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Or)?t[Or]:void 0;return"number"==typeof r?r>=0?r&ks:dl:r}(o);if("function"==typeof h){if(!cn(r,t,a))return a&On.Host?Nl(c,0,a):oc(r,o,a,c);try{let v;if(v=h(a),null!=v||a&On.Optional)return v;Oe()}finally{Ui()}}else if("number"==typeof h){let v=null,w=Pi(t,r),M=Ba,j=a&On.Host?r[ii][Ii]:null;for((-1===w||a&On.SkipSelf)&&(M=-1===w?xa(t,r):r[w+8],M!==Ba&&ul(a,!1)?(v=r[yn],w=cl(M),r=Ua(M,r)):w=-1);-1!==w;){const W=r[yn];if(Ho(h,w,W.data)){const ae=Ra(w,r,o,v,a,j);if(ae!==Jo)return ae}M=r[w+8],M!==Ba&&ul(a,r[yn].data[w+8]===j)&&Ho(h,w,r)?(v=W,w=cl(M),r=Ua(M,r)):w=-1}}return c}function Ra(t,r,o,a,c,h){const v=r[yn],w=v.data[t+8],W=Ji(w,v,o,null==a?js(w)&&Oc:a!=v&&0!=(3&w.type),c&On.Host&&h===w);return null!==W?go(r,v,W,w):Jo}function Ji(t,r,o,a,c){const h=t.providerIndexes,v=r.data,w=1048575&h,M=t.directiveStart,W=h>>20,ze=c?w+W:t.directiveEnd;for(let ot=a?w:w+W;ot<ze;ot++){const Lt=v[ot];if(ot<M&&o===Lt||ot>=M&&Lt.type===o)return ot}if(c){const ot=v[M];if(ot&&Ni(ot)&&ot.type===o)return M}return null}function go(t,r,o,a){let c=t[o];const h=r.data;if(function nf(t){return t instanceof Va}(c)){const v=c;v.resolving&&function Me(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Re(-200,`Circular dependency in DI detected for ${t}${o}`)}(function qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ge(t)}(h[o]));const w=Pc(v.canSeeViewProviders);v.resolving=!0;const j=v.injectImpl?ar(v.injectImpl):null;cn(t,a,On.Default);try{c=t[o]=v.factory(void 0,h,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Ns(t,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){var v,w;const ae=pr(r);(null!==(v=o.preOrderHooks)&&void 0!==v?v:o.preOrderHooks=[]).push(t,ae),(null!==(w=o.preOrderCheckHooks)&&void 0!==w?w:o.preOrderCheckHooks=[]).push(t,ae)}var M,j,W;c&&(null!==(M=o.preOrderHooks)&&void 0!==M?M:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(j=o.preOrderHooks)&&void 0!==j?j:o.preOrderHooks=[]).push(t,h),(null!==(W=o.preOrderCheckHooks)&&void 0!==W?W:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],r)}finally{null!==j&&ar(j),Pc(w),v.resolving=!1,Ui()}}return c}function Ho(t,r,o){return!!(o[r+(t>>sd)]&1<<t)}function ul(t,r){return!(t&On.Self||t&On.Host&&r)}class Li{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return ds(this._tNode,this._lView,r,Fn(a),o)}}function dl(){return new Li(Wi(),Xt())}function mo(t){return ft(()=>{const r=t.prototype.constructor,o=r[dr]||ea(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[dr]||ea(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ea(t){return Ve(t)?()=>{const r=ea(Ye(t));return r&&r()}:te(t)}function Ea(t){const r=t[yn],o=r.type;return 2===o?r.declTNode:1===o?t[Ii]:null}function Lc(t){return function to(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(br(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===r)return o[c+1];c+=2}}}return null}(Wi(),t)}const hl="__parameters__";function we(t,r,o){return ft(()=>{const a=function G(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const v=new c(...h);return w.annotation=v,w;function w(M,j,W){const ae=M.hasOwnProperty(hl)?M[hl]:Object.defineProperty(M,hl,{value:[]})[hl];for(;ae.length<=W;)ae.push(null);return(ae[W]=ae[W]||[]).push(v),M}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function kl(t,r){t.forEach(o=>Array.isArray(o)?kl(o,r):r(o))}function sh(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function ei(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function gi(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function ko(t,r,o){let a=cc(t,r);return a>=0?t[1|a]=o:(a=~a,function ad(t,r,o,a){let c=t.length;if(c==r)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function ld(t,r){const o=cc(t,r);if(o>=0)return t[1|o]}function cc(t,r){return function lf(t,r,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),v=t[h<<o];if(r===v)return h<<o;v>r?c=h:a=h+1}return~(c<<o)}(t,r,1)}const ja=Rr(we("Optional"),8),pl=Rr(we("SkipSelf"),4);function pc(t){return 128==(128&t.flags)}var Hc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hc||{});const zc=/^>|^->|<!--|-->|--!>|<!-$/g,vl=/(<|>)/g,dh="\u200b$1\u200b";const hh=new Map;let og=0;const yl="__ngContext__";function hs(t,r){Vi(r)?(t[yl]=r[zi],function vo(t){hh.set(t[zi],t)}(r)):t[yl]=r}let Le;function vt(t,r){return Le(t,r)}function pn(t){const r=t[Yr];return Hi(r)?r[Yr]:r}function fs(t){return qc(t[fi])}function ra(t){return qc(t[ui])}function qc(t){for(;null!==t&&!Hi(t);)t=t[ui];return t}function _l(t,r,o,a,c){if(null!=a){let h,v=!1;Hi(a)?h=a:Vi(a)&&(v=!0,a=a[wr]);const w=pi(a);0===t&&null!==o?null==c?Df(r,o,w):os(r,o,w,c||null,!0):1===t&&null!==o?os(r,o,w,c||null,!0):2===t?function yh(t,r,o){const a=_d(t,r);a&&function vh(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,v):3===t&&r.destroyNode(w),null!=h&&function w_(t,r,o,a,c){const h=o[Ri];h!==pi(o)&&_l(r,t,a,h,c);for(let w=ji;w<o.length;w++){const M=o[w];_h(M[yn],M,t,r,a,h)}}(r,t,h,o,c)}}function Ul(t,r){return t.createComment(function Gc(t){return t.replace(zc,r=>r.replace(vl,dh))}(r))}function El(t,r,o){return t.createElement(r,o)}function _f(t,r){const o=t[yi],a=o.indexOf(r);Os(r),o.splice(a,1)}function Ef(t,r){if(t.length<=ji)return;const o=ji+r,a=t[o];if(a){const c=a[Zr];null!==c&&c!==t&&_f(c,a),r>0&&(t[o-1][ui]=a[ui]);const h=ei(t,ji+r);!function gh(t,r){_h(t,r,r[Bn],2,null,null),r[wr]=null,r[Ii]=null}(a[yn],a);const v=h[vi];null!==v&&v.detachView(h[yn]),a[Yr]=null,a[ui]=null,a[Gn]&=-129}return a}function lg(t,r){if(!(256&r[Gn])){const o=r[Bn];r[Vs]&&wa(r[Vs]),r[uo]&&wa(r[uo]),o.destroyNode&&_h(t,r,o,3,null,null),function vf(t){let r=t[fi];if(!r)return cg(t[yn],t);for(;r;){let o=null;if(Vi(r))o=r[fi];else{const a=r[ji];a&&(o=a)}if(!o){for(;r&&!r[ui]&&r!==t;)Vi(r)&&cg(r[yn],r),r=r[Yr];null===r&&(r=t),Vi(r)&&cg(r[yn],r),o=r&&r[ui]}r=o}}(r)}}function cg(t,r){if(!(256&r[Gn])){r[Gn]&=-129,r[Gn]|=256,function yd(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof Va)){const h=o[a+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const w=c[h[v]],M=h[v+1];is(4,w,M);try{M.call(w)}finally{is(5,w,M)}}else{is(4,c,h);try{h.call(c)}finally{is(5,c,h)}}}}}(t,r),function ug(t,r){const o=t.cleanup,a=r[Io];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?a[v]():a[-v].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(r[Io]=null);const c=r[Bs];if(null!==c){r[Bs]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,r),1===r[yn].type&&r[Bn].destroy();const o=r[Zr];if(null!==o&&Hi(r[Yr])){o!==r[Yr]&&_f(o,r);const a=r[vi];null!==a&&a.detachView(t)}!function fd(t){hh.delete(t[zi])}(r)}}function If(t,r,o){return function yv(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[wr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===jt.None||h===jt.Emulated)return null}return Ts(a,o)}}(t,r.parent,o)}function os(t,r,o,a,c){t.insertBefore(r,o,a,c)}function Df(t,r,o){t.appendChild(r,o)}function dg(t,r,o,a,c){null!==a?os(t,r,o,a,c):Df(t,r,o)}function _d(t,r){return t.parentNode(r)}function Ed(t,r,o){return fg(t,r,o)}let bf,Af,Ec,Yc,fg=function hg(t,r,o){return 40&t.type?Ts(t,o):null};function wf(t,r,o,a){const c=If(t,a,r),h=r[Bn],w=Ed(a.parent||r[Ii],a,r);if(null!=c)if(Array.isArray(o))for(let M=0;M<o.length;M++)dg(h,c,o[M],w,!1);else dg(h,c,o,w,!1);void 0!==bf&&bf(h,a,r,o,c)}function _c(t,r){if(null!==r){const o=r.type;if(3&o)return Ts(r,t);if(4&o)return pg(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return _c(t,a);{const c=t[r.index];return Hi(c)?pg(-1,c):pi(c)}}if(32&o)return vt(r,t)()||pi(t[r.index]);{const a=Cf(t,r);return null!==a?Array.isArray(a)?a[0]:_c(pn(t[ii]),a):_c(t,r.next)}}return null}function Cf(t,r){return null!==r?t[ii][Ii].projection[r.projection]:null}function pg(t,r){const o=ji+t+1;if(o<r.length){const a=r[o],c=a[yn].firstChild;if(null!==c)return _c(a,c)}return r[Ri]}function Sf(t,r,o,a,c,h,v){for(;null!=o;){const w=a[o.index],M=o.type;if(v&&0===r&&(w&&hs(pi(w),a),o.flags|=2),32!=(32&o.flags))if(8&M)Sf(t,r,o.child,a,c,h,!1),_l(r,t,c,w,h);else if(32&M){const j=vt(o,a);let W;for(;W=j();)_l(r,t,c,W,h);_l(r,t,c,w,h)}else 16&M?Dv(t,r,a,o,c,h):_l(r,t,c,w,h);o=v?o.projectionNext:o.next}}function _h(t,r,o,a,c,h){Sf(o,a,t.firstChild,r,c,h,!1)}function Dv(t,r,o,a,c,h){const v=o[ii],M=v[Ii].projection[a.projection];if(Array.isArray(M))for(let j=0;j<M.length;j++)_l(r,t,c,M[j],h);else{let j=M;const W=v[Yr];pc(a)&&(j.flags|=128),Sf(t,r,j,W,c,h,!0)}}function xu(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function gg(t,r,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&Pr(t,r,a),null!==c&&xu(t,r,c),null!==h&&function Kc(t,r,o){t.setAttribute(r,"style",o)}(t,r,h)}function ba(t){var r;return(null===(r=function Mf(){if(void 0===Af&&(Af=null,$t.trustedTypes))try{Af=$t.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Af}())||void 0===r?void 0:r.createHTML(t))||t}function Ru(t){Ec=t}function mg(t){var r;return(null===(r=function Rf(){if(void 0===Yc&&(Yc=null,$t.trustedTypes))try{Yc=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yc}())||void 0===r?void 0:r.createScriptURL(t))||t}class Zc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class A_ extends Zc{getTypeName(){return"HTML"}}class wv extends Zc{getTypeName(){return"Style"}}class Cv extends Zc{getTypeName(){return"Script"}}class Nf extends Zc{getTypeName(){return"URL"}}class Eh extends Zc{getTypeName(){return"ResourceURL"}}function ia(t){return t instanceof Zc?t.changingThisBreaksApplicationSecurity:t}function Id(t,r){const o=function Tv(t){return t instanceof Zc&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ut})`)}return o===r}function M_(t){return new A_(t)}function x_(t){return new wv(t)}function R_(t){return new Cv(t)}function Ih(t){return new Nf(t)}function Ou(t){return new Eh(t)}class Sv{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(ba(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class O_{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=ba(r),o}}const P_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(t){return(t=String(t)).match(P_)?t:"unsafe:"+t}function Il(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function bd(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const kf=Il("area,br,col,hr,img,wbr"),Ff=Il("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vg=Il("rp,rt"),wd=bd(kf,bd(Ff,Il("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bd(vg,Il("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bd(vg,Ff)),_g=Il("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dh=bd(_g,Il("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Il("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bh=Il("script,style,template");class xv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!wd.hasOwnProperty(o))return this.sanitizedSomething=!0,!bh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),v=h.name,w=v.toLowerCase();if(!Dh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let M=h.value;_g[w]&&(M=Dd(M)),this.buf.push(" ",v,'="',Eg(M),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();wd.hasOwnProperty(o)&&!kf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Eg(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Rv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Go=/([^\#-~ |!])/g;function Eg(t){return t.replace(/&/g,"&amp;").replace(Rv,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Go,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pu;function wh(t,r){let o=null;try{Pu=Pu||function Ic(t){const r=new O_(t);return function Av(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new Sv(r):r}(t);let a=r?String(r):"";o=Pu.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=o.innerHTML,o=Pu.getInertBodyElement(a)}while(a!==h);return ba((new xv).sanitizeChildren($f(o)||o))}finally{if(o){const a=$f(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function $f(t){return"content"in t&&function Xc(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ka=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ka||{});function Pv(t){const r=Ch();return r?r.sanitize(Ka.URL,t)||"":Id(t,"URL")?ia(t):Dd(ge(t))}function ku(t){const r=Ch();if(r)return mg(r.sanitize(Ka.RESOURCE_URL,t)||"");if(Id(t,"ResourceURL"))return mg(ia(t));throw new Re(904,!1)}function Ig(t,r,o){return function k_(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?ku:Pv}(r,o)(t)}function Ch(){const t=Xt();return t&&t[co].sanitizer}class Ai{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=yt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cd=new Ai("ENVIRONMENT_INITIALIZER"),Fv=new Ai("INJECTOR",-1),Dg=new Ai("INJECTOR_DEF_TYPES");class bg{get(r,o=Kt){if(o===Kt){const a=new Error(`NullInjectorError: No provider for ${be(r)}!`);throw a.name="NullInjectorError",a}return o}}function Bf(t){return{\u0275providers:t}}function Fu(...t){return{\u0275providers:Td(0,t),\u0275fromNgModule:!0}}function Td(t,...r){const o=[],a=new Set;let c;const h=v=>{o.push(v)};return kl(r,v=>{const w=v;Th(w,h,[],a)&&(c||(c=[]),c.push(w))}),void 0!==c&&wg(c,h),o}function wg(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];Vf(c,h=>{r(h,a)})}}function Th(t,r,o,a){if(!(t=Ye(t)))return!1;let c=null,h=dn(t);const v=!h&&Ct(t);if(h||v){if(v&&!v.standalone)return!1;c=t}else{const M=t.ngModule;if(h=dn(M),!h)return!1;c=M}const w=a.has(c);if(v){if(w)return!1;if(a.add(c),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of M)Th(j,r,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let j;a.add(c);try{kl(h.imports,W=>{Th(W,r,o,a)&&(j||(j=[]),j.push(W))})}finally{}void 0!==j&&wg(j,r)}if(!w){const j=te(c)||(()=>new c);r({provide:c,useFactory:j,deps:Zt},c),r({provide:Dg,useValue:c,multi:!0},c),r({provide:Cd,useValue:()=>kt(c),multi:!0},c)}const M=h.providers;if(null!=M&&!w){const j=t;Vf(M,W=>{r(W,j)})}}}return c!==t&&void 0!==t.providers}function Vf(t,r){for(let o of t)Ie(o)&&(o=o.\u0275providers),Array.isArray(o)?Vf(o,r):r(o)}const L_=ue({provide:String,useValue:ue});function Cg(t){return null!==t&&"object"==typeof t&&L_ in t}function Lu(t){return"function"==typeof t}const Tg=new Ai("Set Injector scope."),jf={},Sg={};let Ag;function $u(){return void 0===Ag&&(Ag=new bg),Ag}class Pa{}class Hf extends Pa{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pg(r,v=>this.processProvider(v)),this.records.set(Fv,Dc(void 0,this)),c.has("environment")&&this.records.set(Pa,Dc(void 0,this));const h=this.records.get(Tg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Dg.multi,Zt,On.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Be(this),a=ar(void 0);try{return r()}finally{Be(o),ar(a)}}get(r,o=Kt,a=On.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Mr))return r[Mr](this);a=Fn(a);const h=Be(this),v=ar(void 0);try{if(!(a&On.SkipSelf)){let M=this.records.get(r);if(void 0===M){const j=function Lv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ai}(r)&&Ut(r);M=j&&this.injectableDefInScope(j)?Dc(zf(r),jf):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(a&On.Self?$u():this.parent).get(r,o=a&On.Optional&&o===Kt?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[vn]=w[vn]||[]).unshift(be(r)),h)throw w;return function Fe(t,r,o,a){const c=t[vn];throw r[Y]&&c.unshift(r[Y]),t.message=function _t(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=be(r);if(Array.isArray(r))c=r.map(be).join(" -> ");else if("object"==typeof r){let h=[];for(let v in r)if(r.hasOwnProperty(v)){let w=r[v];h.push(v+":"+("string"==typeof w?JSON.stringify(w):be(w)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ke,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[vn]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{ar(v),Be(h)}}resolveInjectorInitializers(){const r=Be(this),o=ar(void 0);try{const c=this.get(Cd.multi,Zt,On.Self);for(const h of c)h()}finally{Be(r),ar(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(be(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(r){let o=Lu(r=Ye(r))?r:Ye(r&&r.provide);const a=function xg(t){return Cg(t)?Dc(void 0,t.useValue):Dc(Sd(t),jf)}(r);if(Lu(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Dc(void 0,jf,!0),c.factory=()=>Yn(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===jf&&(o.value=Sg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Og(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ye(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function zf(t){const r=Ut(t),o=null!==r?r.factory:te(t);if(null!==o)return o;if(t instanceof Ai)throw new Re(204,!1);if(t instanceof Function)return function Mg(t){const r=t.length;if(r>0)throw gi(r,"?"),new Re(204,!1);const o=function kn(t){return t&&(t[gn]||t[xr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Re(204,!1)}function Sd(t,r,o){let a;if(Lu(t)){const c=Ye(t);return te(c)||zf(c)}if(Cg(t))a=()=>Ye(t.useValue);else if(function yo(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Yn(t.deps||[]));else if(function Uf(t){return!(!t||!t.useExisting)}(t))a=()=>kt(Ye(t.useExisting));else{const c=Ye(t&&(t.useClass||t.provide));if(!function Rg(t){return!!t.deps}(t))return te(c)||zf(c);a=()=>new c(...Yn(t.deps))}return a}function Dc(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Pg(t,r){for(const o of t)Array.isArray(o)?Pg(o,r):o&&Ie(o)?Pg(o.\u0275providers,r):r(o)}const Ng=new Ai("AppId",{providedIn:"root",factory:()=>$v}),$v="ng",Gf=new Ai("Platform Initializer"),kg=new Ai("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bv=new Ai("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function qa(){if(void 0!==Ec)return Ec;if(typeof document<"u")return document;throw new Re(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Qf=(t,r,o)=>null;function Jf(t,r,o=!1){return Qf(t,r,o)}class H_{}class Uv{}class G_{resolveComponentFactory(r){throw function z_(t){const r=Error(`No component factory found for ${be(t)}.`);return r.ngComponent=t,r}(r)}}let rp=(()=>{class r{}return r.NULL=new G_,r})();function Oh(){return eu(Wi(),Xt())}function eu(t,r){return new jl(Ts(t,r))}let jl=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=Oh,r})();function $g(t){return t instanceof jl?t.nativeElement:t}class Ph{}let Nh=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Bg(){const t=Xt(),o=ai(Wi().index,t);return(Vi(o)?o:t)[Bn]}(),r})(),zv=(()=>{var t;class r{}return(t=r).\u0275prov=yt({token:t,providedIn:"root",factory:()=>null}),r})();class ip{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const sp=new ip("16.2.7"),Hl={};function ap(t,r=null,o=null,a){const c=qv(t,r,o,a);return c.resolveInjectorInitializers(),c}function qv(t,r=null,o=null,a,c=new Set){const h=[o||Zt,Fu(t)];return a=a||("object"==typeof t?void 0:be(t)),new Hf(h,r||$u(),a||null,c)}let Dl=(()=>{var t;class r{static create(a,c){if(Array.isArray(a))return ap({name:""},c,a,"");{var h;const v=null!==(h=a.name)&&void 0!==h?h:"";return ap({name:v},a.parent,a.providers,v)}}}return(t=r).THROW_IF_NOT_FOUND=Kt,t.NULL=new bg,t.\u0275prov=yt({token:t,providedIn:"any",factory:()=>kt(Fv)}),t.__NG_ELEMENT_ID__=-1,r})();function Gg(t){return t.ngOriginalError}class zl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Gg(r);for(;o&&Gg(o);)o=Gg(o);return o||null}}function Yg(t){return r=>{setTimeout(t,void 0,r)}}const Ya=class Kg extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,h=o||(()=>null),v=a;if(r&&"object"==typeof r){var w,M,j;const ae=r;c=null===(w=ae.next)||void 0===w?void 0:w.bind(ae),h=null===(M=ae.error)||void 0===M?void 0:M.bind(ae),v=null===(j=ae.complete)||void 0===j?void 0:j.bind(ae)}this.__isAsync&&(h=Yg(h),c&&(c=Yg(c)),v&&(v=Yg(v)));const W=super.subscribe({next:c,error:h,complete:v});return r instanceof g.w0&&r.add(W),W}};function Zg(...t){}class oo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Xg(){const t="function"==typeof $t.requestAnimationFrame;let r=$t[t?"requestAnimationFrame":"setTimeout"],o=$t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function kd(t){const r=()=>{!function Qg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tu(t),t.isCheckStableRunning=!0,Gl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,v,w)=>{if(function em(t){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0].data)||void 0===r?void 0:r.__ignore_ng_zone__)}(w))return o.invokeTask(c,h,v,w);try{return Jg(t),o.invokeTask(c,h,v,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),Hu(t)}},onInvoke:(o,a,c,h,v,w,M)=>{try{return Jg(t),o.invoke(c,h,v,w,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),Hu(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,tu(t),Gl(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oo.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(oo.isInAngularZone())throw new Re(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+c,r,Nd,Zg,Zg);try{return h.runTask(v,o,a)}finally{h.cancelTask(v)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Nd={};function Gl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Jg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hu(t){t._nesting--,Gl(t)}class Y_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const Yv=new Ai("",{providedIn:"root",factory:lp});function lp(){const t=en(oo);let r=!0;const o=new K.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new K.y(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{oo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const v=t.onUnstable.subscribe(()=>{oo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),v.unsubscribe()}});return(0,ne.T)(o,a.pipe((0,he.B)()))}function bl(t){return t instanceof Function?t():t}let cp=(()=>{var t;class r{constructor(){this.renderDepth=0,this.handler=null}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){var a;this.renderDepth--,0===this.renderDepth&&(null===(a=this.handler)||void 0===a||a.execute())}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null}}return(t=r).\u0275prov=yt({token:t,providedIn:"root",factory:()=>new t}),r})();function Ld(t){for(;t;){t[Gn]|=64;const r=pn(t);if(cs(t)&&!r)return t;t=r}return null}const ey=new Ai("",{providedIn:"root",factory:()=>!1});let $h=null;function ry(t,r){var o;return null!==(o=t[r])&&void 0!==o?o:iy()}function hp(t,r){var o;const a=iy();null!==(o=a.producerNode)&&void 0!==o&&o.length&&(t[r]=$h,a.lView=t,$h=fp())}const e0={...ns,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ld(t.lView)},lView:null};function fp(){return Object.create(e0)}function iy(){var t;return null!==(t=$h)&&void 0!==t||($h=fp()),$h}const Fr={};function pp(t){gp(Qr(),Xt(),Xi()+t,!1)}function gp(t,r,o,a){if(!a)if(3==(3&r[Gn])){const h=t.preOrderCheckHooks;null!==h&&$a(r,h,o)}else{const h=t.preOrderHooks;null!==h&&rc(r,h,0,o)}eo(o)}function wl(t,r=On.Default){const o=Xt();return null===o?kt(t,r):ds(Wi(),o,Ye(t),r)}function lm(){throw new Error("invalid")}function mp(t,r,o,a,c,h,v,w,M,j,W){const ae=r.blueprint.slice();return ae[wr]=c,ae[Gn]=140|a,(null!==j||t&&2048&t[Gn])&&(ae[Gn]|=2048),on(ae),ae[Yr]=ae[Ms]=t,ae[ri]=o,ae[co]=v||t&&t[co],ae[Bn]=w||t&&t[Bn],ae[gs]=M||t&&t[gs]||null,ae[Ii]=h,ae[zi]=function ss(){return og++}(),ae[ms]=W,ae[Zs]=j,ae[ii]=2==r.type?t[ii]:ae,ae}function ru(t,r,o,a,c){let h=t.data[r];if(null===h)h=function Cl(t,r,o,a,c){const h=nc(),v=So(),M=t.data[r]=function ly(t,r,o,a,c,h){let v=r?r.injectorIndex:-1,w=0;return ga()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,r,a,c);return null===t.firstChild&&(t.firstChild=M),null!==h&&(v?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M,M.prev=h)),M}(t,r,o,a,c),function Ac(){return yr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const v=function Si(){const t=yr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return jn(h,!0),h}function zu(t,r,o,a){if(0===o)return-1;const c=r.length;for(let h=0;h<o;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function sy(t,r,o,a,c){const h=ry(r,Vs),v=Xi(),w=2&a;try{eo(-1),w&&r.length>hr&&gp(t,r,hr,!1),is(w?2:0,c);const j=w?h:null,W=Vo(j);try{null!==j&&(j.dirty=!1),o(a,c)}finally{Ki(j,W)}}finally{w&&null===r[Vs]&&hp(r,Vs),eo(v),is(w?3:1,c)}}function Bh(t,r,o){if(Us(r)){const a=Xr(null);try{const h=r.directiveEnd;for(let v=r.directiveStart;v<h;v++){const w=t.data[v];w.contentQueries&&w.contentQueries(1,o[v],v)}}finally{Xr(a)}}}function um(t,r,o){qs()&&(function $d(t,r,o,a){const c=o.directiveStart,h=o.directiveEnd;js(o)&&function wm(t,r,o){const a=Ts(r,t),c=vp(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const w=Wu(t,mp(t,c,null,v,a,r,null,t[co].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||ya(o,r),hs(a,r);const v=o.initialInputs;for(let w=c;w<h;w++){const M=t.data[w],j=go(r,t,w,o);hs(j,r),null!==v&&Cm(0,w-c,j,M,0,v),Ni(M)&&(ai(o.index,r)[ri]=go(r,t,w,o))}}(t,r,o,Ts(o,r)),64==(64&o.flags)&&Im(t,r,o))}function dm(t,r,o=Ts){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const v=a[h+1],w=-1===v?o(r,t):t[v];t[c++]=w}}}function vp(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=hm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function hm(t,r,o,a,c,h,v,w,M,j,W){const ae=hr+a,ze=ae+c,ot=function fm(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Fr);return o}(ae,ze),Lt="function"==typeof j?j():j;return ot[yn]={type:t,blueprint:ot,template:o,queries:null,viewQuery:w,declTNode:r,data:ot.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:Lt,incompleteFirstPass:!1,ssrId:W}}let oy=t=>null;function cy(t,r,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const h=t[c];null===a?uy(o,r,c,h):a.hasOwnProperty(c)&&uy(o,r,a[c],h)}return o}function uy(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Gu(t,r,o,a){if(qs()){const c=null===a?null:{"":-1},h=function r0(t,r){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let v=0;v<o.length;v++){const w=o[v];if(J(r,w.selectors,!1))if(a||(a=[]),Ni(w))if(null!==w.findHostDirectiveDefs){const M=[];c=c||new Map,w.findHostDirectiveDefs(w,M,c),a.unshift(...M,w),Dm(t,r,M.length)}else a.unshift(w),Dm(t,r,0);else{var h;c=c||new Map,null===(h=w.findHostDirectiveDefs)||void 0===h||h.call(w,w,a,c),a.push(w)}}return null===a?null:[a,c]}(t,o);let v,w;null===h?v=w=null:[v,w]=h,null!==v&&dy(t,r,o,v,c,w),c&&function s0(t,r,o){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const h=o[r[c+1]];if(null==h)throw new Re(-301,!1);a.push(r[c],h)}}}(o,a,c)}o.mergedAttrs=Bi(o.mergedAttrs,o.attrs)}function dy(t,r,o,a,c,h){for(let ae=0;ae<a.length;ae++)_a(ya(o,r),t,a[ae].type);!function _p(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let ae=0;ae<a.length;ae++){const ze=a[ae];ze.providersResolver&&ze.providersResolver(ze)}let v=!1,w=!1,M=zu(t,r,a.length,null);for(let ae=0;ae<a.length;ae++){const ze=a[ae];o.mergedAttrs=Bi(o.mergedAttrs,ze.hostAttrs),bm(t,o,r,M,ze),o0(M,ze,c),null!==ze.contentQueries&&(o.flags|=4),(null!==ze.hostBindings||null!==ze.hostAttrs||0!==ze.hostVars)&&(o.flags|=64);const ot=ze.type.prototype;var j,W;!v&&(ot.ngOnChanges||ot.ngOnInit||ot.ngDoCheck)&&((null!==(j=t.preOrderHooks)&&void 0!==j?j:t.preOrderHooks=[]).push(o.index),v=!0),w||!ot.ngOnChanges&&!ot.ngDoCheck||((null!==(W=t.preOrderCheckHooks)&&void 0!==W?W:t.preOrderCheckHooks=[]).push(o.index),w=!0),M++}!function vm(t,r,o){const c=r.directiveEnd,h=t.data,v=r.attrs,w=[];let M=null,j=null;for(let W=r.directiveStart;W<c;W++){const ae=h[W],ze=o?o.get(ae):null,Lt=ze?ze.outputs:null;M=cy(ae.inputs,W,M,ze?ze.inputs:null),j=cy(ae.outputs,W,j,Lt);const un=null===M||null===v||Ti(r)?null:Dp(M,W,v);w.push(un)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=M,r.outputs=j}(t,o,h)}function Im(t,r,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,v=function O(){return yr.lFrame.currentDirectiveIndex}();try{eo(h);for(let w=a;w<c;w++){const M=t.data[w],j=r[w];b(w),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&yp(M,j)}}finally{eo(-1),b(v)}}function yp(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Dm(t,r,o){var a;r.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(r.index)}function o0(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;Ni(r)&&(o[""]=t)}}function bm(t,r,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=te(c.type)),v=new Va(h,Ni(c),wl);t.blueprint[a]=v,o[a]=v,function Em(t,r,o,a,c){const h=c.hostBindings;if(h){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const w=~r.index;(function hy(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(v)!=w&&v.push(w),v.push(o,a,h)}}(t,r,a,zu(t,o,c.hostVars,Fr),c)}function Za(t,r,o,a,c,h){const v=Ts(t,r);!function Ep(t,r,o,a,c,h,v){if(null==h)t.removeAttribute(r,c,o);else{const w=null==v?ge(h):v(h,a||"",c);t.setAttribute(r,c,w,o)}}(r[Bn],v,h,t.value,o,a,c)}function Cm(t,r,o,a,c,h){const v=h[r];if(null!==v)for(let w=0;w<v.length;)Ip(a,o,v[w++],v[w++],v[w++])}function Ip(t,r,o,a,c){const h=Xr(null);try{const v=t.inputTransforms;null!==v&&v.hasOwnProperty(a)&&(c=v[a].call(r,c)),null!==t.setInput?t.setInput(r,c,o,a):r[a]=c}finally{Xr(h)}}function Dp(t,r,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const v=t[h];for(let w=0;w<v.length;w+=2)if(v[w]===r){a.push(h,v[w+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function bp(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Tm(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const v=t.data[h];fe(o[a]),v.contentQueries(2,r[h],h)}}}function Wu(t,r){return t[fi]?t[Do][ui]=r:t[fi]=r,t[Do]=r,r}function wp(t,r,o){fe(0);const a=Xr(null);try{r(t,o)}finally{Xr(a)}}function Sm(t){return t[Io]||(t[Io]=[])}function qu(t){return t.cleanup||(t.cleanup=[])}function py(t,r){const o=t[gs],a=o?o.get(zl,null):null;a&&a.handleError(r)}function Am(t,r,o,a,c){for(let h=0;h<o.length;){const v=o[h++],w=o[h++];Ip(t.data[v],r[v],a,w,c)}}function bc(t,r,o){const a=fa(r,t);!function vc(t,r,o){t.setValue(r,o)}(t[Bn],a,o)}function gy(t,r){const o=ai(r,t),a=o[yn];!function a0(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const c=o[wr];null!==c&&null===o[ms]&&(o[ms]=Jf(c,o[gs])),Tp(a,o,o[ri])}function Tp(t,r,o){pe(r);try{const a=t.viewQuery;null!==a&&wp(1,a,o);const c=t.template;null!==c&&sy(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tm(t,r),t.staticViewQueries&&wp(2,t.viewQuery,o);const h=t.components;null!==h&&function l0(t,r){for(let o=0;o<r.length;o++)gy(t,r[o])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Gn]&=-5,Nr()}}let my=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const v=typeof Zone>"u"?null:Zone.current,w=function je(t,r,o){const a=Object.create(an);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=v=>{a.cleanupFn=v};return a.ref={notify:()=>Bo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Fa(a))return;a.hasRun=!0;const v=Vo(a);try{a.cleanupFn(),a.cleanupFn=Ot,a.fn(c)}finally{Ki(a,v)}},cleanup:()=>a.cleanupFn()},a.ref}(a,W=>{this.all.has(W)&&this.queue.set(W,v)},h);let M;this.all.add(w),w.notify();const j=()=>{var W;w.cleanup(),null===(W=M)||void 0===W||W(),this.all.delete(w),this.queue.delete(w)};return M=null==c?void 0:c.onDestroy(j),{destroy:j}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=yt({token:t,providedIn:"root",factory:()=>new t}),r})();function Sp(t,r,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==r)for(let v=0;v<r.length;v++){const w=r[v];"number"==typeof w?h=w:1==h?c=Ae(c,w):2==h&&(a=Ae(a,w+": "+r[++v]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Bd(t,r,o,a,c=!1){for(;null!==o;){const h=r[o.index];null!==h&&a.push(pi(h)),Hi(h)&&Mm(h,a);const v=o.type;if(8&v)Bd(t,r,o.child,a);else if(32&v){const w=vt(o,r);let M;for(;M=w();)a.push(M)}else if(16&v){const w=Cf(r,o);if(Array.isArray(w))a.push(...w);else{const M=pn(r[ii]);Bd(M[yn],M,w,a,!0)}}o=c?o.projectionNext:o.next}return a}function Mm(t,r){for(let o=ji;o<t.length;o++){const a=t[o],c=a[yn].firstChild;null!==c&&Bd(a[yn],a,c,r)}t[Ri]!==t[wr]&&r.push(t[Ri])}function Vd(t,r,o,a=!0){const c=r[co],h=c.rendererFactory,v=c.afterRenderEventManager;var M;null===(M=h.begin)||void 0===M||M.call(h),null==v||v.begin();try{xm(t,r,t.template,o)}catch(ae){throw a&&py(r,ae),ae}finally{var j,W;null===(j=h.end)||void 0===j||j.call(h),null===(W=c.effectManager)||void 0===W||W.flush(),null==v||v.end()}}function xm(t,r,o,a){var c;const h=r[Gn];if(256!=(256&h)){null===(c=r[co].effectManager)||void 0===c||c.flush(),pe(r);try{on(r),function ma(t){return yr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&sy(t,r,o,2,a);const w=3==(3&h);if(w){const W=t.preOrderCheckHooks;null!==W&&$a(r,W,null)}else{const W=t.preOrderHooks;null!==W&&rc(r,W,0,null),ic(r,0)}if(function _i(t){for(let r=fs(t);null!==r;r=ra(r)){if(!r[bo])continue;const o=r[yi];for(let a=0;a<o.length;a++){Yi(o[a])}}}(r),Vh(r,2),null!==t.contentQueries&&Tm(t,r),w){const W=t.contentCheckHooks;null!==W&&$a(r,W)}else{const W=t.contentHooks;null!==W&&rc(r,W,1),ic(r,1)}!function cm(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=ry(r,uo);try{for(let c=0;c<o.length;c++){const h=o[c];if(h<0)eo(~h);else{const v=h,w=o[++c],M=o[++c];S(w,v),a.dirty=!1;const j=Vo(a);try{M(2,r[v])}finally{Ki(a,j)}}}}finally{null===r[uo]&&hp(r,uo),eo(-1)}}(t,r);const M=t.components;null!==M&&Ud(r,M,0);const j=t.viewQuery;if(null!==j&&wp(2,j,a),w){const W=t.viewCheckHooks;null!==W&&$a(r,W)}else{const W=t.viewHooks;null!==W&&rc(r,W,2),ic(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Gn]&=-73,Os(r)}finally{Nr()}}}function Vh(t,r){for(let o=fs(t);null!==o;o=ra(o))for(let a=ji;a<o.length;a++)Rm(o[a],r)}function yy(t,r,o){Rm(ai(r,t),o)}function Rm(t,r){if(!function To(t){return 128==(128&t[Gn])}(t))return;const o=t[yn],a=t[Gn];if(80&a&&0===r||1024&a||2===r)xm(o,t,o.template,t[ri]);else if(t[Is]>0){Vh(t,1);const c=o.components;null!==c&&Ud(t,c,1)}}function Ud(t,r,o){for(let a=0;a<r.length;a++)yy(t,r[a],o)}class jd{get rootNodes(){const r=this._lView,o=r[yn];return Bd(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ri]}set context(r){this._lView[ri]=r}get destroyed(){return 256==(256&this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Yr];if(Hi(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Ef(r,a),ei(o,a))}this._attachedToViewContainer=!1}lg(this._lView[yn],this._lView)}onDestroy(r){!function hn(t,r){if(256==(256&t[Gn]))throw new Re(911,!1);null===t[Bs]&&(t[Bs]=[]),t[Bs].push(r)}(this._lView,r)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){this._lView[Gn]|=128}detectChanges(){Vd(this._lView[yn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function md(t,r){_h(t,r,r[Bn],2,null,null)}(this._lView[yn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=r}}class ys extends jd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Vd(r[yn],r,r[ri],!1)}checkNoChanges(){}get context(){return null}}class xo extends rp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Ct(r);return new iu(o,this.ngModule)}}function Tl(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class d0{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Fn(a);const c=this.injector.get(r,Hl,a);return c!==Hl||o===Hl?c:this.parentInjector.get(r,o,a)}}class iu extends Uv{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Tl(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Tl(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Bt(t){return t.map(Mt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){var h;let v=(c=c||this.ngModule)instanceof Pa?c:null===(h=c)||void 0===h?void 0:h.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const w=v?new d0(r,v):r,M=w.get(Ph,null);if(null===M)throw new Re(407,!1);const ze={rendererFactory:M,sanitizer:w.get(zv,null),effectManager:w.get(my,null),afterRenderEventManager:w.get(cp,null)},ot=M.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",un=a?function t0(t,r,o,a){const h=a.get(ey,!1)||o===jt.ShadowDom,v=t.selectRootElement(r,h);return function pm(t){oy(t)}(v),v}(ot,a,this.componentDef.encapsulation,w):El(ot,Lt,function _y(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Lt)),Jt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let kr=null;null!==un&&(kr=Jf(un,w,!0));const mi=hm(0,null,null,1,0,null,null,null,null,null,null),$i=mp(null,mi,null,Jt,null,null,ze,ot,w,null,kr);let Ql,gv;pe($i);try{const th=this.componentDef;let eg,CE=null;th.findHostDirectiveDefs?(eg=[],CE=new Map,th.findHostDirectiveDefs(th,eg,CE),eg.push(th)):eg=[th];const YT=function Om(t,r){const o=t[yn],a=hr;return t[a]=r,ru(o,a,2,"#host",null)}($i,un),ZT=function h0(t,r,o,a,c,h,v){const w=c[yn];!function Pm(t,r,o,a){for(const c of t)r.mergedAttrs=Bi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Sp(r,r.mergedAttrs,!0),null!==o&&gg(a,o,r))}(a,t,r,v);let M=null;null!==r&&(M=Jf(r,c[gs]));const j=h.rendererFactory.createRenderer(r,o);let W=16;o.signals?W=4096:o.onPush&&(W=64);const ae=mp(c,vp(o),null,W,c[t.index],t,h,j,null,null,M);return w.firstCreatePass&&Dm(w,t,a.length-1),Wu(c,ae),c[t.index]=ae}(YT,un,th,eg,$i,ze,ot);gv=Aa(mi,hr),un&&function p0(t,r,o,a){if(a)Pr(t,o,["ng-version",sp.full]);else{const{attrs:c,classes:h}=function xt(t){const r=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&r.push(h,t[++a]):8===c&&o.push(h);else{if(!Kr(c))break;c=h}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&Pr(t,o,c),h&&h.length>0&&xu(t,o,h.join(" "))}}(ot,th,un,a),void 0!==o&&function _s(t,r,o){const a=t.projection=[];for(let c=0;c<r.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(gv,this.ngContentSelectors,o),Ql=function f0(t,r,o,a,c,h){const v=Wi(),w=c[yn],M=Ts(v,c);dy(w,c,v,o,null,a);for(let W=0;W<o.length;W++)hs(go(c,w,v.directiveStart+W,v),c);Im(w,c,v),M&&hs(M,c);const j=go(c,w,v.directiveStart+v.componentOffset,v);if(t[ri]=c[ri]=j,null!==h)for(const W of h)W(j,r);return Bh(w,v,t),j}(ZT,th,eg,CE,$i,[kE]),Tp(mi,$i,null)}finally{Nr()}return new Ey(this.componentType,Ql,eu(gv,$i),$i,gv)}}class Ey extends H_{constructor(r,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ys(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const v=this._rootLView;Am(v[yn],v,c,r,o),this.previousInputValues.set(r,o),Ld(ai(this._tNode.index,v))}}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function kE(){const t=Wi();ll(Xt()[yn],t)}function Fs(t){let r=function g0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let c;if(Ni(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Re(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const v=t;v.inputs=Ap(t.inputs),v.inputTransforms=Ap(t.inputTransforms),v.declaredInputs=Ap(t.declaredInputs),v.outputs=Ap(t.outputs);const w=c.hostBindings;w&&v0(t,w);const M=c.viewQuery,j=c.contentQueries;if(M&&m0(t,M),j&&Dy(t,j),le(t.inputs,c.inputs),le(t.declaredInputs,c.declaredInputs),le(t.outputs,c.outputs),null!==c.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),le(v.inputTransforms,c.inputTransforms)),Ni(c)&&c.data.animation){const W=t.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let v=0;v<h.length;v++){const w=h[v];w&&w.ngInherit&&w(t),w===Fs&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Iy(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Bi(c.hostAttrs,o=Bi(o,c.hostAttrs))}}(a)}function Ap(t){return t===Sn?{}:t===Zt?[]:t}function m0(t,r){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function Dy(t,r){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{r(a,c,h),o(a,c,h)}:r}function v0(t,r){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function Sl(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Nm(t){return!!km(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function km(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Zu(t,r,o,a){const c=Xt();return _o(c,Ma(),r)&&(Qr(),Za(bi(),c,t,r,o,a)),Zu}function zd(t,r,o,a,c,h){const w=function Yu(t,r,o,a){const c=_o(t,r,o);return _o(t,r+1,a)||c}(t,function Js(){return yr.lFrame.bindingIndex}(),o,c);return No(2),w?r+ge(o)+a+ge(c)+h:Fr}function du(t,r,o,a,c,h,v,w){const M=Xt(),j=Qr(),W=t+hr,ae=j.firstCreatePass?function UE(t,r,o,a,c,h,v,w,M){const j=r.consts,W=ru(r,t,4,v||null,Ws(j,w));Gu(r,o,W,Ws(j,M)),ll(r,W);const ae=W.tView=hm(2,W,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j,null);return null!==r.queries&&(r.queries.template(r,W),ae.queries=r.queries.embeddedTView(W)),W}(W,j,M,r,o,a,c,h,v):j.data[W];jn(ae,!1);const ze=ql(j,M,ae,t);al()&&wf(j,M,ze,ae),hs(ze,M),Wu(M,M[W]=bp(ze,M,ze,ae)),Gi(ae)&&um(j,M,ae),null!=v&&dm(M,ae,w)}let ql=function Yd(t,r,o,a){return Qo(!0),r[Bn].createComment("")};function Kl(t,r,o){const a=Xt();return _o(a,Ma(),r)&&function sa(t,r,o,a,c,h,v,w){const M=Ts(r,o);let W,j=r.inputs;!w&&null!=j&&(W=j[a])?(Am(t,o,W,a,c),js(r)&&function ym(t,r){const o=ai(r,t);16&o[Gn]||(o[Gn]|=64)}(o,r.index)):3&r.type&&(a=function n0(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=v?v(c,r.value||"",a):c,h.setProperty(M,a,c))}(Qr(),bi(),a,t,r,a[Bn],o,!1),Kl}function Hm(t,r,o,a,c){const v=c?"class":"style";Am(t,o,r.inputs[v],v,a)}function $p(t,r,o,a){const c=Xt(),h=Qr(),v=hr+t,w=c[Bn],M=h.firstCreatePass?function A0(t,r,o,a,c,h){const v=r.consts,M=ru(r,t,2,a,Ws(v,c));return Gu(r,o,M,Ws(v,h)),null!==M.attrs&&Sp(M,M.attrs,!1),null!==M.mergedAttrs&&Sp(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(v,h,c,r,o,a):h.data[v],j=Gm(h,c,M,w,r,t);c[v]=j;const W=Gi(M);return jn(M,!0),gg(w,j,M),32!=(32&M.flags)&&al()&&wf(h,c,j,M),0===function Yt(){return yr.lFrame.elementDepthCount}()&&hs(j,c),function Ur(){yr.lFrame.elementDepthCount++}(),W&&(um(h,c,M),Bh(h,M,c)),null!==a&&dm(c,M),$p}function Bp(){let t=Wi();So()?qr():(t=t.parent,jn(t,!1));const r=t;(function Ol(t){return yr.skipHydrationRootTNode===t})(r)&&function Sc(){yr.skipHydrationRootTNode=null}(),function ec(){yr.lFrame.elementDepthCount--}();const o=Qr();return o.firstCreatePass&&(ll(o,t),Us(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function rd(t){return 0!=(8&t.flags)}(r)&&Hm(o,r,Xt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function rf(t){return 0!=(16&t.flags)}(r)&&Hm(o,r,Xt(),r.stylesWithoutHost,!1),Bp}function zm(t,r,o,a){return $p(t,r,o,a),Bp(),zm}let Gm=(t,r,o,a,c,h)=>(Qo(!0),El(a,c,function Mc(){return yr.lFrame.currentNamespace}()));function Vp(t,r,o){const a=Xt(),c=Qr(),h=t+hr,v=c.firstCreatePass?function x0(t,r,o,a,c){const h=r.consts,v=Ws(h,a),w=ru(r,t,8,"ng-container",v);return null!==v&&Sp(w,v,!0),Gu(r,o,w,Ws(h,c)),null!==r.queries&&r.queries.elementStart(r,w),w}(h,c,a,r,o):c.data[h];jn(v,!0);const w=Up(c,a,v,t);return a[h]=w,al()&&wf(c,a,w,v),hs(w,a),Gi(v)&&(um(c,a,v),Bh(c,v,a)),null!=o&&dm(a,v),Vp}function Wm(){let t=Wi();const r=Qr();return So()?qr():(t=t.parent,jn(t,!1)),r.firstCreatePass&&(ll(r,t),Us(t)&&r.queries.elementEnd(t)),Wm}function fu(t,r,o){return Vp(t,r,o),Wm(),fu}let Up=(t,r,o,a)=>(Qo(!0),Ul(r[Bn],""));function $y(){return Xt()}function qm(t){return!!t&&"function"==typeof t.then}function By(t){return!!t&&"function"==typeof t.subscribe}function Km(t,r,o,a){const c=Xt(),h=Qr(),v=Wi();return function P0(t,r,o,a,c,h,v){const w=Gi(a),j=t.firstCreatePass&&qu(t),W=r[ri],ae=Sm(r);let ze=!0;if(3&a.type||v){const un=Ts(a,r),xn=v?v(un):un,rr=ae.length,Jt=v?mi=>v(pi(mi[a.index])):a.index;let kr=null;if(!v&&w&&(kr=function HE(t,r,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const v=c[h];if(v===o&&c[h+1]===a){const w=r[Io],M=c[h+2];return w.length>M?w[M]:null}"string"==typeof v&&(h+=2)}return null}(t,r,c,a.index)),null!==kr)(kr.__ngLastListenerFn__||kr).__ngNextListenerFn__=h,kr.__ngLastListenerFn__=h,ze=!1;else{h=Vy(a,r,W,h,!1);const mi=o.listen(xn,c,h);ae.push(h,mi),j&&j.push(c,Jt,rr,rr+1)}}else h=Vy(a,r,W,h,!1);const ot=a.outputs;let Lt;if(ze&&null!==ot&&(Lt=ot[c])){const un=Lt.length;if(un)for(let xn=0;xn<un;xn+=2){const $i=r[Lt[xn]][Lt[xn+1]].subscribe(h),Ql=ae.length;ae.push(h,$i),j&&j.push(c,a.index,Ql,-(Ql+1))}}}(h,c,c[Bn],v,t,r,a),Km}function N0(t,r,o,a){try{return is(6,r,o),!1!==o(a)}catch(c){return py(t,c),!1}finally{is(7,r,o)}}function Vy(t,r,o,a,c){return function h(v){if(v===Function)return a;Ld(t.componentOffset>-1?ai(t.index,r):r);let M=N0(r,o,a,v),j=h.__ngNextListenerFn__;for(;j;)M=N0(r,o,j,v)&&M,j=j.__ngNextListenerFn__;return c&&!1===M&&v.preventDefault(),M}}function Uy(t=1){return function us(t){return(yr.lFrame.contextLView=function Ss(t,r){for(;t>0;)r=r[Ms],t--;return r}(t,yr.lFrame.contextLView))[ri]}(t)}function k0(t,r){let o=null;const a=function q(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===a?J(t,h,!0):Et(a,h))return c}else o=c}return o}function F0(t){const r=Xt()[ii][Ii];if(!r.projection){const a=r.projection=gi(t?t.length:1,null),c=a.slice();let h=r.child;for(;null!==h;){const v=t?k0(h,t):0;null!==v&&(c[v]?c[v].projectionNext=h:a[v]=h,c[v]=h),h=h.next}}}function jy(t,r=0,o){const a=Xt(),c=Qr(),h=ru(c,hr+t,16,null,o||null);null===h.projection&&(h.projection=r),qr(),(!a[ms]||ga())&&32!=(32&h.flags)&&function Iv(t,r,o){Dv(r[Bn],0,r,o,If(t,o,r),Ed(o.parent||r[Ii],o,r))}(c,a,h)}function Zm(t,r){return t<<17|r<<2}function wc(t){return t>>17&32767}function Zh(t){return 2|t}function pu(t){return(131068&t)>>2}function jp(t,r){return-131069&t|r<<2}function Qh(t){return 1|t}function Xy(t,r,o,a,c){const h=t[o+1],v=null===r;let w=a?wc(h):pu(h),M=!1;for(;0!==w&&(!1===M||v);){const W=t[w+1];Qy(t[w],r)&&(M=!0,t[w+1]=a?Qh(W):Zh(W)),w=a?wc(W):pu(W)}M&&(t[o+1]=a?Zh(h):Qh(h))}function Qy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&cc(t,r)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gu(t){return t.substring(ao.key,ao.keyEnd)}function Xm(t,r){const o=ao.textEnd;return o===r?-1:(r=ao.keyEnd=function V0(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,ao.key=r,o),lo(t,r,o))}function lo(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function Jm(t,r){return function Ml(t,r,o,a){const c=Xt(),h=Qr(),v=No(2);h.firstUpdatePass&&Gp(h,t,v,a),r!==Fr&&_o(c,v,r)&&rv(h,h.data[Xi()],c,c[Bn],t,c[v+1]=function a_(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=be(ia(t)))),t}(r,o),a,v)}(t,r,null,!0),Jm}function t_(t){!function Ja(t,r,o,a){const c=Qr(),h=No(2);c.firstUpdatePass&&Gp(c,null,h,a);const v=Xt();if(o!==Fr&&_o(v,h,o)){const w=c.data[Xi()];if(iv(w,a)&&!n_(c,h)){let M=a?w.classesWithoutHost:w.stylesWithoutHost;null!==M&&(o=Ae(M,o||"")),Hm(c,w,v,o,a)}else!function s_(t,r,o,a,c,h,v,w){c===Fr&&(c=Zt);let M=0,j=0,W=0<c.length?c[0]:null,ae=0<h.length?h[0]:null;for(;null!==W||null!==ae;){const ze=M<c.length?c[M+1]:void 0,ot=j<h.length?h[j+1]:void 0;let un,Lt=null;W===ae?(M+=2,j+=2,ze!==ot&&(Lt=ae,un=ot)):null===ae||null!==W&&W<ae?(M+=2,Lt=W):(j+=2,Lt=ae,un=ot),null!==Lt&&rv(t,r,o,a,Lt,un,v,w),W=M<c.length?c[M]:null,ae=j<h.length?h[j]:null}}(c,w,v,v[Bn],v[h+1],v[h+1]=function i_(t,r,o){if(null==o||""===o)return Zt;const a=[],c=ia(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(a,h,c[h]);else"string"==typeof c&&r(a,c);return a}(t,r,o),a,h)}}(j0,Xl,t,!0)}function Xl(t,r){for(let o=function aa(t){return function Xd(t){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=t.length}(t),Xm(t,lo(t,0,ao.textEnd))}(r);o>=0;o=Xm(r,o))ko(t,gu(r),!0)}function n_(t,r){return r>=t.expandoStartIndex}function Gp(t,r,o,a){const c=t.data;if(null===c[o+1]){const h=c[Xi()],v=n_(t,o);iv(h,a)&&null===r&&!v&&(r=!1),r=function Wp(t,r,o,a){const c=function N(t){const r=yr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Jd(o=tv(null,t,r,o,a),r.attrs,a),h=null);else{const v=r.directiveStylingLast;if(-1===v||t[v]!==c)if(o=tv(c,t,r,o,a),null===h){let M=function r_(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==pu(a))return t[wc(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=tv(null,t,r,M[1],a),M=Jd(M,r.attrs,a),function U0(t,r,o,a){t[wc(o?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else h=function ev(t,r,o){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=Jd(a,t[h].hostAttrs,o);return Jd(a,r.attrs,o)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),o}(c,h,r,a),function Zy(t,r,o,a,c,h){let v=h?r.classBindings:r.styleBindings,w=wc(v),M=pu(v);t[a]=o;let W,j=!1;if(Array.isArray(o)?(W=o[1],(null===W||cc(o,W)>0)&&(j=!0)):W=o,c)if(0!==M){const ze=wc(t[w+1]);t[a+1]=Zm(ze,w),0!==ze&&(t[ze+1]=jp(t[ze+1],a)),t[w+1]=function B0(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=Zm(w,0),0!==w&&(t[w+1]=jp(t[w+1],a)),w=a;else t[a+1]=Zm(M,0),0===w?w=a:t[M+1]=jp(t[M+1],a),M=a;j&&(t[a+1]=Zh(t[a+1])),Xy(t,W,a,!0),Xy(t,W,a,!1),function Hp(t,r,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&cc(h,r)>=0&&(o[a+1]=Qh(o[a+1]))}(r,W,t,a,h),v=Zm(w,M),h?r.classBindings=v:r.styleBindings=v}(c,h,r,o,v,a)}}function tv(t,r,o,a,c){let h=null;const v=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<v&&(h=r[w],a=Jd(a,h.hostAttrs,c),h!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function Jd(t,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const v=r[h];"number"==typeof v?c=v:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ko(t,v,!!o||r[++h]))}return void 0===t?null:t}function j0(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&ko(t,a,o)}function rv(t,r,o,a,c,h,v,w){if(!(3&r.type))return;const M=t.data,j=M[w+1],W=function Xh(t){return 1==(1&t)}(j)?o_(M,r,o,c,pu(j),v):void 0;qp(W)||(qp(h)||function $0(t){return 2==(2&t)}(j)&&(h=o_(M,null,o,c,w,v)),function C_(t,r,o,a,c){if(r)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Hc.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Hc.Important),t.setStyle(o,a,c,h))}}(a,v,fa(Xi(),o),c,h))}function o_(t,r,o,a,c,h){const v=null===r;let w;for(;c>0;){const M=t[c],j=Array.isArray(M),W=j?M[1]:M,ae=null===W;let ze=o[c+1];ze===Fr&&(ze=ae?Zt:void 0);let ot=ae?ld(ze,a):W===a?ze:void 0;if(j&&!qp(ot)&&(ot=ld(M,a)),qp(ot)&&(w=ot,v))return w;const Lt=t[c+1];c=v?wc(Lt):pu(Lt)}if(null!==r){let M=h?r.residualClasses:r.residualStyles;null!=M&&(w=ld(M,a))}return w}function qp(t){return void 0!==t}function iv(t,r){return 0!=(t.flags&(r?8:16))}function l_(t,r=""){const o=Xt(),a=Qr(),c=t+hr,h=a.firstCreatePass?ru(a,c,1,r,null):a.data[c],v=i(a,o,h,r,t);o[c]=v,al()&&wf(a,o,v,h),jn(h,!1)}let i=(t,r,o,a,c)=>(Qo(!0),function Wa(t,r){return t.createText(r)}(r[Bn],a));function s(t){return l("",t,""),s}function l(t,r,o){const a=Xt(),c=function ou(t,r,o,a){return _o(t,Ma(),o)?r+ge(o)+a:Fr}(a,t,r,o);return c!==Fr&&bc(a,Xi(),c),l}function u(t,r,o,a,c){const h=Xt(),v=zd(h,t,r,o,a,c);return v!==Fr&&bc(h,Xi(),v),u}const Jh=void 0;var vb=["en",[["a","p"],["AM","PM"],Jh],[["AM","PM"],Jh,Jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jh,"{1} 'at' {0}",Jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mb(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Kp={};function H0(t){const r=function yb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=iI(r);if(o)return o;const a=r.split("-")[0];if(o=iI(a),o)return o;if("en"===a)return vb;throw new Re(701,!1)}function rI(t){return H0(t)[Yp.PluralCase]}function iI(t){return t in Kp||(Kp[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),Kp[t]}var Yp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Yp||{});const Zp="en-US";let sI=Zp;function W0(t,r,o,a,c){if(t=Ye(t),Array.isArray(t))for(let h=0;h<t.length;h++)W0(t[h],r,o,a,c);else{const h=Qr(),v=Xt(),w=Wi();let M=Lu(t)?t:Ye(t.provide);const j=Sd(t),W=1048575&w.providerIndexes,ae=w.directiveStart,ze=w.providerIndexes>>20;if(Lu(t)||!t.multi){const ot=new Va(j,c,wl),Lt=K0(M,r,c?W:W+ze,ae);-1===Lt?(_a(ya(w,v),h,M),q0(h,t,r.length),r.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),o.push(ot),v.push(ot)):(o[Lt]=ot,v[Lt]=ot)}else{const ot=K0(M,r,W+ze,ae),Lt=K0(M,r,W,W+ze),xn=Lt>=0&&o[Lt];if(c&&!xn||!c&&!(ot>=0&&o[ot])){_a(ya(w,v),h,M);const rr=function mw(t,r,o,a,c){const h=new Va(t,o,wl);return h.multi=[],h.index=r,h.componentProviders=0,xI(h,c,a&&!o),h}(c?gw:pw,o.length,c,a,j);!c&&xn&&(o[Lt].providerFactory=rr),q0(h,t,r.length,0),r.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),o.push(rr),v.push(rr)}else q0(h,t,ot>-1?ot:Lt,xI(o[c?Lt:ot],j,!c&&a));!c&&a&&xn&&o[Lt].componentProviders++}}}function q0(t,r,o,a){const c=Lu(r),h=function $_(t){return!!t.useClass}(r);if(c||h){const M=(h?Ye(r.useClass):r).prototype.ngOnDestroy;if(M){const j=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const W=j.indexOf(o);-1===W?j.push(o,[a,M]):j[W+1].push(a,M)}else j.push(o,M)}}}function xI(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function K0(t,r,o,a){for(let c=o;c<a;c++)if(r[c]===t)return c;return-1}function pw(t,r,o,a){return Y0(this.multi,[])}function gw(t,r,o,a){const c=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=go(o,o[yn],this.providerFactory.index,a);h=w.slice(0,v),Y0(c,h);for(let M=v;M<w.length;M++)h.push(w[M])}else h=[],Y0(c,h);return h}function Y0(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function RI(t,r=[]){return o=>{o.providersResolver=(a,c)=>function fw(t,r,o){const a=Qr();if(a.firstCreatePass){const c=Ni(t);W0(o,a.data,a.blueprint,c,!0),W0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class ef{}class OI{}function vw(t,r){return new Z0(t,null!=r?r:null,[])}class Z0 extends ef{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xo(this);const c=lr(r);this._bootstrapComponents=bl(c.bootstrap),this._r3Injector=qv(r,o,[{provide:ef,useValue:this},{provide:rp,useValue:this.componentFactoryResolver},...a],be(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class X0 extends OI{constructor(r){super(),this.moduleType=r}create(r){return new Z0(this.moduleType,r,[])}}class PI extends ef{constructor(r){super(),this.componentFactoryResolver=new xo(this),this.instance=null;const o=new Hf([...r.providers,{provide:ef,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],r.parent||$u(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function NI(t,r,o=null){return new PI({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let _w=(()=>{var t;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Td(0,a.type),h=c.length>0?NI([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=yt({token:t,providedIn:"environment",factory:()=>new t(kt(Pa))}),r})();function kI(t){t.getStandaloneInjector=r=>r.get(_w).getOrCreateStandaloneInjector(t)}function Gw(){return this._results[Symbol.iterator]()}class J0{get changes(){return this._changes||(this._changes=new Ya)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=J0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Gw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function Ys(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ia(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=r[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qw(t,r,o,a=!0){const c=r[yn];if(function yf(t,r,o,a){const c=ji+a,h=o.length;a>0&&(o[c-1][ui]=r),a<h-ji?(r[ui]=o[c],sh(o,ji+a,r)):(o.push(r),r[ui]=null),r[Yr]=o;const v=r[Zr];null!==v&&o!==v&&function vd(t,r){const o=t[yi];r[ii]!==r[Yr][Yr][ii]&&(t[bo]=!0),null===o?t[yi]=[r]:o.push(r)}(v,r);const w=r[vi];null!==w&&w.insertView(t),r[Gn]|=128}(c,r,t,o),a){const h=pg(o,t),v=r[Bn],w=_d(v,t[Ri]);null!==w&&function mh(t,r,o,a,c,h){a[wr]=c,a[Ii]=r,_h(t,a,o,1,c,h)}(c,t[Ii],v,r,w,h)}}let hv=(()=>{class r{}return r.__NG_ELEMENT_ID__=Zw,r})();const Kw=hv,Yw=class extends Kw{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function Ww(t,r,o,a){var c,h;const v=r.tView,j=mp(t,v,o,4096&t[Gn]?4096:16,null,r,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.hydrationInfo)&&void 0!==h?h:null);j[Zr]=t[r.index];const ae=t[vi];return null!==ae&&(j[vi]=ae.createEmbeddedView(v)),Tp(v,j,o),j}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new jd(c)}};function Zw(){return p_(Wi(),Xt())}function p_(t,r){return 4&t.type?new Yw(r,t,eu(t,r)):null}let m_=(()=>{class r{}return r.__NG_ELEMENT_ID__=nC,r})();function nC(){return JI(Wi(),Xt())}const rC=m_,XI=class extends rC{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return eu(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){const r=xa(this._hostTNode,this._hostLView);if(sc(r)){const o=Ua(r,this._hostLView),a=cl(r);return new Li(o[yn].data[a+8],o)}return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=QI(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(r,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const w=r.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(w,c,false),w}createComponent(r,o,a,c,h){var v,M;const j=r&&!function so(t){return"function"==typeof t}(r);let W;if(j)W=o;else{const Jt=o||{};W=Jt.index,a=Jt.injector,c=Jt.projectableNodes,h=Jt.environmentInjector||Jt.ngModuleRef}const ae=j?r:new iu(Ct(r)),ze=a||this.parentInjector;if(!h&&null==ae.ngModule){const kr=(j?ze:this.parentInjector).get(Pa,null);kr&&(h=kr)}const ot=Ct(null!==(v=ae.componentType)&&void 0!==v?v:{}),Lt=(null==ot?void 0:ot.id,null),un=null!==(M=null==Lt?void 0:Lt.firstChild)&&void 0!==M?M:null,xn=ae.create(ze,c,un,h),rr=!!Lt&&!pc(this._hostTNode);return this.insertImpl(xn.hostView,W,rr),xn}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function Tc(t){return Hi(t[Yr])}(c)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const j=c[Yr],W=new XI(j,j[Ii],j[Yr]);W.detach(W.indexOf(r))}}const v=this._adjustIndex(o),w=this._lContainer;return qw(w,c,v,!a),r.attachToViewContainerRef(),sh(eE(w),v,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=QI(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Ef(this._lContainer,o);a&&(ei(eE(this._lContainer),o),lg(a[yn],a))}detach(r){const o=this._adjustIndex(r,-1),a=Ef(this._lContainer,o);return a&&null!=ei(eE(this._lContainer),o)?new jd(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function QI(t){return t[8]}function eE(t){return t[8]||(t[8]=[])}function JI(t,r){let o;const a=r[t.index];return Hi(a)?o=a:(o=bp(a,r,null,t),r[t.index]=o,Wu(r,o)),eD(o,r,t,a),new XI(o,t,r)}let eD=function tD(t,r,o,a){if(t[Ri])return;let c;c=8&o.type?pi(a):function iC(t,r){const o=t[Bn],a=o.createComment(""),c=Ts(r,t);return os(o,_d(o,c),a,function _v(t,r){return t.nextSibling(r)}(o,c),!1),a}(r,o),t[Ri]=c};class tE{constructor(r){this.queryList=r,this.matches=null}clone(){return new tE(this.queryList)}setDirty(){this.queryList.setDirty()}}class nE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const v=o.getByIndex(h);c.push(this.queries[v.indexInDeclarationView].clone())}return new nE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==uD(r,o).matches&&this.queries[o].setDirty()}}class nD{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class rE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new rE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class iE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new iE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,o,aC(o,h)),this.matchTNodeWithReadOption(r,o,Ji(o,r,h,!1,!1))}else a===hv?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ji(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===jl||c===m_||c===hv&&4&o.type)this.addMatch(o.index,-2);else{const h=Ji(o,r,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function aC(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function cC(t,r,o,a){return-1===o?function lC(t,r){return 11&t.type?eu(t,r):4&t.type?p_(t,r):null}(r,t):-2===o?function uC(t,r,o){return o===jl?eu(r,t):o===hv?p_(r,t):o===m_?JI(r,t):void 0}(t,r,a):go(t,t[yn],o,r)}function rD(t,r,o,a){const c=r[vi].queries[a];if(null===c.matches){const h=t.data,v=o.matches,w=[];for(let M=0;M<v.length;M+=2){const j=v[M];w.push(j<0?null:cC(r,h[j],v[M+1],o.metadata.read))}c.matches=w}return c.matches}function sE(t,r,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const v=rD(t,r,c,o);for(let w=0;w<h.length;w+=2){const M=h[w];if(M>0)a.push(v[w/2]);else{const j=h[w+1],W=r[-M];for(let ae=ji;ae<W.length;ae++){const ze=W[ae];ze[Zr]===ze[Yr]&&sE(ze[yn],ze,j,a)}if(null!==W[yi]){const ae=W[yi];for(let ze=0;ze<ae.length;ze++){const ot=ae[ze];sE(ot[yn],ot,j,a)}}}}}return a}function iD(t){const r=Xt(),o=Qr(),a=X();fe(a+1);const c=uD(o,a);if(t.dirty&&function sl(t){return 4==(4&t[Gn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?sE(o,r,a,[]):rD(o,r,c,a);t.reset(h,$g),t.notifyOnChanges()}return!0}return!1}function sD(t,r,o){const a=Qr();a.firstCreatePass&&(cD(a,new nD(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),lD(a,Xt(),r)}function oD(t,r,o,a){const c=Qr();if(c.firstCreatePass){const h=Wi();cD(c,new nD(r,o,a),h.index),function hC(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}lD(c,Xt(),o)}function aD(){return function dC(t,r){return t[vi].queries[r].queryList}(Xt(),X())}function lD(t,r,o){const a=new J0(4==(4&o));(function mm(t,r,o,a){const c=Sm(r);c.push(o),t.firstCreatePass&&qu(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[vi]&&(r[vi]=new nE),r[vi].queries.push(new tE(a))}function cD(t,r,o){null===t.queries&&(t.queries=new rE),t.queries.track(new iE(r,o))}function uD(t,r){return t.queries.getByIndex(r)}function oE(t){return!!lr(t)}const SD=new Ai("Application Initializer");let dE=(()=>{var t;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=en(SD,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const v=h();if(qm(v))a.push(v);else if(By(v)){const w=new Promise((M,j)=>{v.subscribe({complete:M,error:j})});a.push(w)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),AD=(()=>{var t;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const y_=new Ai("LocaleId",{providedIn:"root",factory:()=>en(y_,On.Optional|On.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Zp}()}),kC=new Ai("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let MD=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class LC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let $C=(()=>{var t;class r{compileModuleSync(a){return new X0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),v=bl(lr(a).declarations).reduce((w,M)=>{const j=Ct(M);return j&&w.push(new iu(j)),w},[]);return new LC(c,v)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const PD=new Ai(""),ND=new Ai("");let pE,iT=(()=>{var t;class r{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pE||(function sT(t){pE=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let v=-1;c&&c>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:v,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=r).\u0275fac=function(a){return new(a||t)(kt(oo),kt(kD),kt(ND))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),r})(),kD=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,v;return null!==(h=null===(v=pE)||void 0===v?void 0:v.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),eh=null;const FD=new Ai("AllowMultipleToken"),gE=new Ai("PlatformDestroyListeners"),mE=new Ai("appBootstrapListener");class lT{constructor(r,o){this.name=r,this.token=o}}function BD(t,r,o=[]){const a=`Platform: ${r}`,c=new Ai(a);return(h=[])=>{let v=vE();if(!v||v.injector.get(FD,!1)){const w=[...o,...h,{provide:c,useValue:!0}];t?t(w):function cT(t){if(eh&&!eh.get(FD,!1))throw new Re(400,!1);(function LD(){!function Rl(t){xs=t}(()=>{throw new Re(600,!1)})})(),eh=t;const r=t.get(UD);(function $D(t){const r=t.get(Gf,null);null==r||r.forEach(o=>o())})(t)}(function VD(t=[],r){return Dl.create({name:r,providers:[{provide:Tg,useValue:"platform"},{provide:gE,useValue:new Set([()=>eh=null])},...t]})}(w,a))}return function dT(t){const r=vE();if(!r)throw new Re(401,!1);return r}()}}function vE(){var t,r;return null!==(t=null===(r=eh)||void 0===r?void 0:r.get(UD))&&void 0!==t?t:null}let UD=(()=>{var t;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function hT(t="zone.js",r){return"noop"===t?new Y_:"zone.js"===t?new oo(r):t}(null==c?void 0:c.ngZone,function jD(t){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const v=function yw(t,r,o){return new Z0(t,r,o)}(a.moduleType,this.injector,function qD(t){return[{provide:oo,useFactory:t},{provide:Cd,multi:!0,useFactory:()=>{const r=en(pT,{optional:!0});return()=>r.initialize()}},{provide:WD,useFactory:fT},{provide:Yv,useFactory:lp}]}(()=>h)),w=v.injector.get(zl,null);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:j=>{w.handleError(j)}});v.onDestroy(()=>{E_(this._modules,v),M.unsubscribe()})}),function HD(t,r,o){try{const a=o();return qm(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(w,h,()=>{const M=v.injector.get(dE);return M.runInitializers(),M.donePromise.then(()=>(function oI(t){Rt(t,"Expected localeId to be defined"),"string"==typeof t&&(sI=t.toLowerCase().replace(/_/g,"-"))}(v.injector.get(y_,Zp)||Zp),this._moduleDoBootstrap(v),v))})})}bootstrapModule(a,c=[]){const h=zD({},c);return function oT(t,r,o){const a=new X0(o);return Promise.resolve(a)}(0,0,a).then(v=>this.bootstrapModuleFactory(v,h))}_moduleDoBootstrap(a){const c=a.injector.get(Jp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Re(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(gE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(a){return new(a||t)(kt(Dl))},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function zD(t,r){return Array.isArray(r)?r.reduce(zD,t):{...t,...r}}let Jp=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=en(WD),this.zoneIsStable=en(Yv),this.componentTypes=[],this.components=[],this.isStable=en(MD).hasPendingTasks.pipe((0,Ge.w)(a=>a?(0,Ee.of)(!1):this.zoneIsStable),(0,$e.x)(),(0,he.B)()),this._injector=en(Pa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Uv;if(!this._injector.get(dE).done)throw!h&&sr(a),new Re(405,!1);let w;w=h?a:this._injector.get(rp).resolveComponentFactory(a),this.componentTypes.push(w.componentType);const M=function aT(t){return t.isBoundToModule}(w)?void 0:this._injector.get(ef),W=w.create(Dl.NULL,[],c||w.selector,M),ae=W.location.nativeElement,ze=W.injector.get(PD,null);return null==ze||ze.registerApplication(ae),W.onDestroy(()=>{this.detachView(W.hostView),E_(this.components,W),null==ze||ze.unregisterApplication(ae)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;E_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(mE,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>E_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Re(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function E_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const WD=new Ai("",{providedIn:"root",factory:()=>en(zl).handleError.bind(void 0)});function fT(){const t=en(oo),r=en(zl);return o=>t.runOutsideAngular(()=>r.handleError(o))}let pT=(()=>{var t;class r{constructor(){this.zone=en(oo),this.applicationRef=en(Jp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function mT(){return!1}function vT(){}let yT=(()=>{class r{}return r.__NG_ELEMENT_ID__=_T,r})();function _T(t){return function ET(t,r,o){if(js(t)&&!o){const a=ai(t.index,r);return new jd(a,a)}return 47&t.type?new jd(r[ii],r):null}(Wi(),Xt(),16==(16&t))}class XD{constructor(){}supports(r){return Nm(r)}create(r){return new TT(r)}}const CT=(t,r)=>r;class TT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CT}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const v=!a||o&&o.currentIndex<JD(a,c,h)?o:a,w=JD(v,c,h),M=v.currentIndex;if(v===a)c--,a=a._nextRemoved;else if(o=o._next,null==v.previousIndex)c++;else{h||(h=[]);const j=w-c,W=M-c;if(j!=W){for(let ze=0;ze<j;ze++){const ot=ze<h.length?h[ze]:h[ze]=0,Lt=ot+ze;W<=Lt&&Lt<j&&(h[ze]=ot+1)}h[v.previousIndex]=W-j}}w!==M&&r(v,w,M)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Nm(r))throw new Re(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,v,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],v=this._trackByFn(w,h),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,h,v,w)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,w),a=!0),o=o._next}else c=0,function xp(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{v=this._trackByFn(c,w),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,w,v,c)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,v,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,c)):r=this._addAfter(new ST(o,a),h,c),r}_verifyReinsertion(r,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new QD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ST{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class QD{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new AT,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JD(t,r,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class eb{constructor(){}supports(r){return r instanceof Map||km(r)}create(){return new MT}}class MT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||km(r)))throw new Re(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const h=c._prev,v=c._next;return h&&(h._next=v),v&&(v._prev=h),c._next=null,c._prev=null,c}const a=new xT(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class xT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tb(){return new DE([new XD])}let DE=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||tb()),deps:[[r,new pl,new ja]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Re(901,!1)}}return(t=r).\u0275prov=yt({token:t,providedIn:"root",factory:tb}),r})();function nb(){return new bE([new eb])}let bE=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||nb()),deps:[[r,new pl,new ja]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Re(901,!1)}}return(t=r).\u0275prov=yt({token:t,providedIn:"root",factory:nb}),r})();const PT=BD(null,"core",[]);let NT=(()=>{var t;class r{constructor(a){}}return(t=r).\u0275fac=function(a){return new(a||t)(kt(Jp))},t.\u0275mod=ur({type:t}),t.\u0275inj=mt({}),r})();function GT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qT(t,r){const o=Ct(t),a=r.elementInjector||$u();return new iu(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function KT(t){const r=Ct(t);if(!r)return null;const o=new iu(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},3399:(rn,it,x)=>{"use strict";x.d(it,{Z:()=>Ce});var f=x(9058),g=x(4537),K=x(7592),ne=x(7879);class Te{constructor(Ve,Ie){this._delegate=Ve,this.firebase=Ie,(0,K._addComponent)(Ve,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Ve,Ie=K._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Ve);return!ut.isInitialized()&&"EXPLICIT"===(null===(me=ut.getComponent())||void 0===me?void 0:me.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Ie})}_removeServiceInstance(Ve,Ie=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(Ie)}_addComponent(Ve){(0,K._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,K._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function $e(){const Ye=function Ge(Ye){const Ve={},Ie={__esModule:!0,initializeApp:function Re(Me,se={}){const ve=K.initializeApp(Me,se);if((0,f.r3)(Ve,ve.name))return Ve[ve.name];const Oe=new Ye(ve,Ie);return Ve[ve.name]=Oe,Oe},app:ut,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function ge(Me){const se=Me.name,ve=se.replace("-compat","");if(K._registerComponent(Me)&&"PUBLIC"===Me.type){const Oe=(Qe=ut())=>{if("function"!=typeof Qe[ve])throw he.create("invalid-app-argument",{appName:se});return Qe[ve]()};void 0!==Me.serviceProps&&(0,f.ZB)(Oe,Me.serviceProps),Ie[ve]=Oe,Ye.prototype[ve]=function(...Qe){return this._getService.bind(this,se).apply(this,Me.multipleInstances?Qe:[])}}return"PUBLIC"===Me.type?Ie[ve]:null},removeApp:function me(Me){delete Ve[Me]},useAsService:function qe(Me,se){return"serverAuth"===se?null:se},modularAPIs:K}};function ut(Me){if(!(0,f.r3)(Ve,Me=Me||K._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Me});return Ve[Me]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function He(){return Object.keys(Ve).map(Me=>Ve[Me])}}),ut.App=Ye,Ie}(Te);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function Ve(Ie){(0,f.ZB)(Ye,Ie)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ye}(),le=new ne.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=ue;!function Ne(Ye){(0,K.registerVersion)("@firebase/app-compat","0.2.13",Ye)}()},7592:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>mt,_DEFAULT_ENTRY_NAME:()=>ie,_addComponent:()=>rt,_addOrOverwriteComponent:()=>tt,_apps:()=>Se,_clearComponents:()=>Xe,_components:()=>Ze,_getProvider:()=>At,_registerComponent:()=>Rt,_removeServiceInstance:()=>Ht,deleteApp:()=>kn,getApp:()=>tn,getApps:()=>Hn,initializeApp:()=>Ut,onLog:()=>Rn,registerVersion:()=>gn,setLogLevel:()=>xr});var f=x(5861),g=x(4537),K=x(7879),ne=x(9058),Te=x(1878);class Ee{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function he(Dt){const We=Dt.getComponent();return"VERSION"===(null==We?void 0:We.type)}(wt)){const Kt=wt.getImmediate();return`${Kt.library}/${Kt.version}`}return null}).filter(wt=>wt).join(" ")}}const Ge="@firebase/app",ue=new K.Yd("@firebase/app"),ie="[DEFAULT]",ye={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Se=new Map,Ze=new Map;function rt(Dt,We){try{Dt.container.addComponent(We)}catch(wt){ue.debug(`Component ${We.name} failed to register with FirebaseApp ${Dt.name}`,wt)}}function tt(Dt,We){Dt.container.addOrOverwriteComponent(We)}function Rt(Dt){const We=Dt.name;if(Ze.has(We))return ue.debug(`There were multiple attempts to register component ${We}.`),!1;Ze.set(We,Dt);for(const wt of Se.values())rt(wt,Dt);return!0}function At(Dt,We){const wt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),Dt.container.getProvider(We)}function Ht(Dt,We,wt=ie){At(Dt,We).clearInstance(wt)}function Xe(){Ze.clear()}const yt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gt{constructor(We,wt,Kt){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Kt,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const mt="9.23.0";function Ut(Dt,We={}){let wt=Dt;"object"!=typeof We&&(We={name:We});const Kt=Object.assign({name:ie,automaticDataCollectionEnabled:!1},We),sn=Kt.name;if("string"!=typeof sn||!sn)throw yt.create("bad-app-name",{appName:String(sn)});if(wt||(wt=(0,ne.aH)()),!wt)throw yt.create("no-options");const vn=Se.get(sn);if(vn){if((0,ne.vZ)(wt,vn.options)&&(0,ne.vZ)(Kt,vn.config))return vn;throw yt.create("duplicate-app",{appName:sn})}const zn=new g.H0(sn);for(const Z of Ze.values())zn.addComponent(Z);const ke=new gt(wt,Kt,zn);return Se.set(sn,ke),ke}function tn(Dt=ie){const We=Se.get(Dt);if(!We&&Dt===ie&&(0,ne.aH)())return Ut();if(!We)throw yt.create("no-app",{appName:Dt});return We}function Hn(){return Array.from(Se.values())}function kn(Dt){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(Dt){const We=Dt.name;Se.has(We)&&(Se.delete(We),yield Promise.all(Dt.container.getProviders().map(wt=>wt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function gn(Dt,We,wt){var Kt;let sn=null!==(Kt=ye[Dt])&&void 0!==Kt?Kt:Dt;wt&&(sn+=`-${wt}`);const vn=sn.match(/\s|\//),zn=We.match(/\s|\//);if(vn||zn){const ke=[`Unable to register library "${sn}" with version "${We}":`];return vn&&ke.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),vn&&zn&&ke.push("and"),zn&&ke.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void ue.warn(ke.join(" "))}Rt(new g.wA(`${sn}-version`,()=>({library:sn,version:We}),"VERSION"))}function Rn(Dt,We){if(null!==Dt&&"function"!=typeof Dt)throw yt.create("invalid-log-argument");(0,K.Am)(Dt,We)}function xr(Dt){(0,K.Ub)(Dt)}const Er="firebase-heartbeat-database",On=1,Pn="firebase-heartbeat-store";let $n=null;function ar(){return $n||($n=(0,Te.X3)(Er,On,{upgrade:(Dt,We)=>{0===We&&Dt.createObjectStore(Pn)}}).catch(Dt=>{throw yt.create("idb-open",{originalErrorMessage:Dt.message})})),$n}function Cr(){return(Cr=(0,f.Z)(function*(Dt){try{return yield(yield ar()).transaction(Pn).objectStore(Pn).get(Wt(Dt))}catch(We){if(We instanceof ne.ZR)ue.warn(We.message);else{const wt=yt.create("idb-get",{originalErrorMessage:null==We?void 0:We.message});ue.warn(wt.message)}}})).apply(this,arguments)}function $t(Dt,We){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(Dt,We){try{const Kt=(yield ar()).transaction(Pn,"readwrite");yield Kt.objectStore(Pn).put(We,Wt(Dt)),yield Kt.done}catch(wt){if(wt instanceof ne.ZR)ue.warn(wt.message);else{const Kt=yt.create("idb-set",{originalErrorMessage:null==wt?void 0:wt.message});ue.warn(Kt.message)}}})).apply(this,arguments)}function Wt(Dt){return`${Dt.name}!${Dt.options.appId}`}class ir{constructor(We){this.container=We,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new ni(wt),this._heartbeatsCachePromise=this._storage.read().then(Kt=>(this._heartbeatsCache=Kt,Kt))}triggerHeartbeat(){var We=this;return(0,f.Z)(function*(){const Kt=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=Jr();if(null===We._heartbeatsCache&&(We._heartbeatsCache=yield We._heartbeatsCachePromise),We._heartbeatsCache.lastSentHeartbeatDate!==sn&&!We._heartbeatsCache.heartbeats.some(vn=>vn.date===sn))return We._heartbeatsCache.heartbeats.push({date:sn,agent:Kt}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(vn=>{const zn=new Date(vn.date).valueOf();return Date.now()-zn<=2592e6}),We._storage.overwrite(We._heartbeatsCache)})()}getHeartbeatsHeader(){var We=this;return(0,f.Z)(function*(){if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null===We._heartbeatsCache||0===We._heartbeatsCache.heartbeats.length)return"";const wt=Jr(),{heartbeatsToSend:Kt,unsentEntries:sn}=function Mi(Dt,We=1024){const wt=[];let Kt=Dt.slice();for(const sn of Dt){const vn=wt.find(zn=>zn.agent===sn.agent);if(vn){if(vn.dates.push(sn.date),Lr(wt)>We){vn.dates.pop();break}}else if(wt.push({agent:sn.agent,dates:[sn.date]}),Lr(wt)>We){wt.pop();break}Kt=Kt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Kt}}(We._heartbeatsCache.heartbeats),vn=(0,ne.L)(JSON.stringify({version:2,heartbeats:Kt}));return We._heartbeatsCache.lastSentHeartbeatDate=wt,sn.length>0?(We._heartbeatsCache.heartbeats=sn,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),vn})()}}function Jr(){return(new Date).toISOString().substring(0,10)}class ni{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,f.Z)(function*(){return(yield We._canUseIndexedDBPromise)&&(yield function gr(Dt){return Cr.apply(this,arguments)}(We.app))||{heartbeats:[]}})()}overwrite(We){var wt=this;return(0,f.Z)(function*(){var Kt;if(yield wt._canUseIndexedDBPromise){const vn=yield wt.read();return $t(wt.app,{lastSentHeartbeatDate:null!==(Kt=We.lastSentHeartbeatDate)&&void 0!==Kt?Kt:vn.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var wt=this;return(0,f.Z)(function*(){var Kt;if(yield wt._canUseIndexedDBPromise){const vn=yield wt.read();return $t(wt.app,{lastSentHeartbeatDate:null!==(Kt=We.lastSentHeartbeatDate)&&void 0!==Kt?Kt:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...We.heartbeats]})}})()}}function Lr(Dt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function $r(Dt){Rt(new g.wA("platform-logger",We=>new Ee(We),"PRIVATE")),Rt(new g.wA("heartbeat",We=>new ir(We),"PRIVATE")),gn(Ge,"0.9.13",Dt),gn(Ge,"0.9.13","esm2017"),gn("fire-js","")}("")},4097:(rn,it,x)=>{"use strict";x.d(it,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=x(7592);(0,f.registerVersion)("firebase","9.23.0","app")},120:(rn,it,x)=>{"use strict";x.d(it,{Z:()=>f.Z});var f=x(3399);f.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(rn,it,x)=>{"use strict";x.r(it);var f=x(5861),g=x(3399),K=x(9058),ne=x(7592),Te=x(7582),Ee=x(7879),he=x(4537);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ce=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new Ee.Yd("@firebase/auth");function Re(_,...d){me.logLevel<=Ee.in.ERROR&&me.error(`Auth (${ne.SDK_VERSION}): ${_}`,...d)}function He(_,...d){throw se(_,...d)}function ge(_,...d){return se(_,...d)}function qe(_,d,p){const I=Object.assign(Object.assign({},Ye()),{[d]:p});return new K.LL("auth","Firebase",I).create(d,{appName:_.name})}function Me(_,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&He(_,"argument-error"),qe(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function se(_,...d){if("string"!=typeof _){const p=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(p,...I)}return Ve.create(_,...d)}function ve(_,d,...p){if(!_)throw se(d,...p)}function Oe(_){const d="INTERNAL ASSERTION FAILED: "+_;throw Re(d),new Error(d)}function Qe(_,d){_||Oe(d)}function ct(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function dt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ht{constructor(d,p){this.shortDelay=d,this.longDelay=p,Qe(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ie(_,d){Qe(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ye{static initialize(d,p,I){this.fetchImpl=d,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new ht(3e4,6e4);function rt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function tt(_,d,p,I){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,f.Z)(function*(_,d,p,I,H={}){return At(_,H,(0,f.Z)(function*(){let Q={},Le={};I&&("GET"===d?Le=I:Q={body:JSON.stringify(I)});const vt=(0,K.xO)(Object.assign({key:_.config.apiKey},Le)).slice(1),nn=yield _._getAdditionalHeaders();return nn["Content-Type"]="application/json",_.languageCode&&(nn["X-Firebase-Locale"]=_.languageCode),ye.fetch()(yt(_,_.config.apiHost,p,vt),Object.assign({method:d,headers:nn,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function At(_,d,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,f.Z)(function*(_,d,p){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},Se),d);try{const H=new gt(_),Q=yield Promise.race([p(),H.promise]);H.clearNetworkTimeout();const Le=yield Q.json();if("needConfirmation"in Le)throw mt(_,"account-exists-with-different-credential",Le);if(Q.ok&&!("errorMessage"in Le))return Le;{const vt=Q.ok?Le.errorMessage:Le.error.message,[nn,pn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw mt(_,"credential-already-in-use",Le);if("EMAIL_EXISTS"===nn)throw mt(_,"email-already-in-use",Le);if("USER_DISABLED"===nn)throw mt(_,"user-disabled",Le);const Ln=I[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw qe(_,Ln,pn);He(_,Ln)}}catch(H){if(H instanceof K.ZR)throw H;He(_,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Xe(_,d,p,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(_,d,p,I,H={}){const Q=yield tt(_,d,p,I,H);return"mfaPendingCredential"in Q&&He(_,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function yt(_,d,p,I){const H=`${d}${p}?${I}`;return _.config.emulator?ie(_.config,H):`${_.config.apiScheme}://${H}`}class gt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(ge(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mt(_,d,p){const I={appName:_.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const H=ge(_,d,I);return H.customData._tokenResponse=p,H}function tn(){return(tn=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Rn(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function On(){return(On=(0,f.Z)(function*(_,d=!1){const p=(0,K.m9)(_),I=yield p.getIdToken(d),H=$n(I);ve(H&&H.exp&&H.auth_time&&H.iat,p.auth,"internal-error");const Q="object"==typeof H.firebase?H.firebase:void 0,Le=null==Q?void 0:Q.sign_in_provider;return{claims:H,token:I,authTime:Rn(Pn(H.auth_time)),issuedAtTime:Rn(Pn(H.iat)),expirationTime:Rn(Pn(H.exp)),signInProvider:Le||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function Pn(_){return 1e3*Number(_)}function $n(_){const[d,p,I]=_.split(".");if(void 0===d||void 0===p||void 0===I)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,K.tV)(p);return H?JSON.parse(H):(Re("Failed to decode base64 JWT payload"),null)}catch(H){return Re("Caught error parsing JWT payload as JSON",null==H?void 0:H.toString()),null}}function gr(_,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(I){throw I instanceof K.ZR&&function $t({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}class Ir{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),I)}iteration(){var d=this;return(0,f.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class Wt{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(_){return ti.apply(this,arguments)}function ti(){return ti=(0,f.Z)(function*(_){var d;const p=_.auth,I=yield _.getIdToken(),H=yield gr(_,function dn(_,d){return gn.apply(this,arguments)}(p,{idToken:I}));ve(null==H?void 0:H.users.length,p,"internal-error");const Q=H.users[0];_._notifyReloadListener(Q);const Le=null!==(d=Q.providerUserInfo)&&void 0!==d&&d.length?function ni(_){return _.map(d=>{var{providerId:p}=d,I=(0,Te._T)(d,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(Q.providerUserInfo):[],vt=function Mi(_,d){return[..._.filter(I=>!d.some(H=>H.providerId===I.providerId)),...d]}(_.providerData,Le),Ln=!!_.isAnonymous&&!(_.email&&Q.passwordHash||null!=vt&&vt.length),Kn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:vt,metadata:new Wt(Q.createdAt,Q.lastLoginAt),isAnonymous:Ln};Object.assign(_,Kn)}),ti.apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(_){const d=(0,K.m9)(_);yield Jn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(_,d){const p=yield At(_,{},(0,f.Z)(function*(){const I=(0,K.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:H,apiKey:Q}=_.config,Le=yt(_,H,"/v1/token",`key=${Q}`),vt=yield _._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",ye.fetch()(Le,{method:"POST",headers:vt,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ve(d.idToken,"internal-error"),ve(typeof d.idToken<"u","internal-error"),ve(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function ar(_){const d=$n(_);return ve(d,"internal-error"),ve(typeof d.exp<"u","internal-error"),ve(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var I=this;return(0,f.Z)(function*(){return ve(!I.accessToken||I.refreshToken,d,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var I=this;return(0,f.Z)(function*(){const{accessToken:H,refreshToken:Q,expiresIn:Le}=yield function Lr(_,d){return $r.apply(this,arguments)}(d,p);I.updateTokensAndExpiration(H,Q,Number(Le))})()}updateTokensAndExpiration(d,p,I){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,p){const{refreshToken:I,accessToken:H,expirationTime:Q}=p,Le=new Dt;return I&&(ve("string"==typeof I,"internal-error",{appName:d}),Le.refreshToken=I),H&&(ve("string"==typeof H,"internal-error",{appName:d}),Le.accessToken=H),Q&&(ve("number"==typeof Q,"internal-error",{appName:d}),Le.expirationTime=Q),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Dt,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function We(_,d){ve("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class wt{constructor(d){var{uid:p,auth:I,stsTokenManager:H}=d,Q=(0,Te._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new Wt(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,f.Z)(function*(){const I=yield gr(p,p.stsTokenManager.getToken(p.auth,d));return ve(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(d){return function Er(_){return On.apply(this,arguments)}(this,d)}reload(){return function ir(_){return Jr.apply(this,arguments)}(this)}_assign(d){this!==d&&(ve(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new wt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var I=this;return(0,f.Z)(function*(){let H=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),H=!0),p&&(yield Jn(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,f.Z)(function*(){const p=yield d.getIdToken();return yield gr(d,function Ut(_,d){return tn.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var I,H,Q,Le,vt,nn,pn,Ln;const Kn=null!==(I=p.displayName)&&void 0!==I?I:void 0,fs=null!==(H=p.email)&&void 0!==H?H:void 0,ra=null!==(Q=p.phoneNumber)&&void 0!==Q?Q:void 0,qc=null!==(Le=p.photoURL)&&void 0!==Le?Le:void 0,_l=null!==(vt=p.tenantId)&&void 0!==vt?vt:void 0,Wa=null!==(nn=p._redirectEventId)&&void 0!==nn?nn:void 0,vc=null!==(pn=p.createdAt)&&void 0!==pn?pn:void 0,Ul=null!==(Ln=p.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:El,emailVerified:gh,isAnonymous:mh,providerData:md,stsTokenManager:vf}=p;ve(El&&vf,d,"internal-error");const yf=Dt.fromJSON(this.name,vf);ve("string"==typeof El,d,"internal-error"),We(Kn,d.name),We(fs,d.name),ve("boolean"==typeof gh,d,"internal-error"),ve("boolean"==typeof mh,d,"internal-error"),We(ra,d.name),We(qc,d.name),We(_l,d.name),We(Wa,d.name),We(vc,d.name),We(Ul,d.name);const vd=new wt({uid:El,auth:d,email:fs,emailVerified:gh,displayName:Kn,isAnonymous:mh,photoURL:qc,phoneNumber:ra,tenantId:_l,stsTokenManager:yf,createdAt:vc,lastLoginAt:Ul});return md&&Array.isArray(md)&&(vd.providerData=md.map(_f=>Object.assign({},_f))),Wa&&(vd._redirectEventId=Wa),vd}static _fromIdTokenResponse(d,p,I=!1){return(0,f.Z)(function*(){const H=new Dt;H.updateFromServerResponse(p);const Q=new wt({uid:p.localId,auth:d,stsTokenManager:H,isAnonymous:I});return yield Jn(Q),Q})()}}const Kt=new Map;function sn(_){Qe(_ instanceof Function,"Expected a class definition");let d=Kt.get(_);return d?(Qe(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Kt.set(_,d),d)}const zn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,I){var H=this;return(0,f.Z)(function*(){H.storage[p]=I})()}_get(p){var I=this;return(0,f.Z)(function*(){const H=I.storage[p];return void 0===H?null:H})()}_remove(p){var I=this;return(0,f.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return _.type="NONE",_})();function ke(_,d,p){return`firebase:${_}:${d}:${p}`}class Z{constructor(d,p,I){this.persistence=d,this.auth=p,this.userKey=I;const{config:H,name:Q}=this.auth;this.fullUserKey=ke(this.userKey,H.apiKey,Q),this.fullPersistenceKey=ke("persistence",H.apiKey,Q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,f.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?wt._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,f.Z)(function*(){if(p.persistence===d)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,I="authUser"){return(0,f.Z)(function*(){if(!p.length)return new Z(sn(zn),d,I);const H=(yield Promise.all(p.map(function(){var pn=(0,f.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let Q=H[0]||sn(zn);const Le=ke(I,d.config.apiKey,d.name);let vt=null;for(const pn of p)try{const Ln=yield pn._get(Le);if(Ln){const Kn=wt._fromJSON(d,Ln);pn!==Q&&(vt=Kn),Q=pn;break}}catch{}const nn=H.filter(pn=>pn._shouldAllowMigration);return Q._shouldAllowMigration&&nn.length?(Q=nn[0],vt&&(yield Q._set(Le,vt.toJSON())),yield Promise.all(p.map(function(){var pn=(0,f.Z)(function*(Ln){if(Ln!==Q)try{yield Ln._remove(Le)}catch{}});return function(Ln){return pn.apply(this,arguments)}}())),new Z(Q,d,I)):new Z(Q,d,I)})()}}function Y(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(bt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(xe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(An(d))return"Blackberry";if(en(d))return"Webos";if(ee(d))return"Safari";if((d.includes("chrome/")||Be(d))&&!d.includes("edge/"))return"Chrome";if(kt(d))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function xe(_=(0,K.z$)()){return/firefox\//i.test(_)}function ee(_=(0,K.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Be(_=(0,K.z$)()){return/crios\//i.test(_)}function bt(_=(0,K.z$)()){return/iemobile/i.test(_)}function kt(_=(0,K.z$)()){return/android/i.test(_)}function An(_=(0,K.z$)()){return/blackberry/i.test(_)}function en(_=(0,K.z$)()){return/webos/i.test(_)}function Fn(_=(0,K.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Fe(_=(0,K.z$)()){return Fn(_)||kt(_)||en(_)||An(_)||/windows phone/i.test(_)||bt(_)}function ft(_,d=[]){let p;switch(_){case"Browser":p=Y((0,K.z$)());break;case"Worker":p=`${Y((0,K.z$)())}-${_}`;break;default:p=_}const I=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ne.SDK_VERSION}/${I}`}function jt(){return(jt=(0,f.Z)(function*(_){return(yield tt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sn(_,d){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(_,d){return tt(_,"GET","/v2/recaptchaConfig",rt(_,d))})).apply(this,arguments)}function er(_){return void 0!==_&&void 0!==_.getResponse}function Qn(_){return void 0!==_&&void 0!==_.enterprise}class Gr{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function dr(_){return new Promise((d,p)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=d,I.onerror=H=>{const Q=ge("internal-error");Q.customData=H,p(Q)},I.type="text/javascript",I.charset="UTF-8",function xi(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(I)})}function Or(_){return`__${_}${Math.floor(1e6*Math.random())}`}class br{constructor(d){this.type="recaptcha-enterprise",this.auth=Dr(d)}verify(d="verify",p=!1){var I=this;return(0,f.Z)(function*(){function Q(){return Q=(0,f.Z)(function*(vt){if(!p){if(null==vt.tenantId&&null!=vt._agentRecaptchaConfig)return vt._agentRecaptchaConfig.siteKey;if(null!=vt.tenantId&&void 0!==vt._tenantRecaptchaConfigs[vt.tenantId])return vt._tenantRecaptchaConfigs[vt.tenantId].siteKey}return new Promise(function(){var nn=(0,f.Z)(function*(pn,Ln){Sn(vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kn=>{if(void 0!==Kn.recaptchaKey){const fs=new Gr(Kn);return null==vt.tenantId?vt._agentRecaptchaConfig=fs:vt._tenantRecaptchaConfigs[vt.tenantId]=fs,pn(fs.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Kn=>{Ln(Kn)})});return function(pn,Ln){return nn.apply(this,arguments)}}())}),Q.apply(this,arguments)}function Le(vt,nn,pn){const Ln=window.grecaptcha;Qn(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(vt,{action:d}).then(Kn=>{nn(Kn)}).catch(()=>{nn("NO_RECAPTCHA")})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((vt,nn)=>{(function H(vt){return Q.apply(this,arguments)})(I.auth).then(pn=>{if(!p&&Qn(window.grecaptcha))Le(pn,vt,nn);else{if(typeof window>"u")return void nn(new Error("RecaptchaVerifier is only supported in browser"));dr("https://www.google.com/recaptcha/enterprise.js?render="+pn).then(()=>{Le(pn,vt,nn)}).catch(Ln=>{nn(Ln)})}}).catch(pn=>{nn(pn)})})})()}}function Wr(_,d,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(_,d,p,I=!1){const H=new br(_);let Q;try{Q=yield H.verify(p)}catch{Q=yield H.verify(p,!0)}const Le=Object.assign({},d);return Object.assign(Le,I?{captchaResp:Q}:{captchaResponse:Q}),Object.assign(Le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Le})).apply(this,arguments)}class Br{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const I=Q=>new Promise((Le,vt)=>{try{Le(d(Q))}catch(nn){vt(nn)}});I.onAbort=p,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,f.Z)(function*(){if(p.auth.currentUser===d)return;const I=[];try{for(const H of p.queue)yield H(d),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const Q of I)try{Q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==H?void 0:H.message})}})()}}class Ci{constructor(d,p,I,H){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ti(this),this.idTokenSubscription=new Ti(this),this.beforeStateQueue=new Br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(d,p){var I=this;return p&&(this._popupRedirectResolver=sn(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var H,Q;if(!I._deleted&&(I.persistenceManager=yield Z.create(I,d),!I._deleted)){if(null!==(H=I._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(Q=I.currentUser)||void 0===Q?void 0:Q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,f.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,f.Z)(function*(){var I;const H=yield p.assertedPersistence.getCurrentUser();let Q=H,Le=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const vt=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,nn=null==Q?void 0:Q._redirectEventId,pn=yield p.tryRedirectSignIn(d);(!vt||vt===nn)&&null!=pn&&pn.user&&(Q=pn.user,Le=!0)}if(!Q)return p.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Le)try{yield p.beforeStateQueue.runMiddleware(Q)}catch(vt){Q=H,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(vt))}return Q?p.reloadAndSetCurrentUserOrClear(Q):p.directlySetCurrentUser(null)}return ve(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Q._redirectEventId?p.directlySetCurrentUser(Q):p.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(d){var p=this;return(0,f.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,f.Z)(function*(){try{yield Jn(d)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,f.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,f.Z)(function*(){const I=d?(0,K.m9)(d):null;return I&&ve(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(d,p=!1){var I=this;return(0,f.Z)(function*(){if(!I._deleted)return d&&ve(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,f.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,f.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(sn(d))}))}initializeRecaptchaConfig(){var d=this;return(0,f.Z)(function*(){const p=yield Sn(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Gr(p);null==d.tenantId?d._agentRecaptchaConfig=I:d._tenantRecaptchaConfigs[d.tenantId]=I,I.emailPasswordEnabled&&new br(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new K.LL("auth","Firebase",d())}onAuthStateChanged(d,p,I){return this.registerStateListener(this.authStateSubscription,d,p,I)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,I){return this.registerStateListener(this.idTokenSubscription,d,p,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var I=this;return(0,f.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(p);return null===d?H.removeCurrentUser():H.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const I=d&&sn(d)||p._popupRedirectResolver;ve(I,p,"argument-error"),p.redirectPersistenceManager=yield Z.create(p,[sn(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,f.Z)(function*(){var I,H;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===d?p._currentUser:(null===(H=p.redirectUser)||void 0===H?void 0:H._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,f.Z)(function*(){if(d===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,I,H){if(this._deleted)return()=>{};const Q="function"==typeof p?p:p.next.bind(p),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(Le,this,"internal-error"),Le.then(()=>Q(this.currentUser)),"function"==typeof p?d.addObserver(p,I,H):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,f.Z)(function*(){var p;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const H=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();H&&(I["X-Firebase-Client"]=H);const Q=yield d._getAppCheckToken();return Q&&(I["X-Firebase-AppCheck"]=Q),I})()}_getAppCheckToken(){var d=this;return(0,f.Z)(function*(){var p;const I=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function ut(_,...d){me.logLevel<=Ee.in.WARN&&me.warn(`Auth (${ne.SDK_VERSION}): ${_}`,...d)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function Dr(_){return(0,K.m9)(_)}class Ti{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,K.ne)(p=>this.observer=p)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hi(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function q(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class Pe{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Oe("not implemented")}_getIdTokenResponse(d){return Oe("not implemented")}_linkToIdToken(d,p){return Oe("not implemented")}_getReauthenticationResolver(d){return Oe("not implemented")}}function Et(_,d){return st.apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:resetPassword",rt(_,d))})).apply(this,arguments)}function Mt(_,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:update",rt(_,d))})).apply(this,arguments)}function ln(_,d){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithPassword",rt(_,d))})).apply(this,arguments)}function Zn(_,d){return ur.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:sendOobCode",rt(_,d))})).apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(_,d){return Zn(_,d)})).apply(this,arguments)}function lt(_,d){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,f.Z)(function*(_,d){return Zn(_,d)})).apply(this,arguments)}function Ct(_,d){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(_,d){return Zn(_,d)})).apply(this,arguments)}function sr(){return(sr=(0,f.Z)(function*(_,d){return Zn(_,d)})).apply(this,arguments)}function ls(){return(ls=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithEmailLink",rt(_,d))})).apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithEmailLink",rt(_,d))})).apply(this,arguments)}class no extends Pe{constructor(d,p,I,H=null){super("password",I),this._email=d,this._password=p,this._tenantId=H}static _fromEmailAndPassword(d,p){return new no(d,p,"password")}static _fromEmailAndCode(d,p,I=null){return new no(d,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,f.Z)(function*(){var I;switch(p.signInMethod){case"password":const H={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=d._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Q=yield Wr(d,H,"signInWithPassword");return ln(d,Q)}return ln(d,H).catch(function(){var Q=(0,f.Z)(function*(Le){if("auth/missing-recaptcha-token"===Le.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const vt=yield Wr(d,H,"signInWithPassword");return ln(d,vt)}return Promise.reject(Le)});return function(Le){return Q.apply(this,arguments)}}());case"emailLink":return function lr(_,d){return ls.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:He(d,"internal-error")}})()}_linkToIdToken(d,p){var I=this;return(0,f.Z)(function*(){switch(I.signInMethod){case"password":return Mt(d,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Eo(_,d){return ci.apply(this,arguments)}(d,{idToken:p,email:I._email,oobCode:I._password});default:He(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Es(_,d){return wr.apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithIdp",rt(_,d))})).apply(this,arguments)}class Gn extends Pe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Gn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):He("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:H}=p,Q=(0,Te._T)(p,["providerId","signInMethod"]);if(!I||!H)return null;const Le=new Gn(I,H);return Le.idToken=Q.idToken||void 0,Le.accessToken=Q.accessToken||void 0,Le.secret=Q.secret,Le.nonce=Q.nonce,Le.pendingToken=Q.pendingToken||null,Le}_getIdTokenResponse(d){return Es(d,this.buildRequest())}_linkToIdToken(d,p){const I=this.buildRequest();return I.idToken=p,Es(d,I)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Es(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,K.xO)(p)}return d}}function ui(){return(ui=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:sendVerificationCode",rt(_,d))})).apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithPhoneNumber",rt(_,d))})).apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(_,d){const p=yield Xe(_,"POST","/v1/accounts:signInWithPhoneNumber",rt(_,d));if(p.temporaryProof)throw mt(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const gs={USER_NOT_FOUND:"user-not-found"};function Bn(){return(Bn=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithPhoneNumber",rt(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),gs)})).apply(this,arguments)}class fi extends Pe{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new fi({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new fi({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Is(_,d){return Ii.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Io(_,d){return ri.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function co(_,d){return Bn.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:I,verificationCode:H}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:I,code:H}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:I,phoneNumber:H,temporaryProof:Q}=d;return I||p||H||Q?new fi({verificationId:p,verificationCode:I,phoneNumber:H,temporaryProof:Q}):null}}class ii{constructor(d){var p,I,H,Q,Le,vt;const nn=(0,K.zd)((0,K.pd)(d)),pn=null!==(p=nn.apiKey)&&void 0!==p?p:null,Ln=null!==(I=nn.oobCode)&&void 0!==I?I:null,Kn=function Do(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=nn.mode)&&void 0!==H?H:null);ve(pn&&Ln&&Kn,"argument-error"),this.apiKey=pn,this.operation=Kn,this.code=Ln,this.continueUrl=null!==(Q=nn.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Le=nn.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(vt=nn.tenantId)&&void 0!==vt?vt:null}static parseLink(d){const p=function Ms(_){const d=(0,K.zd)((0,K.pd)(_)).link,p=d?(0,K.zd)((0,K.pd)(d)).deep_link_id:null,I=(0,K.zd)((0,K.pd)(_)).deep_link_id;return(I?(0,K.zd)((0,K.pd)(I)).link:null)||I||p||d||_}(d);try{return new ii(p)}catch{return null}}}let $s=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,I){return no._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const H=ii.parseLink(I);return ve(H,"argument-error"),no._fromEmailAndCode(p,H.code,H.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class zi extends vi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Zs extends zi{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return ve("providerId"in p&&"signInMethod"in p,"argument-error"),Gn._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ve(d.idToken||d.accessToken,"argument-error"),Gn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Zs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Zs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:Q,nonce:Le,providerId:vt}=d;if(!I&&!H&&!p&&!Q||!vt)return null;try{return new Zs(vt)._credential({idToken:p,accessToken:I,nonce:Le,pendingToken:Q})}catch{return null}}}let Bs=(()=>{class _ extends zi{constructor(){super("facebook.com")}static credential(p){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ms=(()=>{class _ extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:H}=p;if(!I&&!H)return null;try{return _.credential(I,H)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Vs=(()=>{class _ extends zi{constructor(){super("github.com")}static credential(p){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class hr extends Pe{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Es(d,this.buildRequest())}_linkToIdToken(d,p){const I=this.buildRequest();return I.idToken=p,Es(d,I)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Es(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:H,pendingToken:Q}=p;return I&&H&&Q&&I===H?new hr(I,Q):null}static _create(d,p){return new hr(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends vi{constructor(d){ve(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ts.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ts.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=hr.fromJSON(d);return ve(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:I}=d;if(!p||!I)return null;try{return hr._create(I,p)}catch{return null}}}let bo=(()=>{class _ extends zi{constructor(){super("twitter.com")}static credential(p,I){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=p;if(!I||!H)return null;try{return _.credential(I,H)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ri(_,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signUp",rt(_,d))})).apply(this,arguments)}class yi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,I,H=!1){return(0,f.Z)(function*(){const Q=yield wt._fromIdTokenResponse(d,I,H),Le=Ds(I);return new yi({user:Q,providerId:Le,_tokenResponse:I,operationType:p})})()}static _forOperation(d,p,I){return(0,f.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const H=Ds(I);return new yi({user:d,providerId:H,_tokenResponse:I,operationType:p})})()}}function Ds(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function la(){return(la=(0,f.Z)(function*(_){var d;const p=Dr(_);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new yi({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield Ri(p,{returnSecureToken:!0}),H=yield yi._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}class Vi extends K.ZR{constructor(d,p,I,H){var Q;super(p.code,p.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,Vi.prototype),this.customData={appName:d.name,tenantId:null!==(Q=d.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,p,I,H){return new Vi(d,p,I,H)}}function Hi(_,d,p,I){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?Vi._fromErrorAndOperation(_,Q,d,I):Q})}function Us(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function Gi(){return Gi=(0,f.Z)(function*(_,d){const p=(0,K.m9)(_);yield Fo(!0,p,d);const{providerUserInfo:I}=yield function Hn(_,d){return kn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),H=Us(I||[]);return p.providerData=p.providerData.filter(Q=>H.has(Q.providerId)),H.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Gi.apply(this,arguments)}function Ni(_,d){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(_,d,p=!1){const I=yield gr(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return yi._forOperation(_,"link",I)})).apply(this,arguments)}function Fo(_,d,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(_,d,p){yield Jn(d);const H=!1===_?"provider-already-linked":"no-such-provider";ve(Us(d.providerData).has(p)===_,d.auth,H)})).apply(this,arguments)}function Ro(_,d){return wo.apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(_,d,p=!1){const{auth:I}=_,H="reauthenticate";try{const Q=yield gr(_,Hi(I,H,d,_),p);ve(Q.idToken,I,"internal-error");const Le=$n(Q.idToken);ve(Le,I,"internal-error");const{sub:vt}=Le;return ve(_.uid===vt,I,"user-mismatch"),yi._forOperation(_,H,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&He(I,"user-mismatch"),Q}})).apply(this,arguments)}function $o(_,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(_,d,p=!1){const I="signIn",H=yield Hi(_,I,d),Q=yield yi._fromIdTokenResponse(_,I,H);return p||(yield _._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Co(_,d){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(_,d){return $o(Dr(_),d)})).apply(this,arguments)}function nl(_,d){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(_,d){const p=(0,K.m9)(_);return yield Fo(!1,p,d.providerId),Ni(p,d)})).apply(this,arguments)}function ca(_,d){return ka.apply(this,arguments)}function ka(){return(ka=(0,f.Z)(function*(_,d){return Ro((0,K.m9)(_),d)})).apply(this,arguments)}function P(){return(P=(0,f.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:signInWithCustomToken",rt(_,d))})).apply(this,arguments)}function $(){return $=(0,f.Z)(function*(_,d){const p=Dr(_),I=yield function B(_,d){return P.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),H=yield yi._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(H.user),H}),$.apply(this,arguments)}class de{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Gt._fromServerResponse(d,p):"totpInfo"in p?y._fromServerResponse(d,p):He(d,"internal-error")}}class Gt extends de{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Gt(p)}}class y extends de{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new y(p)}}function V(_,d,p){var I;ve((null===(I=p.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),ve(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ve(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(ve(p.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function F(){return F=(0,f.Z)(function*(_,d,p){var I;const H=Dr(_),Q={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=H._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Le=yield Wr(H,Q,"getOobCode",!0);p&&V(H,Le,p),yield lt(H,Le)}else p&&V(H,Q,p),yield lt(H,Q).catch(function(){var Le=(0,f.Z)(function*(vt){if("auth/missing-recaptcha-token"!==vt.code)return Promise.reject(vt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const nn=yield Wr(H,Q,"getOobCode",!0);p&&V(H,nn,p),yield lt(H,nn)}});return function(vt){return Le.apply(this,arguments)}}())}),F.apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(_,d,p){yield Et((0,K.m9)(_),{oobCode:d,newPassword:p})})).apply(this,arguments)}function In(){return In=(0,f.Z)(function*(_,d){yield function xt(_,d){return zt.apply(this,arguments)}((0,K.m9)(_),{oobCode:d})}),In.apply(this,arguments)}function Un(_,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(_,d){const p=(0,K.m9)(_),I=yield Et(p,{oobCode:d}),H=I.requestType;switch(ve(H,p,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(I.mfaInfo,p,"internal-error");default:ve(I.email,p,"internal-error")}let Q=null;return I.mfaInfo&&(Q=de._fromServerResponse(Dr(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Q},operation:H}})).apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(_,d){const{data:p}=yield Un((0,K.m9)(_),d);return p.email})).apply(this,arguments)}function Hs(){return Hs=(0,f.Z)(function*(_,d,p){var I;const H=Dr(_),Q={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let Le;if(null!==(I=H._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const pn=yield Wr(H,Q,"signUpPassword");Le=Ri(H,pn)}else Le=Ri(H,Q).catch(function(){var pn=(0,f.Z)(function*(Ln){if("auth/missing-recaptcha-token"===Ln.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Kn=yield Wr(H,Q,"signUpPassword");return Ri(H,Kn)}return Promise.reject(Ln)});return function(Ln){return pn.apply(this,arguments)}}());const vt=yield Le.catch(pn=>Promise.reject(pn)),nn=yield yi._fromIdTokenResponse(H,"signIn",vt);return yield H._updateCurrentUser(nn.user),nn}),Hs.apply(this,arguments)}function Bo(){return Bo=(0,f.Z)(function*(_,d,p){var I;const H=Dr(_),Q={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Le(vt,nn){ve(nn.handleCodeInApp,H,"argument-error"),nn&&V(H,vt,nn)}if(null!==(I=H._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const vt=yield Wr(H,Q,"getOobCode",!0);Le(vt,p),yield Ct(H,vt)}else Le(Q,p),yield Ct(H,Q).catch(function(){var vt=(0,f.Z)(function*(nn){if("auth/missing-recaptcha-token"!==nn.code)return Promise.reject(nn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pn=yield Wr(H,Q,"getOobCode",!0);Le(pn,p),yield Ct(H,pn)}});return function(nn){return vt.apply(this,arguments)}}())}),Bo.apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_),H=$s.credentialWithLink(d,p||ct());return ve(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Co(I,H)})).apply(this,arguments)}function Ca(){return(Ca=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:createAuthUri",rt(_,d))})).apply(this,arguments)}function Qs(){return Qs=(0,f.Z)(function*(_,d){const I={identifier:d,continueUri:dt()?ct():"http://localhost"},{signinMethods:H}=yield function wa(_,d){return Ca.apply(this,arguments)}((0,K.m9)(_),I);return H||[]}),Qs.apply(this,arguments)}function da(){return da=(0,f.Z)(function*(_,d){const p=(0,K.m9)(_),H={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&V(p.auth,H,d);const{email:Q}=yield function Je(_,d){return Ke.apply(this,arguments)}(p.auth,H);Q!==_.email&&(yield _.reload())}),da.apply(this,arguments)}function Ta(){return Ta=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};p&&V(I.auth,Q,p);const{email:Le}=yield function Xn(_,d){return sr.apply(this,arguments)}(I.auth,Q);Le!==_.email&&(yield _.reload())}),Ta.apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(_,d){return tt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Sa(){return Sa=(0,f.Z)(function*(_,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const I=(0,K.m9)(_),Q={idToken:yield I.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Le=yield gr(I,function Jl(_,d){return rl.apply(this,arguments)}(I.auth,Q));I.displayName=Le.displayName||null,I.photoURL=Le.photoUrl||null;const vt=I.providerData.find(({providerId:nn})=>"password"===nn);vt&&(vt.displayName=I.displayName,vt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Le)}),Sa.apply(this,arguments)}function Rl(_,d,p){return po.apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(_,d,p){const{auth:I}=_,Q={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(Q.email=d),p&&(Q.password=p);const Le=yield gr(_,Mt(I,Q));yield _._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class ws{constructor(d,p,I={}){this.isNewUser=d,this.providerId=p,this.profile=I}}class Yo extends ws{constructor(d,p,I,H){super(d,p,I),this.username=H}}class si extends ws{constructor(d,p){super(d,"facebook.com",p)}}class C extends Yo{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class U extends ws{constructor(d,p){super(d,"google.com",p)}}class _e extends Yo{constructor(d,p,I){super(d,"twitter.com",p,I)}}function k(_){const{user:d,_tokenResponse:p}=_;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Cc(_){var d,p;if(!_)return null;const{providerId:I}=_,H=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},Q=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&null!=_&&_.idToken){const Le=null===(p=null===(d=$n(_.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(Le)return new ws(Q,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!I)return null;switch(I){case"facebook.com":return new si(Q,H);case"github.com":return new C(Q,H);case"google.com":return new U(Q,H);case"twitter.com":return new _e(Q,H,_.screenName||null);case"custom":case"anonymous":return new ws(Q,null);default:return new ws(Q,I,H)}}(p)}class oi{constructor(d,p,I){this.type=d,this.credential=p,this.auth=I}static _fromIdtoken(d,p){return new oi("enroll",d,p)}static _fromMfaPendingCredential(d){return new oi("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,I;if(null!=d&&d.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return oi._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(I=d.multiFactorSession)&&void 0!==I&&I.idToken)return oi._fromIdtoken(d.multiFactorSession.idToken)}return null}}class zs{constructor(d,p,I){this.session=d,this.hints=p,this.signInResolver=I}static _fromError(d,p){const I=Dr(d),H=p.customData._serverResponse,Q=(H.mfaInfo||[]).map(vt=>de._fromServerResponse(I,vt));ve(H.mfaPendingCredential,I,"internal-error");const Le=oi._fromMfaPendingCredential(H.mfaPendingCredential);return new zs(Le,Q,function(){var vt=(0,f.Z)(function*(nn){const pn=yield nn._process(I,Le);delete H.mfaInfo,delete H.mfaPendingCredential;const Ln=Object.assign(Object.assign({},H),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(p.operationType){case"signIn":const Kn=yield yi._fromIdTokenResponse(I,p.operationType,Ln);return yield I._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return ve(p.user,I,"internal-error"),yi._forOperation(p.user,p.operationType,Ln);default:He(I,"internal-error")}});return function(nn){return vt.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,f.Z)(function*(){return p.signInResolver(d)})()}}class pi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>de._fromServerResponse(d.auth,I)))})}static _fromUser(d){return new pi(d)}getSession(){var d=this;return(0,f.Z)(function*(){return oi._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var I=this;return(0,f.Z)(function*(){const H=d,Q=yield I.getSession(),Le=yield gr(I.user,H._process(I.user.auth,Q,p));return yield I.user._updateTokensIfNecessary(Le),I.user.reload()})()}unenroll(d){var p=this;return(0,f.Z)(function*(){const I="string"==typeof d?d:d.uid,H=yield p.user.getIdToken();try{const Q=yield gr(p.user,function Zo(_,d){return tt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(_,d))}(p.user.auth,{idToken:H,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Le})=>Le!==I),yield p.user._updateTokensIfNecessary(Q),yield p.user.reload()}catch(Q){throw Q}})()}}const Cs=new WeakMap,Ts="__sak";class il{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const To=(()=>{class _ extends il{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Aa(){const _=(0,K.z$)();return ee(_)||Fn(_)}()&&function _t(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fe(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),Q=this.localCache[I];H!==Q&&p(I,Q,H)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((vt,nn,pn)=>{this.notifyListeners(vt,pn)});const H=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(H);if(p.newValue!==vt)null!==p.newValue?this.storage.setItem(H,p.newValue):this.storage.removeItem(H);else if(this.localCache[H]===p.newValue&&!I)return}const Q=()=>{const vt=this.storage.getItem(H);!I&&this.localCache[H]===vt||this.notifyListeners(H,vt)},Le=this.storage.getItem(H);!function nt(){return(0,K.w1)()&&10===document.documentMode}()||Le===p.newValue||p.newValue===p.oldValue?Q():setTimeout(Q,10)}notifyListeners(p,I){this.localCache[p]=I;const H=this.listeners[p];if(H)for(const Q of Array.from(H))Q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var H=()=>super._set,Q=this;return(0,f.Z)(function*(){yield H().call(Q,p,I),Q.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,H=this;return(0,f.Z)(function*(){const Q=yield I().call(H,p);return H.localCache[p]=JSON.stringify(Q),Q})()}_remove(p){var I=()=>super._remove,H=this;return(0,f.Z)(function*(){yield I().call(H,p),delete H.localCache[p]})()}}return _.type="LOCAL",_})(),Ws=(()=>{class _ extends il{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return _.type="SESSION",_})();let Yi=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(Q=>Q.isListeningto(p));if(I)return I;const H=new _(p);return this.receivers.push(H),H}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,f.Z)(function*(){const H=p,{eventId:Q,eventType:Le,data:vt}=H.data,nn=I.handlersMap[Le];if(null==nn||!nn.size)return;H.ports[0].postMessage({status:"ack",eventId:Q,eventType:Le});const pn=Array.from(nn).map(function(){var Kn=(0,f.Z)(function*(fs){return fs(H.origin,vt)});return function(fs){return Kn.apply(this,arguments)}}()),Ln=yield function on(_){return Promise.all(_.map(function(){var d=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return d.apply(this,arguments)}}()))}(pn);H.ports[0].postMessage({status:"done",eventId:Q,eventType:Le,response:Ln})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Os(_="",d=10){let p="";for(let I=0;I<d;I++)p+=Math.floor(10*Math.random());return _+p}class Po{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,I=50){var H=this;return(0,f.Z)(function*(){const Q=typeof MessageChannel<"u"?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Le,vt;return new Promise((nn,pn)=>{const Ln=Os("",20);Q.port1.start();const Kn=setTimeout(()=>{pn(new Error("unsupported_event"))},I);vt={messageChannel:Q,onMessage(fs){const ra=fs;if(ra.data.eventId===Ln)switch(ra.data.status){case"ack":clearTimeout(Kn),Le=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),nn(ra.data.response);break;default:clearTimeout(Kn),clearTimeout(Le),pn(new Error("invalid_response"))}}},H.handlers.add(vt),Q.port1.addEventListener("message",vt.onMessage),H.target.postMessage({eventType:d,eventId:Ln,data:p},[Q.port2])}).finally(()=>{vt&&H.removeMessageHandler(vt)})})()}}function hn(){return window}function yr(){return typeof hn().WorkerGlobalScope<"u"&&"function"==typeof hn().importScripts}function St(){return(St=(0,f.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ec="firebaseLocalStorageDb",ga="firebaseLocalStorage",Ol="fbase_key";class ol{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function tc(_,d){return _.transaction([ga],d?"readwrite":"readonly").objectStore(ga)}function Sc(){const _=indexedDB.open(ec,1);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(ga,{keyPath:Ol})}catch(H){p(H)}}),_.addEventListener("success",(0,f.Z)(function*(){const I=_.result;I.objectStoreNames.contains(ga)?d(I):(I.close(),yield function vu(){const _=indexedDB.deleteDatabase(ec);return new ol(_).toPromise()}(),d(yield Sc()))}))})}function Xt(_,d,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(_,d,p){const I=tc(_,!0).put({[Ol]:d,value:p});return new ol(I).toPromise()})).apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(_,d){const p=tc(_,!1).get(d),I=yield new ol(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Wi(_,d){const p=tc(_,!0).delete(d);return new ol(p).toPromise()}const So=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield Sc()),p.db})()}_withRetries(p){var I=this;return(0,f.Z)(function*(){let H=0;for(;;)try{const Q=yield I._openDb();return yield p(Q)}catch(Q){if(H++>3)throw Q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return yr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=Yi._getInstance(function Ur(){return yr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,f.Z)(function*(H,Q){return{keyProcessed:(yield p._poll()).includes(Q.key)}});return function(H,Q){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,f.Z)(function*(H,Q){return["keyChanged"]});return function(H,Q){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var I,H;if(p.activeServiceWorker=yield function Mn(){return St.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Po(p.activeServiceWorker);const Q=yield p.sender._send("ping",{},800);Q&&null!==(I=Q[0])&&void 0!==I&&I.fulfilled&&null!==(H=Q[0])&&void 0!==H&&H.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,f.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Yt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Sc();return yield Xt(p,Ts,"1"),yield Wi(p,Ts),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,f.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var H=this;return(0,f.Z)(function*(){return H._withPendingWrite((0,f.Z)(function*(){return yield H._withRetries(Q=>Xt(Q,p,I)),H.localCache[p]=I,H.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,f.Z)(function*(){const H=yield I._withRetries(Q=>function La(_,d){return _r.apply(this,arguments)}(Q,p));return I.localCache[p]=H,H})()}_remove(p){var I=this;return(0,f.Z)(function*(){return I._withPendingWrite((0,f.Z)(function*(){return yield I._withRetries(H=>Wi(H,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const I=yield p._withRetries(Le=>{const vt=tc(Le,!1).getAll();return new ol(vt).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const H=[],Q=new Set;for(const{fbase_key:Le,value:vt}of I)Q.add(Le),JSON.stringify(p.localCache[Le])!==JSON.stringify(vt)&&(p.notifyListeners(Le,vt),H.push(Le));for(const Le of Object.keys(p.localCache))p.localCache[Le]&&!Q.has(Le)&&(p.notifyListeners(Le,null),H.push(Le));return H})()}notifyListeners(p,I){this.localCache[p]=I;const H=this.listeners[p];if(H)for(const Q of Array.from(H))Q(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Js=1e12;class ma{constructor(d){this.auth=d,this.counter=Js,this._widgets=new Map}render(d,p){const I=this.counter;return this._widgets.set(I,new Ma(d,this.auth.name,p||{})),this.counter++,I}reset(d){var p;const I=d||Js;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Js))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,f.Z)(function*(){var I;return null===(I=p._widgets.get(d||Js))||void 0===I||I.execute(),""})()}}class Ma{constructor(d,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof d?document.getElementById(d):d;ve(H,"argument-error",{appName:p}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function No(_){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ac=Or("rcb"),D=new ht(3e4,6e4);class O{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=hn().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return ve(function b(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&er(hn().grecaptcha)?Promise.resolve(hn().grecaptcha):new Promise((I,H)=>{const Q=hn().setTimeout(()=>{H(ge(d,"network-request-failed"))},D.get());hn()[Ac]=()=>{hn().clearTimeout(Q),delete hn()[Ac];const vt=hn().grecaptcha;if(!vt||!er(vt))return void H(ge(d,"internal-error"));const nn=vt.render;vt.render=(pn,Ln)=>{const Kn=nn(pn,Ln);return this.counter++,Kn},this.hostLanguage=p,I(vt)},dr(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Ac,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Q),H(ge(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=hn().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class N{load(d){return(0,f.Z)(function*(){return new ma(d)})()}clearedOneInstance(){}}const X="recaptcha",fe={theme:"light",type:"image"};class at{constructor(d,p=Object.assign({},fe),I){this.parameters=p,this.type=X,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dr(I),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof d?document.getElementById(d):d;ve(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new N:new O,this.validateStartingState()}verify(){var d=this;return(0,f.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),I=d.getAssertedRecaptcha();return I.getResponse(p)||new Promise(Q=>{const Le=vt=>{vt&&(d.tokenChangeListeners.delete(Le),Q(vt))};d.tokenChangeListeners.add(Le),d.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof d)d(p);else if("string"==typeof d){const I=hn()[d];"function"==typeof I&&I(p)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,f.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,f.Z)(function*(){ve(dt()&&!yr(),d.auth,"internal-error"),yield function cn(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function qt(_){return jt.apply(this,arguments)}(d.auth);ve(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pe{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=fi._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Wn(){return(Wn=(0,f.Z)(function*(_,d,p){const I=Dr(_),H=yield Ss(I,d,(0,K.m9)(p));return new pe(H,Q=>Co(I,Q))})).apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_);yield Fo(!1,I,"phone");const H=yield Ss(I.auth,d,(0,K.m9)(p));return new pe(H,Q=>nl(I,Q))})).apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_),H=yield Ss(I.auth,d,(0,K.m9)(p));return new pe(H,Q=>ca(I,Q))})).apply(this,arguments)}function Ss(_,d,p){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,f.Z)(function*(_,d,p){var I;const H=yield p.verify();try{let Q;if(ve("string"==typeof H,_,"argument-error"),ve(p.type===X,_,"argument-error"),Q="string"==typeof d?{phoneNumber:d}:d,"session"in Q){const Le=Q.session;if("phoneNumber"in Q)return ve("enroll"===Le.type,_,"internal-error"),(yield function Gs(_,d){return tt(_,"POST","/v2/accounts/mfaEnrollment:start",rt(_,d))}(_,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ve("signin"===Le.type,_,"internal-error");const vt=(null===(I=Q.multiFactorHint)||void 0===I?void 0:I.uid)||Q.multiFactorUid;return ve(vt,_,"missing-multi-factor-info"),(yield function qr(_,d){return tt(_,"POST","/v2/accounts/mfaSignIn:start",rt(_,d))}(_,{mfaPendingCredential:Le.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield function Yr(_,d){return ui.apply(this,arguments)}(_,{phoneNumber:Q.phoneNumber,recaptchaToken:H});return Le}}finally{p._reset()}}),Xi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(_,d){yield Ni((0,K.m9)(_),d)})).apply(this,arguments)}let Xo=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Dr(p)}verifyPhoneNumber(p,I){return Ss(this.auth,p,(0,K.m9)(I))}static credential(p,I){return fi._fromVerification(p,I)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:H}=p;return I&&H?fi._fromTokenResponse(I,H):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Qi(_,d){return d?sn(d):(ve(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class io extends Pe{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Es(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Es(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Es(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Pl(_){return $o(_.auth,new io(_),_.bypassAuthState)}function Mc(_){const{auth:d,user:p}=_;return ve(p,d,"internal-error"),Ro(p,new io(_),_.bypassAuthState)}function As(_){return al.apply(this,arguments)}function al(){return(al=(0,f.Z)(function*(_){const{auth:d,user:p}=_;return ve(p,d,"internal-error"),Ni(p,new io(_),_.bypassAuthState)})).apply(this,arguments)}class Qo{constructor(d,p,I,H,Q=!1){this.auth=d,this.resolver=I,this.user=H,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,f.Z)(function*(I,H){d.pendingPromise={resolve:I,reject:H};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Q){d.reject(Q)}});return function(I,H){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,f.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:Q,tenantId:Le,error:vt,type:nn}=d;if(vt)return void p.reject(vt);const pn={auth:p.auth,requestUri:I,sessionId:H,tenantId:Le||void 0,postBody:Q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(nn)(pn))}catch(Ln){p.reject(Ln)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Pl;case"linkViaPopup":case"linkViaRedirect":return As;case"reauthViaPopup":case"reauthViaRedirect":return Mc;default:He(this.auth,"internal-error")}}resolve(d){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ns=new ht(2e3,1e4);function $a(){return($a=(0,f.Z)(function*(_,d,p){const I=Dr(_);Me(_,d,vi);const H=Qi(I,p);return new _u(I,"signInViaPopup",d,H).executeNotNull()})).apply(this,arguments)}function ic(){return(ic=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_);Me(I.auth,d,vi);const H=Qi(I.auth,p);return new _u(I.auth,"reauthViaPopup",d,H,I).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_);Me(I.auth,d,vi);const H=Qi(I.auth,p);return new _u(I.auth,"linkViaPopup",d,H,I).executeNotNull()})).apply(this,arguments)}let _u=(()=>{class _ extends Qo{constructor(p,I,H,Q,Le){super(p,I,Q,Le),this.provider=H,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const I=yield p.execute();return ve(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,f.Z)(function*(){Qe(1===p.filter.length,"Popup operations only handle one event");const I=Os();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(H=>{p.reject(H)}),p.resolver._isIframeWebStorageSupported(p.auth,H=>{H||p.reject(ge(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,H;this.pollId=null!==(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Ns.get())};p()}}return _.currentPopupAction=null,_})();const Ba="pendingRedirect",Va=new Map;class nf extends Qo{constructor(d,p,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,f.Z)(function*(){let I=Va.get(p.auth._key());if(!I){try{const Q=(yield function nd(_,d){return Rc.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;I=()=>Promise.resolve(Q)}catch(H){I=()=>Promise.reject(H)}Va.set(p.auth._key(),I)}return p.bypassAuthState||Va.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,I=this;return(0,f.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(I,d);if("unknown"!==d.type){if(d.eventId){const H=yield I.auth._redirectUserForId(d.eventId);if(H)return I.user=H,p().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Rc(){return(Rc=(0,f.Z)(function*(_,d){const p=sc(d),I=sf(_);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(p));return yield I._remove(p),H})).apply(this,arguments)}function rh(_,d){return rd.apply(this,arguments)}function rd(){return(rd=(0,f.Z)(function*(_,d){return sf(_)._set(sc(d),"true")})).apply(this,arguments)}function id(_,d){Va.set(_._key(),d)}function sf(_){return sn(_._redirectPersistence)}function sc(_){return ke(Ba,_.config.apiKey,_.name)}function cl(_,d,p){return function ih(_,d,p){return Ua.apply(this,arguments)}(_,d,p)}function Ua(){return(Ua=(0,f.Z)(function*(_,d,p){const I=Dr(_);Me(_,d,vi),yield I._initializationPromise;const H=Qi(I,p);return yield rh(H,I),H._openRedirect(I,d,"signInViaRedirect")})).apply(this,arguments)}function Oc(_,d,p){return function Pc(_,d,p){return Nc.apply(this,arguments)}(_,d,p)}function Nc(){return(Nc=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_);Me(I.auth,d,vi),yield I.auth._initializationPromise;const H=Qi(I.auth,p);yield rh(H,I.auth);const Q=yield Pi(I);return H._openRedirect(I.auth,d,"reauthViaRedirect",Q)})).apply(this,arguments)}function ks(_,d,p){return function sd(_,d,p){return va.apply(this,arguments)}(_,d,p)}function va(){return(va=(0,f.Z)(function*(_,d,p){const I=(0,K.m9)(_);Me(I.auth,d,vi),yield I.auth._initializationPromise;const H=Qi(I.auth,p);yield Fo(!1,I,d.providerId),yield rh(H,I.auth);const Q=yield Pi(I);return H._openRedirect(I.auth,d,"linkViaRedirect",Q)})).apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(_,d){return yield Dr(_)._initializationPromise,ya(_,d,!1)})).apply(this,arguments)}function ya(_,d){return vs.apply(this,arguments)}function vs(){return(vs=(0,f.Z)(function*(_,d,p=!1){const I=Dr(_),H=Qi(I,d),Le=yield new nf(I,H,p).execute();return Le&&!p&&(delete Le.user._redirectEventId,yield I._persistUserIfCurrent(Le.user),yield I._setRedirectUser(null,d)),Le})).apply(this,arguments)}function Pi(_){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(_){const d=Os(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class to{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(p=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function ds(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oc(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var I;if(d.error&&!oc(d)){const H=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(ge(this.auth,H))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const I=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nl(d))}saveEventToCache(d){this.cachedEventUids.add(Nl(d)),this.lastProcessedEventTime=Date.now()}}function Nl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function oc({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function od(_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(_,d={}){return tt(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,go=/^https?/;function Ho(){return(Ho=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield od(_);for(const p of d)try{if(ul(p))return}catch{}He(_,"unauthorized-domain")})).apply(this,arguments)}function ul(_){const d=ct(),{protocol:p,hostname:I}=new URL(d);if(_.startsWith("chrome-extension://")){const Le=new URL(_);return""===Le.hostname&&""===I?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Le.hostname===I}if(!go.test(p))return!1;if(Ji.test(_))return I===_;const H=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const ac=new ht(3e4,6e4);function Oa(){const _=hn().___jsl;if(null!=_&&_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let dl=null;const ea=new ht(5e3,15e3),Fc="__/auth/iframe",Ea="emulator/auth/iframe",Lc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ta=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hl(_){const d=_.config;ve(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?ie(d,Ea):`https://${_.config.authDomain}/${Fc}`,I={apiKey:d.apiKey,appName:_.name,v:ne.SDK_VERSION},H=ta.get(_.config.apiHost);H&&(I.eid=H);const Q=_._getFrameworks();return Q.length&&(I.fw=Q.join(",")),`${p}?${(0,K.xO)(I).slice(1)}`}function R(){return R=(0,f.Z)(function*(_){const d=yield function mo(_){return dl=dl||function Li(_){return new Promise((d,p)=>{var I,H,Q;function Le(){Oa(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Oa(),p(ge(_,"network-request-failed"))},timeout:ac.get()})}if(null!==(H=null===(I=hn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==H&&H.Iframe)d(gapi.iframes.getContext());else{if(null===(Q=hn().gapi)||void 0===Q||!Q.load){const vt=Or("iframefcb");return hn()[vt]=()=>{gapi.load?Le():p(ge(_,"network-request-failed"))},dr(`https://apis.google.com/js/api.js?onload=${vt}`).catch(nn=>p(nn))}Le()}}).catch(d=>{throw dl=null,d})}(_),dl}(_),p=hn().gapi;return ve(p,_,"internal-error"),d.open({where:document.body,url:hl(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lc,dontclear:!0},I=>new Promise(function(){var H=(0,f.Z)(function*(Q,Le){yield I.restyle({setHideOnLeave:!1});const vt=ge(_,"network-request-failed"),nn=hn().setTimeout(()=>{Le(vt)},ea.get());function pn(){hn().clearTimeout(nn),Q(I)}I.ping(pn).then(pn,()=>{Le(vt)})});return function(Q,Le){return H.apply(this,arguments)}}()))}),R.apply(this,arguments)}const G={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tn{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tr="__/auth/handler",Sr="emulator/auth/handler",Ks=encodeURIComponent("fac");function li(_,d,p,I,H,Q){return fl.apply(this,arguments)}function fl(){return(fl=(0,f.Z)(function*(_,d,p,I,H,Q){ve(_.config.authDomain,_,"auth-domain-config-required"),ve(_.config.apiKey,_,"invalid-api-key");const Le={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:I,v:ne.SDK_VERSION,eventId:H};if(d instanceof vi){d.setDefaultLanguage(_.languageCode),Le.providerId=d.providerId||"",(0,K.xb)(d.getCustomParameters())||(Le.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ln,Kn]of Object.entries(Q||{}))Le[Ln]=Kn}if(d instanceof zi){const Ln=d.getScopes().filter(Kn=>""!==Kn);Ln.length>0&&(Le.scopes=Ln.join(","))}_.tenantId&&(Le.tid=_.tenantId);const vt=Le;for(const Ln of Object.keys(vt))void 0===vt[Ln]&&delete vt[Ln];const nn=yield _._getAppCheckToken(),pn=nn?`#${Ks}=${encodeURIComponent(nn)}`:"";return`${function Ar({config:_}){return _.emulator?ie(_,Sr):`https://${_.authDomain}/${Tr}`}(_)}?${(0,K.xO)(vt).slice(1)}${pn}`})).apply(this,arguments)}const Ao="webStorageSupport",Ia=class so{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=ya,this._overrideRedirectResult=id}_openPopup(d,p,I,H){var Q=this;return(0,f.Z)(function*(){var Le;Qe(null===(Le=Q.eventManagers[d._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const vt=yield li(d,p,I,ct(),H);return function wn(_,d,p,I=500,H=600){const Q=Math.max((window.screen.availHeight-H)/2,0).toString(),Le=Math.max((window.screen.availWidth-I)/2,0).toString();let vt="";const nn=Object.assign(Object.assign({},G),{width:I.toString(),height:H.toString(),top:Q,left:Le}),pn=(0,K.z$)().toLowerCase();p&&(vt=Be(pn)?"_blank":p),xe(pn)&&(d=d||"http://localhost",nn.scrollbars="yes");const Ln=Object.entries(nn).reduce((fs,[ra,qc])=>`${fs}${ra}=${qc},`,"");if(function Rr(_=(0,K.z$)()){var d;return Fn(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(pn)&&"_self"!==vt)return function nr(_,d){const p=document.createElement("a");p.href=_,p.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(d||"",vt),new Tn(null);const Kn=window.open(d||"",vt,Ln);ve(Kn,_,"popup-blocked");try{Kn.focus()}catch{}return new Tn(Kn)}(d,vt,Os())})()}_openRedirect(d,p,I,H){var Q=this;return(0,f.Z)(function*(){return yield Q._originValidation(d),function tr(_){hn().location.href=_}(yield li(d,p,I,ct(),H)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:H,promise:Q}=this.eventManagers[p];return H?Promise.resolve(H):(Qe(Q,"If manager is not set, promise should be"),Q)}const I=this.initAndGetManager(d);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(d){var p=this;return(0,f.Z)(function*(){const I=yield function T(_){return R.apply(this,arguments)}(d),H=new to(d);return I.register("authEvent",Q=>(ve(null==Q?void 0:Q.authEvent,d,"invalid-auth-event"),{status:H.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:H},p.iframes[d._key()]=I,H})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Ao,{type:Ao},H=>{var Q;const Le=null===(Q=null==H?void 0:H[0])||void 0===Q?void 0:Q[Ao];void 0!==Le&&p(!!Le),He(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function kc(_){return Ho.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Fe()||ee()||Fn()}};class Ys{constructor(d){this.factorId=d}_process(d,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,I);case"signin":return this._finalizeSignIn(d,p.credential);default:return Oe("unexpected MultiFactorSessionType")}}}class kl extends Ys{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new kl(d)}_finalizeEnroll(d,p,I){return function ro(_,d){return tt(_,"POST","/v2/accounts/mfaEnrollment:finalize",rt(_,d))}(d,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function yu(_,d){return tt(_,"POST","/v2/accounts/mfaSignIn:finalize",rt(_,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sh=(()=>{class _{constructor(){}static assertion(p){return kl._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var ad="@firebase/auth";class ko{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(I=>{d((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uc(){return window}(0,K.Pz)("authIdTokenMaxAge"),function cc(_){(0,ne._registerComponent)(new he.wA("auth",(d,{options:p})=>{const I=d.getProvider("app").getImmediate(),H=d.getProvider("heartbeat"),Q=d.getProvider("app-check-internal"),{apiKey:Le,authDomain:vt}=I.options;ve(Le&&!Le.includes(":"),"invalid-api-key",{appName:I.name});const nn={apiKey:Le,authDomain:vt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ft(_)},pn=new Ci(I,H,Q,nn);return function qi(_,d){const p=(null==d?void 0:d.persistence)||[],I=(Array.isArray(p)?p:[p]).map(sn);null!=d&&d.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(I,null==d?void 0:d.popupRedirectResolver)}(pn,p),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,I)=>{d.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new he.wA("auth-internal",d=>{const p=Dr(d.getProvider("auth").getImmediate());return new ko(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(ad,"0.23.2",function ld(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ne.registerVersion)(ad,"0.23.2","esm2017")}("Browser");function Iu(){return Iu=(0,f.Z)(function*(_,d,p){var I;const{BuildInfo:H}=uc();Qe(d.sessionId,"AuthEvent did not contain a session ID");const Q=yield function oh(_){return $c.apply(this,arguments)}(d.sessionId),Le={};return Fn()?Le.ibi=H.packageName:kt()?Le.apn=H.packageName:He(_,"operation-not-supported-in-this-environment"),H.displayName&&(Le.appDisplayName=H.displayName),Le.sessionId=Q,li(_,p,d.type,void 0,null!==(I=d.eventId)&&void 0!==I?I:void 0,Le)}),Iu.apply(this,arguments)}function Du(){return(Du=(0,f.Z)(function*(_){const{BuildInfo:d}=uc(),p={};Fn()?p.iosBundleId=d.packageName:kt()?p.androidPackageName=d.packageName:He(_,"operation-not-supported-in-this-environment"),yield od(_,p)})).apply(this,arguments)}function pl(){return(pl=(0,f.Z)(function*(_,d,p){const{cordova:I}=uc();let H=()=>{};try{yield new Promise((Q,Le)=>{let vt=null;function nn(){var Kn;Q();const fs=null===(Kn=I.plugins.browsertab)||void 0===Kn?void 0:Kn.close;"function"==typeof fs&&fs(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function pn(){vt||(vt=window.setTimeout(()=>{Le(ge(_,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}d.addPassiveListener(nn),document.addEventListener("resume",pn,!1),kt()&&document.addEventListener("visibilitychange",Ln,!1),H=()=>{d.removePassiveListener(nn),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Ln,!1),vt&&window.clearTimeout(vt)}})}finally{H()}})).apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(_){const d=function Da(_){if(Qe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),p=new Uint8Array(d);for(let I=0;I<_.length;I++)p[I]=_.charCodeAt(I);return p}(_),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Bc extends to{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,f.Z)(function*(){yield d.initPromise})()}}function gl(_){return wu.apply(this,arguments)}function wu(){return(wu=(0,f.Z)(function*(_){const d=yield Cu()._get(Tu(_));return d&&(yield Cu()._remove(Tu(_))),d})).apply(this,arguments)}function Mo(){const _=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return _.join("")}function Cu(){return sn(To)}function Tu(_){return ke("authEvent",_.config.apiKey,_.name)}function Uc(_){if(null==_||!_.includes("?"))return{};const[d,...p]=_.split("?");return(0,K.zd)(p.join("?"))}const ff=class lh{constructor(){this._redirectPersistence=Ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ya,this._overrideRedirectResult=id}_initialize(d){var p=this;return(0,f.Z)(function*(){const I=d._key();let H=p.eventManagers.get(I);return H||(H=new Bc(d),p.eventManagers.set(I,H),p.attachCallbackListeners(d,H)),H})()}_openPopup(d){He(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,I,H){var Q=this;return(0,f.Z)(function*(){!function ud(_){var d,p,I,H,Q,Le,vt,nn,pn,Ln;const Kn=uc();ve("function"==typeof(null===(d=null==Kn?void 0:Kn.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(typeof(null===(p=null==Kn?void 0:Kn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve("function"==typeof(null===(Q=null===(H=null===(I=null==Kn?void 0:Kn.cordova)||void 0===I?void 0:I.plugins)||void 0===H?void 0:H.browsertab)||void 0===Q?void 0:Q.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(nn=null===(vt=null===(Le=null==Kn?void 0:Kn.cordova)||void 0===Le?void 0:Le.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===nn?void 0:nn.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(Ln=null===(pn=null==Kn?void 0:Kn.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Ln?void 0:Ln.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Le=yield Q._initialize(d);yield Le.initialized(),Le.resetRedirect(),function rf(){Va.clear()}(),yield Q._originValidation(d);const vt=function df(_,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Mo(),postBody:null,tenantId:_.tenantId,error:ge(_,"no-auth-event")}}(d,I,H);yield function Fl(_,d){return Cu()._set(Tu(_),d)}(d,vt);const nn=yield function ig(_,d,p){return Iu.apply(this,arguments)}(d,vt,p),pn=yield function ja(_){const{cordova:d}=uc();return new Promise(p=>{d.plugins.browsertab.isAvailable(I=>{let H=null;I?d.plugins.browsertab.openUrl(_):H=d.InAppBrowser.open(_,function Yn(_=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(H)})})}(nn);return function bu(_,d,p){return pl.apply(this,arguments)}(d,Le,pn)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function cd(_){return Du.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:I,handleOpenURL:H,BuildInfo:Q}=uc(),Le=setTimeout((0,f.Z)(function*(){yield gl(d),p.onEvent(ch())}),500),vt=function(){var Ln=(0,f.Z)(function*(Kn){clearTimeout(Le);const fs=yield gl(d);let ra=null;fs&&null!=Kn&&Kn.url&&(ra=function Vc(_,d){var p,I;const H=function hf(_){const d=Uc(_),p=d.link?decodeURIComponent(d.link):void 0,I=Uc(p).link,H=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Uc(H).link||H||I||p||_}(d);if(H.includes("/__/auth/callback")){const Q=Uc(H),Le=Q.firebaseError?function Su(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(Q.firebaseError)):null,vt=null===(I=null===(p=null==Le?void 0:Le.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],nn=vt?ge(vt):null;return nn?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:H,postBody:null}}return null}(fs,Kn.url)),p.onEvent(ra||ch())});return function(fs){return Ln.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,vt);const nn=H,pn=`${Q.packageName.toLowerCase()}://`;uc().handleOpenURL=function(){var Ln=(0,f.Z)(function*(Kn){if(Kn.toLowerCase().startsWith(pn)&&vt({url:Kn}),"function"==typeof nn)try{nn(Kn)}catch(fs){console.error(fs)}});return function(Kn){return Ln.apply(this,arguments)}}()}};function ch(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function ml(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Ha(_=(0,K.z$)()){return!("file:"!==ml()&&"ionic:"!==ml()&&"capacitor:"!==ml()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function jr(){try{const _=self.localStorage,d=Os();if(_)return _.setItem(d,"1"),_.removeItem(d),!function vv(_=(0,K.z$)()){return function dc(){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)}()||function mv(_=(0,K.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,K.hl)()}catch{return mf()&&(0,K.hl)()}return!1}function mf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hd(){return(function dd(){return"http:"===ml()||"https:"===ml()}()||(0,K.ru)()||Ha())&&!function sg(){return(0,K.b$)()||(0,K.UG)()}()&&jr()&&!mf()}function uh(){return Ha()&&typeof document<"u"}function hc(){return(hc=(0,f.Z)(function*(){return!!uh()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const zo={LOCAL:"local",NONE:"none",SESSION:"session"},jc=ve,Bl="persistence";function za(_){return pc.apply(this,arguments)}function pc(){return(pc=(0,f.Z)(function*(_){yield _._initializationPromise;const d=Hc(),p=ke(Bl,_.config.apiKey,_.name);d&&d.setItem(p,_._getPersistence())})).apply(this,arguments)}function Hc(){var _;try{return(null===(_=function Mu(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const zc=ve;class vl{constructor(){this.browserResolver=sn(Ia),this.cordovaResolver=sn(ff),this.underlyingResolver=null,this._redirectPersistence=Ws,this._completeRedirectFn=ya,this._overrideRedirectResult=id}_initialize(d){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,I,H){var Q=this;return(0,f.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(d,p,I,H)})()}_openRedirect(d,p,I,H){var Q=this;return(0,f.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(d,p,I,H)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return uh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,f.Z)(function*(){if(d.underlyingResolver)return;const p=yield function Au(){return hc.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function dh(_){return _.unwrap()}function hh(_){return ss(_)}function ss(_){const{_tokenResponse:d}=_ instanceof K.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof K.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Xo.credentialFromResult(_);const p=d.providerId;if(!p||p===$e.PASSWORD)return null;let I;switch(p){case $e.GOOGLE:I=ms;break;case $e.FACEBOOK:I=Bs;break;case $e.GITHUB:I=Vs;break;case $e.TWITTER:I=bo;break;default:const{oauthIdToken:H,oauthAccessToken:Q,oauthTokenSecret:Le,pendingToken:vt,nonce:nn}=d;return Q||Le||H||vt?vt?p.startsWith("saml.")?hr._create(p,vt):Gn._fromParams({providerId:p,signInMethod:p,pendingToken:vt,idToken:H,accessToken:Q}):new Zs(p).credential({idToken:H,accessToken:Q,rawNonce:nn}):null}return _ instanceof K.ZR?I.credentialFromError(_):I.credentialFromResult(_)}function vo(_,d){return d.catch(p=>{throw p instanceof K.ZR&&function og(_,d){var p;const I=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new ag(_,function Rs(_,d){var p;const I=(0,K.m9)(_),H=d;return ve(d.customData.operationType,I,"argument-error"),ve(null===(p=H.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),zs._fromError(I,H)}(_,d));else if(I){const H=ss(d),Q=d;H&&(Q.credential=H,Q.tenantId=I.tenantId||void 0,Q.email=I.email||void 0,Q.phoneNumber=I.phoneNumber||void 0)}}(_,p),p}).then(p=>{const H=p.user;return{operationType:p.operationType,credential:hh(p),additionalUserInfo:k(p),user:es.getOrCreate(H)}})}function gc(_,d){return fd.apply(this,arguments)}function fd(){return(fd=(0,f.Z)(function*(_,d){const p=yield d;return{verificationId:p.verificationId,confirm:I=>vo(_,p.confirm(I))}})).apply(this,arguments)}class ag{constructor(d,p){this.resolver=p,this.auth=function Gc(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return vo(dh(this.auth),this.resolver.resolveSignIn(d))}}class es{constructor(d){this._delegate=d,this.multiFactor=function fa(_){const d=(0,K.m9)(_);return Cs.has(d)||Cs.set(d,pi._fromUser(d)),Cs.get(d)}(d)}static getOrCreate(d){return es.USER_MAP.has(d)||es.USER_MAP.set(d,new es(d)),es.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,f.Z)(function*(){return vo(p.auth,nl(p._delegate,d))})()}linkWithPhoneNumber(d,p){var I=this;return(0,f.Z)(function*(){return gc(I.auth,function ki(_,d,p){return Ui.apply(this,arguments)}(I._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,f.Z)(function*(){return vo(p.auth,function nh(_,d,p){return xc.apply(this,arguments)}(p._delegate,d,vl))})()}linkWithRedirect(d){var p=this;return(0,f.Z)(function*(){return yield za(Dr(p.auth)),ks(p._delegate,d,vl)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,f.Z)(function*(){return vo(p.auth,ca(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return gc(this.auth,function Nr(_,d,p){return us.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return vo(this.auth,function rc(_,d,p){return ic.apply(this,arguments)}(this._delegate,d,vl))}reauthenticateWithRedirect(d){var p=this;return(0,f.Z)(function*(){return yield za(Dr(p.auth)),Oc(p._delegate,d,vl)})()}sendEmailVerification(d){return function Oo(_,d){return da.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,f.Z)(function*(){return yield function js(_,d){return Gi.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function xs(_,d){return Rl((0,K.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function ha(_,d){return Rl((0,K.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function eo(_,d){return bi.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function xl(_,d){return Sa.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function Uo(_,d,p){return Ta.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}es.USER_MAP=new WeakMap;const mc=ve;let pd=(()=>{class _{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=p.options;mc(H,"invalid-api-key",{appName:p.name}),mc(H,"invalid-api-key",{appName:p.name});const Q=typeof window<"u"?vl:void 0;this._delegate=I.initialize({options:{persistence:hs(H,p.name),popupRedirectResolver:Q}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function Kr(_,d,p){const I=Dr(_);ve(I._canInitEmulator,I,"emulator-config-failed"),ve(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const H=!(null==p||!p.disableWarnings),Q=hi(d),{host:Le,port:vt}=function J(_){const d=hi(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const Q=H[1];return{host:Q,port:q(I.substr(Q.length+1))}}{const[Q,Le]=I.split(":");return{host:Q,port:q(Le)}}}(d);I.config.emulator={url:`${Q}//${Le}${null===vt?"":`:${vt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Le,port:vt,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function De(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,I)}applyActionCode(p){return function En(_,d){return In.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Un(this._delegate,p)}confirmPasswordReset(p,I){return function te(_,d,p){return Tt.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var H=this;return(0,f.Z)(function*(){return vo(H._delegate,function rs(_,d,p){return Hs.apply(this,arguments)}(H._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ua(_,d){return Qs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Vo(_,d){const p=ii.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){mc(hd(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function Jo(_,d){return Fi.apply(this,arguments)}(p._delegate,vl);return I?vo(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function $l(_,d){Dr(_)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,I,H){const{next:Q,error:Le,complete:vt}=yl(p,I,H);return this._delegate.onAuthStateChanged(Q,Le,vt)}onIdTokenChanged(p,I,H){const{next:Q,error:Le,complete:vt}=yl(p,I,H);return this._delegate.onIdTokenChanged(Q,Le,vt)}sendSignInLinkToEmail(p,I){return function Xs(_,d,p){return Bo.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function E(_,d,p){return F.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,f.Z)(function*(){let H;switch(function fc(_,d){jc(Object.values(zo).includes(d),_,"invalid-persistence-type"),(0,K.b$)()?jc(d!==zo.SESSION,_,"unsupported-persistence-type"):(0,K.UG)()?jc(d===zo.NONE,_,"unsupported-persistence-type"):mf()?jc(d===zo.NONE||d===zo.LOCAL&&(0,K.hl)(),_,"unsupported-persistence-type"):jc(d===zo.NONE||jr(),_,"unsupported-persistence-type")}(I._delegate,p),p){case zo.SESSION:H=Ws;break;case zo.LOCAL:H=(yield sn(So)._isAvailable())?So:To;break;case zo.NONE:H=zn;break;default:return He("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return vo(this._delegate,function ji(_){return la.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return vo(this._delegate,Co(this._delegate,p))}signInWithCustomToken(p){return vo(this._delegate,function oe(_,d){return $.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return vo(this._delegate,function bs(_,d,p){return Co((0,K.m9)(_),$s.credential(d,p))}(this._delegate,p,I))}signInWithEmailLink(p,I){return vo(this._delegate,function Ki(_,d,p){return Fa.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return gc(this._delegate,function bn(_,d,p){return Wn.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,f.Z)(function*(){return mc(hd(),I._delegate,"operation-not-supported-in-this-environment"),vo(I._delegate,function ll(_,d,p){return $a.apply(this,arguments)}(I._delegate,p,vl))})()}signInWithRedirect(p){var I=this;return(0,f.Z)(function*(){return mc(hd(),I._delegate,"operation-not-supported-in-this-environment"),yield za(I._delegate),cl(I._delegate,p,vl)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Xr(_,d){return ns.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=zo,_})();function yl(_,d,p){let I=_;"function"!=typeof _&&({next:I,error:d,complete:p}=_);const H=I;return{next:Le=>H(Le&&es.getOrCreate(Le)),error:d,complete:p}}function hs(_,d){const p=function Ga(_,d){const p=Hc();if(!p)return[];const I=ke(Bl,_,d);switch(p.getItem(I)){case zo.NONE:return[zn];case zo.LOCAL:return[So,Ws];case zo.SESSION:return[Ws];default:return[]}}(_,d);if(typeof self<"u"&&!p.includes(So)&&p.push(So),typeof window<"u")for(const I of[To,Ws])p.includes(I)||p.push(I);return p.includes(zn)||p.push(zn),p}class Vl{constructor(){this.providerId="phone",this._delegate=new Xo(dh(g.Z.auth()))}static credential(d,p){return Xo.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Vl.PHONE_SIGN_IN_METHOD=Xo.PHONE_SIGN_IN_METHOD,Vl.PROVIDER_ID=Xo.PROVIDER_ID;const fh=ve;class ph{constructor(d,p,I=g.Z.app()){var H;fh(null===(H=I.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new at(d,p,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gd(_){_.INTERNAL.registerComponent(new he.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),I=d.getProvider("auth");return new pd(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$s,FacebookAuthProvider:Bs,GithubAuthProvider:Vs,GoogleAuthProvider:ms,OAuthProvider:Zs,SAMLAuthProvider:ts,PhoneAuthProvider:Vl,PhoneMultiFactorGenerator:sh,RecaptchaVerifier:ph,TwitterAuthProvider:bo,Auth:pd,AuthCredential:Pe,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(g.Z)},95:(rn,it,x)=>{"use strict";x.d(it,{qu:()=>Co,NI:()=>Pe,oH:()=>wr,u:()=>gs,cw:()=>An,sg:()=>Gn,u5:()=>ca,nD:()=>Us,Fd:()=>hr,qQ:()=>ts,Cf:()=>qe,JU:()=>Ce,a5:()=>Rn,JJ:()=>Pn,JL:()=>$n,F:()=>J,On:()=>Ke,c5:()=>Gi,UX:()=>ka,Q7:()=>Oi,kI:()=>ve,_Y:()=>lt});var f=x(5879),g=x(6814),K=x(2459),ne=x(5592),Te=x(7453),Ee=x(4829),he=x(4564),Ge=x(8251),$e=x(7400),ue=x(2714),be=x(7398);let Ae=(()=>{var B;class P{constructor($,de){this._renderer=$,this._elementRef=de,this.onChange=Gt=>{},this.onTouched=()=>{}}setProperty($,de){this._renderer.setProperty(this._elementRef.nativeElement,$,de)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(f.Qsj),f.Y36(f.SBq))},B.\u0275dir=f.lG2({type:B}),P})(),Ne=(()=>{var B;class P extends Ae{}return(B=P).\u0275fac=function(){let oe;return function(de){return(oe||(oe=f.n5z(B)))(de||B)}}(),B.\u0275dir=f.lG2({type:B,features:[f.qOj]}),P})();const Ce=new f.OlP("NgValueAccessor"),Ie={provide:Ce,useExisting:(0,f.Gpc)(()=>Re),multi:!0},ut=new f.OlP("CompositionEventMode");let Re=(()=>{var B;class P extends Ae{constructor($,de,Gt){super($,de),this._compositionMode=Gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const B=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue($){this.setProperty("value",null==$?"":$)}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(ut,8))},B.\u0275dir=f.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,de){1&$&&f.NdJ("input",function(y){return de._handleInput(y.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(y){return de._compositionEnd(y.target.value)})},features:[f._Bn([Ie]),f.qOj]}),P})();function He(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function ge(B){return null!=B&&"number"==typeof B.length}const qe=new f.OlP("NgValidators"),Me=new f.OlP("NgAsyncValidators"),se=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ve{static min(P){return Oe(P)}static max(P){return Qe(P)}static required(P){return ct(P)}static requiredTrue(P){return function dt(B){return!0===B.value?null:{required:!0}}(P)}static email(P){return function Vt(B){return He(B.value)||se.test(B.value)?null:{email:!0}}(P)}static minLength(P){return function mn(B){return P=>He(P.value)||!ge(P.value)?null:P.value.length<B?{minlength:{requiredLength:B,actualLength:P.value.length}}:null}(P)}static maxLength(P){return Qt(P)}static pattern(P){return ht(P)}static nullValidator(P){return null}static compose(P){return At(P)}static composeAsync(P){return Xe(P)}}function Oe(B){return P=>{if(He(P.value)||He(B))return null;const oe=parseFloat(P.value);return!isNaN(oe)&&oe<B?{min:{min:B,actual:P.value}}:null}}function Qe(B){return P=>{if(He(P.value)||He(B))return null;const oe=parseFloat(P.value);return!isNaN(oe)&&oe>B?{max:{max:B,actual:P.value}}:null}}function ct(B){return He(B.value)?{required:!0}:null}function Qt(B){return P=>ge(P.value)&&P.value.length>B?{maxlength:{requiredLength:B,actualLength:P.value.length}}:null}function ht(B){if(!B)return ie;let P,oe;return"string"==typeof B?(oe="","^"!==B.charAt(0)&&(oe+="^"),oe+=B,"$"!==B.charAt(B.length-1)&&(oe+="$"),P=new RegExp(oe)):(oe=B.toString(),P=B),$=>{if(He($.value))return null;const de=$.value;return P.test(de)?null:{pattern:{requiredPattern:oe,actualValue:de}}}}function ie(B){return null}function ye(B){return null!=B}function Se(B){return(0,f.QGY)(B)?(0,K.D)(B):B}function Ze(B){let P={};return B.forEach(oe=>{P=null!=oe?{...P,...oe}:P}),0===Object.keys(P).length?null:P}function rt(B,P){return P.map(oe=>oe(B))}function Rt(B){return B.map(P=>function tt(B){return!B.validate}(P)?P:oe=>P.validate(oe))}function At(B){if(!B)return null;const P=B.filter(ye);return 0==P.length?null:function(oe){return Ze(rt(oe,P))}}function Ht(B){return null!=B?At(Rt(B)):null}function Xe(B){if(!B)return null;const P=B.filter(ye);return 0==P.length?null:function(oe){return function le(...B){const P=(0,he.jO)(B),{args:oe,keys:$}=(0,Te.D)(B),de=new ne.y(Gt=>{const{length:y}=oe;if(!y)return void Gt.complete();const V=new Array(y);let E=y,F=y;for(let te=0;te<y;te++){let Tt=!1;(0,Ee.Xf)(oe[te]).subscribe((0,Ge.x)(Gt,En=>{Tt||(Tt=!0,F--),V[te]=En},()=>E--,void 0,()=>{(!E||!Tt)&&(F||Gt.next($?(0,ue.n)($,V):V),Gt.complete())}))}});return P?de.pipe((0,$e.Z)(P)):de}(rt(oe,P).map(Se)).pipe((0,be.U)(Ze))}}function Cn(B){return null!=B?Xe(Rt(B)):null}function yt(B,P){return null===B?[P]:Array.isArray(B)?[...B,P]:[B,P]}function gt(B){return B._rawValidators}function mt(B){return B._rawAsyncValidators}function Ut(B){return B?Array.isArray(B)?B:[B]:[]}function tn(B,P){return Array.isArray(B)?B.includes(P):B===P}function Hn(B,P){const oe=Ut(P);return Ut(B).forEach(de=>{tn(oe,de)||oe.push(de)}),oe}function kn(B,P){return Ut(P).filter(oe=>!tn(B,oe))}class dn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,oe){return!!this.control&&this.control.hasError(P,oe)}getError(P,oe){return this.control?this.control.getError(P,oe):null}}class gn extends dn{get formDirective(){return null}get path(){return null}}class Rn extends dn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let Pn=(()=>{var B;class P extends xr{constructor($){super($)}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(Rn,2))},B.\u0275dir=f.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,de){2&$&&f.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[f.qOj]}),P})(),$n=(()=>{var B;class P extends xr{constructor($){super($)}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(gn,10))},B.\u0275dir=f.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,de){2&$&&f.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[f.qOj]}),P})();const Kt="VALID",sn="INVALID",vn="PENDING",zn="DISABLED";function ke(B){return(ee(B)?B.validators:B)||null}function Y(B,P){return(ee(P)?P.asyncValidators:B)||null}function ee(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function Be(B,P,oe){const $=B.controls;if(!(P?Object.keys($):$).length)throw new f.vHH(1e3,"");if(!$[oe])throw new f.vHH(1001,"")}function bt(B,P,oe){B._forEachChild(($,de)=>{if(void 0===oe[de])throw new f.vHH(1002,"")})}class kt{constructor(P,oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(oe)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===sn}get pending(){return this.status==vn}get disabled(){return this.status===zn}get enabled(){return this.status!==zn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(Hn(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(Hn(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(kn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(kn(P,this._rawAsyncValidators))}hasValidator(P){return tn(this._rawValidators,P)}hasAsyncValidator(P){return tn(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(oe=>{oe.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(oe=>{oe.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=vn,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const oe=this._parentMarkedDirty(P.onlySelf);this.status=zn,this.errors=null,this._forEachChild($=>{$.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:oe}),this._onDisabledChange.forEach($=>$(!0))}enable(P={}){const oe=this._parentMarkedDirty(P.onlySelf);this.status=Kt,this._forEachChild($=>{$.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:oe}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===vn)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(oe=>oe._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zn:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=vn,this._hasOwnPendingAsyncValidator=!0;const oe=Se(this.asyncValidator(this));this._asyncValidationSubscription=oe.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,oe={}){this.errors=P,this._updateControlsErrors(!1!==oe.emitEvent)}get(P){let oe=P;return null==oe||(Array.isArray(oe)||(oe=oe.split(".")),0===oe.length)?null:oe.reduce(($,de)=>$&&$._find(de),this)}getError(P,oe){const $=oe?this.get(oe):this;return $&&$.errors?$.errors[P]:null}hasError(P,oe){return!!this.getError(P,oe)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?zn:this.errors?sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vn)?vn:this._anyControlsHaveStatus(sn)?sn:Kt}_anyControlsHaveStatus(P){return this._anyControls(oe=>oe.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){ee(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function Z(B){return Array.isArray(B)?Ht(B):B||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function xe(B){return Array.isArray(B)?Cn(B):B||null}(this._rawAsyncValidators)}}class An extends kt{constructor(P,oe,$){super(ke(oe),Y($,oe)),this.controls=P,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,oe){return this.controls[P]?this.controls[P]:(this.controls[P]=oe,oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange),oe)}addControl(P,oe,$={}){this.registerControl(P,oe),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(P,oe={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}setControl(P,oe,$={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],oe&&this.registerControl(P,oe),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,oe={}){bt(this,0,P),Object.keys(P).forEach($=>{Be(this,!0,$),this.controls[$].setValue(P[$],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(P,oe={}){null!=P&&(Object.keys(P).forEach($=>{const de=this.controls[$];de&&de.patchValue(P[$],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(P={},oe={}){this._forEachChild(($,de)=>{$.reset(P[de],{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe),this._updateTouched(oe),this.updateValueAndValidity(oe)}getRawValue(){return this._reduceChildren({},(P,oe,$)=>(P[$]=oe.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(oe,$)=>!!$._syncPendingControls()||oe);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(oe=>{const $=this.controls[oe];$&&P($,oe)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[oe,$]of Object.entries(this.controls))if(this.contains(oe)&&P($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(oe,$,de)=>(($.enabled||this.disabled)&&(oe[de]=$.value),oe))}_reduceChildren(P,oe){let $=P;return this._forEachChild((de,Gt)=>{$=oe($,de,Gt)}),$}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}class Yn extends An{}const nt=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Fe}),Fe="always";function _t(B,P){return[...P.path,B]}function ft(B,P,oe=Fe){var $,de;Zt(B,P),P.valueAccessor.writeValue(B.value),(B.disabled||"always"===oe)&&(null===($=(de=P.valueAccessor).setDisabledState)||void 0===$||$.call(de,B.disabled)),function Qn(B,P){P.valueAccessor.registerOnChange(oe=>{B._pendingValue=oe,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&xi(B,P)})}(B,P),function dr(B,P){const oe=($,de)=>{P.valueAccessor.writeValue($),de&&P.viewToModelUpdate($)};B.registerOnChange(oe),P._registerOnDestroy(()=>{B._unregisterOnChange(oe)})}(B,P),function Gr(B,P){P.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&xi(B,P),"submit"!==B.updateOn&&B.markAsTouched()})}(B,P),function Sn(B,P){if(P.valueAccessor.setDisabledState){const oe=$=>{P.valueAccessor.setDisabledState($)};B.registerOnDisabledChange(oe),P._registerOnDestroy(()=>{B._unregisterOnDisabledChange(oe)})}}(B,P)}function qt(B,P,oe=!0){const $=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange($),P.valueAccessor.registerOnTouched($)),er(B,P),B&&(P._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function jt(B,P){B.forEach(oe=>{oe.registerOnValidatorChange&&oe.registerOnValidatorChange(P)})}function Zt(B,P){const oe=gt(B);null!==P.validator?B.setValidators(yt(oe,P.validator)):"function"==typeof oe&&B.setValidators([oe]);const $=mt(B);null!==P.asyncValidator?B.setAsyncValidators(yt($,P.asyncValidator)):"function"==typeof $&&B.setAsyncValidators([$]);const de=()=>B.updateValueAndValidity();jt(P._rawValidators,de),jt(P._rawAsyncValidators,de)}function er(B,P){let oe=!1;if(null!==B){if(null!==P.validator){const de=gt(B);if(Array.isArray(de)&&de.length>0){const Gt=de.filter(y=>y!==P.validator);Gt.length!==de.length&&(oe=!0,B.setValidators(Gt))}}if(null!==P.asyncValidator){const de=mt(B);if(Array.isArray(de)&&de.length>0){const Gt=de.filter(y=>y!==P.asyncValidator);Gt.length!==de.length&&(oe=!0,B.setAsyncValidators(Gt))}}}const $=()=>{};return jt(P._rawValidators,$),jt(P._rawAsyncValidators,$),oe}function xi(B,P){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function Or(B,P){Zt(B,P)}function Br(B,P){if(!B.hasOwnProperty("model"))return!1;const oe=B.model;return!!oe.isFirstChange()||!Object.is(P,oe.currentValue)}function Dr(B,P){B._syncPendingControls(),P.forEach(oe=>{const $=oe.control;"submit"===$.updateOn&&$._pendingChange&&(oe.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}function Ti(B,P){if(!P)return null;let oe,$,de;return Array.isArray(P),P.forEach(Gt=>{Gt.constructor===Re?oe=Gt:function Ci(B){return Object.getPrototypeOf(B.constructor)===Ne}(Gt)?$=Gt:de=Gt}),de||$||oe||null}const Kr={provide:gn,useExisting:(0,f.Gpc)(()=>J)},hi=(()=>Promise.resolve())();let J=(()=>{var B;class P extends gn{constructor($,de,Gt){super(),this.callSetDisabledState=Gt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new An({},Ht($),Cn(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){hi.then(()=>{const de=this._findContainer($.path);$.control=de.registerControl($.name,$.control),ft($.control,$,this.callSetDisabledState),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){hi.then(()=>{const de=this._findContainer($.path);de&&de.removeControl($.name),this._directives.delete($)})}addFormGroup($){hi.then(()=>{const de=this._findContainer($.path),Gt=new An({});Or(Gt,$),de.registerControl($.name,Gt),Gt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){hi.then(()=>{const de=this._findContainer($.path);de&&de.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,de){hi.then(()=>{this.form.get($.path).setValue(de)})}setValue($){this.control.setValue($)}onSubmit($){var de;return this.submitted=!0,Dr(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(de=$.target)||void 0===de?void 0:de.method)}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(qe,10),f.Y36(Me,10),f.Y36(nt,8))},B.\u0275dir=f.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,de){1&$&&f.NdJ("submit",function(y){return de.onSubmit(y)})("reset",function(){return de.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Kr]),f.qOj]}),P})();function q(B,P){const oe=B.indexOf(P);oe>-1&&B.splice(oe,1)}function De(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const Pe=class extends kt{constructor(P=null,oe,$){super(ke(oe),Y($,oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(oe)&&(oe.nonNullable||oe.initialValueIsDefault)&&(this.defaultValue=De(P)?P.value:P)}setValue(P,oe={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==oe.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==oe.emitViewToModelChange)),this.updateValueAndValidity(oe)}patchValue(P,oe={}){this.setValue(P,oe)}reset(P=this.defaultValue,oe={}){this._applyFormState(P),this.markAsPristine(oe),this.markAsUntouched(oe),this.setValue(this.value,oe),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){q(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){q(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){De(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},ur={provide:Rn,useExisting:(0,f.Gpc)(()=>Ke)},Je=(()=>Promise.resolve())();let Ke=(()=>{var B;class P extends Rn{constructor($,de,Gt,y,V,E){super(),this._changeDetectorRef=V,this.callSetDisabledState=E,this.control=new Pe,this._registered=!1,this.name="",this.update=new f.vpe,this._parent=$,this._setValidators(de),this._setAsyncValidators(Gt),this.valueAccessor=Ti(0,y)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const de=$.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),Br($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ft(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){Je.then(()=>{var de;this.control.setValue($,{emitViewToModelChange:!1}),null===(de=this._changeDetectorRef)||void 0===de||de.markForCheck()})}_updateDisabled($){const de=$.isDisabled.currentValue,Gt=0!==de&&(0,f.VuI)(de);Je.then(()=>{var y;Gt&&!this.control.disabled?this.control.disable():!Gt&&this.control.disabled&&this.control.enable(),null===(y=this._changeDetectorRef)||void 0===y||y.markForCheck()})}_getPath($){return this._parent?_t($,this._parent):[$]}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(gn,9),f.Y36(qe,10),f.Y36(Me,10),f.Y36(Ce,10),f.Y36(f.sBO,8),f.Y36(nt,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([ur]),f.qOj,f.TTD]}),P})(),lt=(()=>{var B;class P{}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275dir=f.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),sr=(()=>{var B;class P{}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({}),P})();const no=new f.OlP("NgModelWithFormControlWarning"),Es={provide:Rn,useExisting:(0,f.Gpc)(()=>wr)};let wr=(()=>{var B;class P extends Rn{set isDisabled($){}constructor($,de,Gt,y,V){super(),this._ngModelWarningConfig=y,this.callSetDisabledState=V,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(de),this.valueAccessor=Ti(0,Gt)}ngOnChanges($){if(this._isControlChanged($)){const de=$.form.previousValue;de&&qt(de,this,!1),ft(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Br($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return(B=P)._ngModelWarningSentOnce=!1,B.\u0275fac=function($){return new($||B)(f.Y36(qe,10),f.Y36(Me,10),f.Y36(Ce,10),f.Y36(no,8),f.Y36(nt,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([Es]),f.qOj,f.TTD]}),P})();const yn={provide:gn,useExisting:(0,f.Gpc)(()=>Gn)};let Gn=(()=>{var B;class P extends gn{constructor($,de,Gt){super(),this.callSetDisabledState=Gt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators($),this._setAsyncValidators(de)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const de=this.form.get($.path);return ft(de,$,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push($),de}getControl($){return this.form.get($.path)}removeControl($){qt($.control||null,$,!1),function Ei(B,P){const oe=B.indexOf(P);oe>-1&&B.splice(oe,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,de){this.form.get($.path).setValue(de)}onSubmit($){var de;return this.submitted=!0,Dr(this.form,this.directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(de=$.target)||void 0===de?void 0:de.method)}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const de=$.control,Gt=this.form.get($.path);de!==Gt&&(qt(de||null,$),(B=>B instanceof Pe)(Gt)&&(ft(Gt,$,this.callSetDisabledState),$.control=Gt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const de=this.form.get($.path);Or(de,$),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const de=this.form.get($.path);de&&function Mr(B,P){return er(B,P)}(de,$)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&er(this._oldForm,this)}_checkFormPresent(){}}return(B=P).\u0275fac=function($){return new($||B)(f.Y36(qe,10),f.Y36(Me,10),f.Y36(nt,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function($,de){1&$&&f.NdJ("submit",function(y){return de.onSubmit(y)})("reset",function(){return de.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([yn]),f.qOj,f.TTD]}),P})();const ri={provide:Rn,useExisting:(0,f.Gpc)(()=>gs)};let gs=(()=>{var B;class P extends Rn{set isDisabled($){}constructor($,de,Gt,y,V){super(),this._ngModelWarningConfig=V,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(de),this._setAsyncValidators(Gt),this.valueAccessor=Ti(0,y)}ngOnChanges($){this._added||this._setUpControl(),Br($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return _t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(B=P)._ngModelWarningSentOnce=!1,B.\u0275fac=function($){return new($||B)(f.Y36(gn,13),f.Y36(qe,10),f.Y36(Me,10),f.Y36(Ce,10),f.Y36(no,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([ri]),f.qOj,f.TTD]}),P})();function ms(B){return"number"==typeof B?B:parseFloat(B)}let Vs=(()=>{var B;class P{constructor(){this._validator=ie}ngOnChanges($){if(this.inputName in $){const de=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):ie,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275dir=f.lG2({type:B,features:[f.TTD]}),P})();const uo={provide:qe,useExisting:(0,f.Gpc)(()=>hr),multi:!0};let hr=(()=>{var B;class P extends Vs{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=$=>ms($),this.createValidator=$=>Qe($)}}return(B=P).\u0275fac=function(){let oe;return function(de){return(oe||(oe=f.n5z(B)))(de||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($,de){2&$&&f.uIk("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[f._Bn([uo]),f.qOj]}),P})();const ho={provide:qe,useExisting:(0,f.Gpc)(()=>ts),multi:!0};let ts=(()=>{var B;class P extends Vs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>ms($),this.createValidator=$=>Oe($)}}return(B=P).\u0275fac=function(){let oe;return function(de){return(oe||(oe=f.n5z(B)))(de||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,de){2&$&&f.uIk("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[f._Bn([ho]),f.qOj]}),P})();const bo={provide:qe,useExisting:(0,f.Gpc)(()=>Oi),multi:!0};let Oi=(()=>{var B;class P extends Vs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.VuI,this.createValidator=$=>ct}enabled($){return $}}return(B=P).\u0275fac=function(){let oe;return function(de){return(oe||(oe=f.n5z(B)))(de||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,de){2&$&&f.uIk("required",de._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([bo]),f.qOj]}),P})();const Hi={provide:qe,useExisting:(0,f.Gpc)(()=>Us),multi:!0};let Us=(()=>{var B;class P extends Vs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=$=>function Bs(B){return"number"==typeof B?B:parseInt(B,10)}($),this.createValidator=$=>Qt($)}}return(B=P).\u0275fac=function(){let oe;return function(de){return(oe||(oe=f.n5z(B)))(de||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,de){2&$&&f.uIk("maxlength",de._enabled?de.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([Hi]),f.qOj]}),P})();const js={provide:qe,useExisting:(0,f.Gpc)(()=>Gi),multi:!0};let Gi=(()=>{var B;class P extends Vs{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=$=>$,this.createValidator=$=>ht($)}}return(B=P).\u0275fac=function(){let oe;return function(de){return(oe||(oe=f.n5z(B)))(de||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function($,de){2&$&&f.uIk("pattern",de._enabled?de.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([js]),f.qOj]}),P})(),Lo=(()=>{var B;class P{}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({imports:[sr]}),P})();class Ro extends kt{constructor(P,oe,$){super(ke(oe),Y($,oe)),this.controls=P,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[this._adjustIndex(P)]}push(P,oe={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}insert(P,oe,$={}){this.controls.splice(P,0,oe),this._registerControl(oe),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(P,oe={}){let $=this._adjustIndex(P);$<0&&($=0),this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:oe.emitEvent})}setControl(P,oe,$={}){let de=this._adjustIndex(P);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),oe&&(this.controls.splice(de,0,oe),this._registerControl(oe)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,oe={}){bt(this,0,P),P.forEach(($,de)=>{Be(this,!1,de),this.at(de).setValue($,{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(P,oe={}){null!=P&&(P.forEach(($,de)=>{this.at(de)&&this.at(de).patchValue($,{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(P=[],oe={}){this._forEachChild(($,de)=>{$.reset(P[de],{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe),this._updateTouched(oe),this.updateValueAndValidity(oe)}getRawValue(){return this.controls.map(P=>P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(oe=>oe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_adjustIndex(P){return P<0?P+this.length:P}_syncPendingControls(){let P=this.controls.reduce((oe,$)=>!!$._syncPendingControls()||oe,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){this.controls.forEach((oe,$)=>{P(oe,$)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(oe=>oe.enabled&&P(oe))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}_find(P){var oe;return null!==(oe=this.at(P))&&void 0!==oe?oe:null}}function fo(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let Co=(()=>{var B;class P{constructor(){this.useNonNullable=!1}get nonNullable(){const $=new P;return $.useNonNullable=!0,$}group($,de=null){const Gt=this._reduceControls($);let y={};return fo(de)?y=de:null!==de&&(y.validators=de.validator,y.asyncValidators=de.asyncValidator),new An(Gt,y)}record($,de=null){const Gt=this._reduceControls($);return new Yn(Gt,de)}control($,de,Gt){let y={};return this.useNonNullable?(fo(de)?y=de:(y.validators=de,y.asyncValidators=Gt),new Pe($,{...y,nonNullable:!0})):new Pe($,de,Gt)}array($,de,Gt){const y=$.map(V=>this._createControl(V));return new Ro(y,de,Gt)}_reduceControls($){const de={};return Object.keys($).forEach(Gt=>{de[Gt]=this._createControl($[Gt])}),de}_createControl($){return $ instanceof Pe||$ instanceof kt?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275prov=f.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),P})(),ca=(()=>{var B;class P{static withConfig($){var de;return{ngModule:P,providers:[{provide:nt,useValue:null!==(de=$.callSetDisabledState)&&void 0!==de?de:Fe}]}}}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({imports:[Lo]}),P})(),ka=(()=>{var B;class P{static withConfig($){var de,Gt;return{ngModule:P,providers:[{provide:no,useValue:null!==(de=$.warnOnNgModelWithFormControl)&&void 0!==de?de:"always"},{provide:nt,useValue:null!==(Gt=$.callSetDisabledState)&&void 0!==Gt?Gt:Fe}]}}}return(B=P).\u0275fac=function($){return new($||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({imports:[Lo]}),P})()},6593:(rn,it,x)=>{"use strict";x.d(it,{Dx:()=>Rn,H7:()=>ni,b2:()=>tn,q6:()=>yt});var f=x(5879),g=x(6814);class K extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends K{static makeCurrent(){(0,g.HT)(new ne)}onAndCancel(Y,xe,ee){return Y.addEventListener(xe,ee),()=>{Y.removeEventListener(xe,ee)}}dispatchEvent(Y,xe){Y.dispatchEvent(xe)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,xe){return(xe=xe||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,xe){return"window"===xe?window:"document"===xe?Y:"body"===xe?Y.body:null}getBaseHref(Y){const xe=function Ee(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==xe?null:function Ge(Z){he=he||document.createElement("a"),he.setAttribute("href",Z);const Y=he.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(xe)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,g.Mx)(document.cookie,Y)}}let he,Te=null,ue=(()=>{var Z;class Y{build(){return new XMLHttpRequest}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const le=new f.OlP("EventManagerPlugins");let be=(()=>{var Z;class Y{constructor(ee,Be){this._zone=Be,this._eventNameToPlugin=new Map,ee.forEach(bt=>{bt.manager=this}),this._plugins=ee.slice().reverse()}addEventListener(ee,Be,bt){return this._findPluginFor(Be).addEventListener(ee,Be,bt)}getZone(){return this._zone}_findPluginFor(ee){let Be=this._eventNameToPlugin.get(ee);if(Be)return Be;if(Be=this._plugins.find(kt=>kt.supports(ee)),!Be)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(ee,Be),Be}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(le),f.LFG(f.R0b))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Y})();class Ae{constructor(Y){this._doc=Y}}const Ne="ng-app-id";let Ce=(()=>{var Z;class Y{constructor(ee,Be,bt,kt={}){this.doc=ee,this.appId=Be,this.nonce=bt,this.platformId=kt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.PM)(kt),this.resetHostNodes()}addStyles(ee){for(const Be of ee)1===this.changeUsageCount(Be,1)&&this.onStyleAdded(Be)}removeStyles(ee){for(const Be of ee)this.changeUsageCount(Be,-1)<=0&&this.onStyleRemoved(Be)}ngOnDestroy(){const ee=this.styleNodesInDOM;ee&&(ee.forEach(Be=>Be.remove()),ee.clear());for(const Be of this.getAllStyles())this.onStyleRemoved(Be);this.resetHostNodes()}addHost(ee){this.hostNodes.add(ee);for(const Be of this.getAllStyles())this.addStyleToHost(ee,Be)}removeHost(ee){this.hostNodes.delete(ee)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ee){for(const Be of this.hostNodes)this.addStyleToHost(Be,ee)}onStyleRemoved(ee){var Be;const bt=this.styleRef;null===(Be=bt.get(ee))||void 0===Be||null===(Be=Be.elements)||void 0===Be||Be.forEach(kt=>kt.remove()),bt.delete(ee)}collectServerRenderedStyles(){var ee;const Be=null===(ee=this.doc.head)||void 0===ee?void 0:ee.querySelectorAll(`style[${Ne}="${this.appId}"]`);if(null!=Be&&Be.length){const bt=new Map;return Be.forEach(kt=>{null!=kt.textContent&&bt.set(kt.textContent,kt)}),bt}return null}changeUsageCount(ee,Be){const bt=this.styleRef;if(bt.has(ee)){const kt=bt.get(ee);return kt.usage+=Be,kt.usage}return bt.set(ee,{usage:Be,elements:[]}),Be}getStyleElement(ee,Be){const bt=this.styleNodesInDOM,kt=null==bt?void 0:bt.get(Be);if((null==kt?void 0:kt.parentNode)===ee)return bt.delete(Be),kt.removeAttribute(Ne),kt;{const An=this.doc.createElement("style");return this.nonce&&An.setAttribute("nonce",this.nonce),An.textContent=Be,this.platformIsServer&&An.setAttribute(Ne,this.appId),An}}addStyleToHost(ee,Be){var bt;const kt=this.getStyleElement(ee,Be);ee.appendChild(kt);const An=this.styleRef,en=null===(bt=An.get(Be))||void 0===bt?void 0:bt.elements;en?en.push(kt):An.set(Be,{elements:[kt],usage:1})}resetHostNodes(){const ee=this.hostNodes;ee.clear(),ee.add(this.doc.head)}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(g.K0),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g,He=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Me(Z,Y){return Y.map(xe=>xe.replace(Ve,Z))}let se=(()=>{var Z;class Y{constructor(ee,Be,bt,kt,An,en,Fn,Yn=null){this.eventManager=ee,this.sharedStylesHost=Be,this.appId=bt,this.removeStylesOnCompDestroy=kt,this.doc=An,this.platformId=en,this.ngZone=Fn,this.nonce=Yn,this.rendererByCompId=new Map,this.platformIsServer=(0,g.PM)(en),this.defaultRenderer=new ve(ee,An,Fn,this.platformIsServer)}createRenderer(ee,Be){if(!ee||!Be)return this.defaultRenderer;this.platformIsServer&&Be.encapsulation===f.ifc.ShadowDom&&(Be={...Be,encapsulation:f.ifc.Emulated});const bt=this.getOrCreateRenderer(ee,Be);return bt instanceof mn?bt.applyToHost(ee):bt instanceof Vt&&bt.applyStyles(),bt}getOrCreateRenderer(ee,Be){const bt=this.rendererByCompId;let kt=bt.get(Be.id);if(!kt){const An=this.doc,en=this.ngZone,Fn=this.eventManager,Yn=this.sharedStylesHost,Rr=this.removeStylesOnCompDestroy,nt=this.platformIsServer;switch(Be.encapsulation){case f.ifc.Emulated:kt=new mn(Fn,Yn,Be,this.appId,Rr,An,en,nt);break;case f.ifc.ShadowDom:return new dt(Fn,Yn,ee,Be,An,en,this.nonce,nt);default:kt=new Vt(Fn,Yn,Be,Rr,An,en,nt)}bt.set(Be.id,kt)}return kt}ngOnDestroy(){this.rendererByCompId.clear()}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(be),f.LFG(Ce),f.LFG(f.AFp),f.LFG(He),f.LFG(g.K0),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Y})();class ve{constructor(Y,xe,ee,Be){this.eventManager=Y,this.doc=xe,this.ngZone=ee,this.platformIsServer=Be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,xe){return xe?this.doc.createElementNS(Ye[xe]||xe,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,xe){(ct(Y)?Y.content:Y).appendChild(xe)}insertBefore(Y,xe,ee){Y&&(ct(Y)?Y.content:Y).insertBefore(xe,ee)}removeChild(Y,xe){Y&&Y.removeChild(xe)}selectRootElement(Y,xe){let ee="string"==typeof Y?this.doc.querySelector(Y):Y;if(!ee)throw new f.vHH(-5104,!1);return xe||(ee.textContent=""),ee}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,xe,ee,Be){if(Be){xe=Be+":"+xe;const bt=Ye[Be];bt?Y.setAttributeNS(bt,xe,ee):Y.setAttribute(xe,ee)}else Y.setAttribute(xe,ee)}removeAttribute(Y,xe,ee){if(ee){const Be=Ye[ee];Be?Y.removeAttributeNS(Be,xe):Y.removeAttribute(`${ee}:${xe}`)}else Y.removeAttribute(xe)}addClass(Y,xe){Y.classList.add(xe)}removeClass(Y,xe){Y.classList.remove(xe)}setStyle(Y,xe,ee,Be){Be&(f.JOm.DashCase|f.JOm.Important)?Y.style.setProperty(xe,ee,Be&f.JOm.Important?"important":""):Y.style[xe]=ee}removeStyle(Y,xe,ee){ee&f.JOm.DashCase?Y.style.removeProperty(xe):Y.style[xe]=""}setProperty(Y,xe,ee){Y[xe]=ee}setValue(Y,xe){Y.nodeValue=xe}listen(Y,xe,ee){if("string"==typeof Y&&!(Y=(0,g.q)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${xe}`);return this.eventManager.addEventListener(Y,xe,this.decoratePreventDefault(ee))}decoratePreventDefault(Y){return xe=>{if("__ngUnwrap__"===xe)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y(xe)):Y(xe))&&xe.preventDefault()}}}function ct(Z){return"TEMPLATE"===Z.tagName&&void 0!==Z.content}class dt extends ve{constructor(Y,xe,ee,Be,bt,kt,An,en){super(Y,bt,kt,en),this.sharedStylesHost=xe,this.hostEl=ee,this.shadowRoot=ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Fn=Me(Be.id,Be.styles);for(const Yn of Fn){const Rr=document.createElement("style");An&&Rr.setAttribute("nonce",An),Rr.textContent=Yn,this.shadowRoot.appendChild(Rr)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,xe){return super.appendChild(this.nodeOrShadowRoot(Y),xe)}insertBefore(Y,xe,ee){return super.insertBefore(this.nodeOrShadowRoot(Y),xe,ee)}removeChild(Y,xe){return super.removeChild(this.nodeOrShadowRoot(Y),xe)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vt extends ve{constructor(Y,xe,ee,Be,bt,kt,An,en){super(Y,bt,kt,An),this.sharedStylesHost=xe,this.removeStylesOnCompDestroy=Be,this.styles=en?Me(en,ee.styles):ee.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mn extends Vt{constructor(Y,xe,ee,Be,bt,kt,An,en){const Fn=Be+"-"+ee.id;super(Y,xe,ee,bt,kt,An,en,Fn),this.contentAttr=function ge(Z){return"_ngcontent-%COMP%".replace(Ve,Z)}(Fn),this.hostAttr=function qe(Z){return"_nghost-%COMP%".replace(Ve,Z)}(Fn)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,xe){const ee=super.createElement(Y,xe);return super.setAttribute(ee,this.contentAttr,""),ee}}let Qt=(()=>{var Z;class Y extends Ae{constructor(ee){super(ee)}supports(ee){return!0}addEventListener(ee,Be,bt){return ee.addEventListener(Be,bt,!1),()=>this.removeEventListener(ee,Be,bt)}removeEventListener(ee,Be,bt){return ee.removeEventListener(Be,bt)}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(g.K0))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const ht=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ye={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let Se=(()=>{var Z;class Y extends Ae{constructor(ee){super(ee)}supports(ee){return null!=Y.parseEventName(ee)}addEventListener(ee,Be,bt){const kt=Y.parseEventName(Be),An=Y.eventCallback(kt.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(ee,kt.domEventName,An))}static parseEventName(ee){const Be=ee.toLowerCase().split("."),bt=Be.shift();if(0===Be.length||"keydown"!==bt&&"keyup"!==bt)return null;const kt=Y._normalizeKey(Be.pop());let An="",en=Be.indexOf("code");if(en>-1&&(Be.splice(en,1),An="code."),ht.forEach(Yn=>{const Rr=Be.indexOf(Yn);Rr>-1&&(Be.splice(Rr,1),An+=Yn+".")}),An+=kt,0!=Be.length||0===kt.length)return null;const Fn={};return Fn.domEventName=bt,Fn.fullKey=An,Fn}static matchEventFullKeyCode(ee,Be){let bt=ie[ee.key]||ee.key,kt="";return Be.indexOf("code.")>-1&&(bt=ee.code,kt="code."),!(null==bt||!bt)&&(bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),ht.forEach(An=>{An!==bt&&(0,ye[An])(ee)&&(kt+=An+".")}),kt+=bt,kt===Be)}static eventCallback(ee,Be,bt){return kt=>{Y.matchEventFullKeyCode(kt,ee)&&bt.runGuarded(()=>Be(kt))}}static _normalizeKey(ee){return"esc"===ee?"escape":ee}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(g.K0))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const yt=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:g.bD},{provide:f.g9A,useValue:function At(){ne.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function Xe(){return(0,f.RDi)(document),document},deps:[]}]),gt=new f.OlP(""),mt=[{provide:f.rWj,useClass:class $e{addToWindow(Y){f.dqk.getAngularTestability=(ee,Be=!0)=>{const bt=Y.findTestabilityInTree(ee,Be);if(null==bt)throw new f.vHH(5103,!1);return bt},f.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(ee=>{const Be=f.dqk.getAllAngularTestabilities();let bt=Be.length,kt=!1;const An=function(en){kt=kt||en,bt--,0==bt&&ee(kt)};Be.forEach(en=>{en.whenStable(An)})})}findTestabilityInTree(Y,xe,ee){if(null==xe)return null;const Be=Y.getTestability(xe);return null!=Be?Be:ee?(0,g.q)().isShadowRoot(xe)?this.findTestabilityInTree(Y,xe.host,!0):this.findTestabilityInTree(Y,xe.parentElement,!0):null}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Ut=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Ht(){return new f.qLn},deps:[]},{provide:le,useClass:Qt,multi:!0,deps:[g.K0,f.R0b,f.Lbi]},{provide:le,useClass:Se,multi:!0,deps:[g.K0]},se,Ce,be,{provide:f.FYo,useExisting:se},{provide:g.JF,useClass:ue,deps:[]},[]];let tn=(()=>{var Z;class Y{constructor(ee){}static withServerTransition(ee){return{ngModule:Y,providers:[{provide:f.AFp,useValue:ee.appId}]}}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(gt,12))},Z.\u0275mod=f.oAB({type:Z}),Z.\u0275inj=f.cJS({providers:[...Ut,...mt],imports:[g.ez,f.hGG]}),Y})(),Rn=(()=>{var Z;class Y{constructor(ee){this._doc=ee}getTitle(){return this._doc.title}setTitle(ee){this._doc.title=ee||""}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(g.K0))},Z.\u0275prov=f.Yz7({token:Z,factory:function(ee){let Be=null;return Be=ee?new ee:function gn(){return new Rn((0,f.LFG)(g.K0))}(),Be},providedIn:"root"}),Y})();typeof window<"u"&&window;let ni=(()=>{var Z;class Y{}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)},Z.\u0275prov=f.Yz7({token:Z,factory:function(ee){let Be=null;return Be=ee?new(ee||Z):f.LFG($r),Be},providedIn:"root"}),Y})(),$r=(()=>{var Z;class Y extends ni{constructor(ee){super(),this._doc=ee}sanitize(ee,Be){if(null==Be)return null;switch(ee){case f.q3G.NONE:return Be;case f.q3G.HTML:return(0,f.qzn)(Be,"HTML")?(0,f.z3N)(Be):(0,f.EiD)(this._doc,String(Be)).toString();case f.q3G.STYLE:return(0,f.qzn)(Be,"Style")?(0,f.z3N)(Be):Be;case f.q3G.SCRIPT:if((0,f.qzn)(Be,"Script"))return(0,f.z3N)(Be);throw new f.vHH(5200,!1);case f.q3G.URL:return(0,f.qzn)(Be,"URL")?(0,f.z3N)(Be):(0,f.mCW)(String(Be));case f.q3G.RESOURCE_URL:if((0,f.qzn)(Be,"ResourceURL"))return(0,f.z3N)(Be);throw new f.vHH(5201,!1);default:throw new f.vHH(5202,!1)}}bypassSecurityTrustHtml(ee){return(0,f.JVY)(ee)}bypassSecurityTrustStyle(ee){return(0,f.L6k)(ee)}bypassSecurityTrustScript(ee){return(0,f.eBb)(ee)}bypassSecurityTrustUrl(ee){return(0,f.LAX)(ee)}bypassSecurityTrustResourceUrl(ee){return(0,f.pB0)(ee)}}return(Z=Y).\u0275fac=function(ee){return new(ee||Z)(f.LFG(g.K0))},Z.\u0275prov=f.Yz7({token:Z,factory:function(ee){let Be=null;return Be=ee?new ee:function Lr(Z){return new $r(Z.get(g.K0))}(f.LFG(f.zs3)),Be},providedIn:"root"}),Y})()},2692:(rn,it,x)=>{"use strict";x.d(it,{gz:()=>ci,y6:()=>lt,OD:()=>Ti,eC:()=>Xe,wm:()=>sl,wN:()=>pr,F0:()=>Cs,rH:()=>il,Bz:()=>nc,Hx:()=>ir});var f=x(5879),g=x(5592),K=x(4674),Te=x(2459),Ee=x(2096),he=x(5619),Ge=x(2572),$e=x(6973),ue=x(5211),le=x(4829);function be(D){return new g.y(S=>{(0,le.Xf)(D()).subscribe(S)})}var Ae=x(8407);function Ne(D,S){const O=(0,K.m)(D)?D:()=>D,b=N=>N.error(O());return new g.y(S?N=>S.schedule(b,0,N):b)}var Ce=x(6232),Ye=x(7394),Ve=x(9360),Ie=x(8251);function me(){return(0,Ve.e)((D,S)=>{let O=null;D._refCount++;const b=(0,Ie.x)(S,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(O=null);const N=D._connection,X=O;O=null,N&&(!X||N===X)&&N.unsubscribe(),S.unsubscribe()});D.subscribe(b),b.closed||(O=D.connect())})}class ut extends g.y{constructor(S,O){super(),this.source=S,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,Ve.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Ye.w0;const O=this.getSubject();S.add(this.source.subscribe((0,Ie.x)(O,void 0,()=>{this._teardown(),O.complete()},b=>{this._teardown(),O.error(b)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Ye.w0.EMPTY)}return S}refCount(){return me()(this)}}var Re=x(8645),He=x(6814),ge=x(7398),qe=x(4664),Me=x(8180),se=x(7921),ve=x(2181),Oe=x(1631),Qe=x(1374),ct=x(6328),dt=x(9397);function Vt(D){return(0,Ve.e)((S,O)=>{let X,b=null,N=!1;b=S.subscribe((0,Ie.x)(O,void 0,void 0,fe=>{X=(0,le.Xf)(D(fe,Vt(D)(S))),b?(b.unsubscribe(),b=null,X.subscribe(O)):N=!0})),N&&(b.unsubscribe(),b=null,X.subscribe(O))})}var mn=x(6699),Qt=x(3572);function ht(D){return D<=0?()=>Ce.E:(0,Ve.e)((S,O)=>{let b=[];S.subscribe((0,Ie.x)(O,N=>{b.push(N),D<b.length&&b.shift()},()=>{for(const N of b)O.next(N);O.complete()},void 0,()=>{b=null}))})}var ie=x(3026),ye=x(2737),rt=x(4716),tt=x(2420),At=x(7537),Ht=x(6593);const Xe="primary",Cn=Symbol("RouteTitle");class yt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O[0]:O}return null}getAll(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function gt(D){return new yt(D)}function mt(D,S,O){const b=O.path.split("/");if(b.length>D.length||"full"===O.pathMatch&&(S.hasChildren()||b.length<D.length))return null;const N={};for(let X=0;X<b.length;X++){const fe=b[X],at=D[X];if(fe.startsWith(":"))N[fe.substring(1)]=at;else if(fe!==at.path)return null}return{consumed:D.slice(0,b.length),posParams:N}}function tn(D,S){const O=D?Object.keys(D):void 0,b=S?Object.keys(S):void 0;if(!O||!b||O.length!=b.length)return!1;let N;for(let X=0;X<O.length;X++)if(N=O[X],!Hn(D[N],S[N]))return!1;return!0}function Hn(D,S){if(Array.isArray(D)&&Array.isArray(S)){if(D.length!==S.length)return!1;const O=[...D].sort(),b=[...S].sort();return O.every((N,X)=>b[X]===N)}return D===S}function kn(D){return D.length>0?D[D.length-1]:null}function dn(D){return function ne(D){return!!D&&(D instanceof g.y||(0,K.m)(D.lift)&&(0,K.m)(D.subscribe))}(D)?D:(0,f.QGY)(D)?(0,Te.D)(Promise.resolve(D)):(0,Ee.of)(D)}const gn={exact:function On(D,S,O){if(!Jn(D.segments,S.segments)||!gr(D.segments,S.segments,O)||D.numberOfChildren!==S.numberOfChildren)return!1;for(const b in S.children)if(!D.children[b]||!On(D.children[b],S.children[b],O))return!1;return!0},subset:$n},Rn={exact:function Er(D,S){return tn(D,S)},subset:function Pn(D,S){return Object.keys(S).length<=Object.keys(D).length&&Object.keys(S).every(O=>Hn(D[O],S[O]))},ignored:()=>!0};function xr(D,S,O){return gn[O.paths](D.root,S.root,O.matrixParams)&&Rn[O.queryParams](D.queryParams,S.queryParams)&&!("exact"===O.fragment&&D.fragment!==S.fragment)}function $n(D,S,O){return ar(D,S,S.segments,O)}function ar(D,S,O,b){if(D.segments.length>O.length){const N=D.segments.slice(0,O.length);return!(!Jn(N,O)||S.hasChildren()||!gr(N,O,b))}if(D.segments.length===O.length){if(!Jn(D.segments,O)||!gr(D.segments,O,b))return!1;for(const N in S.children)if(!D.children[N]||!$n(D.children[N],S.children[N],b))return!1;return!0}{const N=O.slice(0,D.segments.length),X=O.slice(D.segments.length);return!!(Jn(D.segments,N)&&gr(D.segments,N,b)&&D.children[Xe])&&ar(D.children[Xe],S,X,b)}}function gr(D,S,O){return S.every((b,N)=>Rn[O](D[N].parameters,b.parameters))}class Cr{constructor(S=new $t([],{}),O={},b=null){this.root=S,this.queryParams=O,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return Mi.serialize(this)}}class $t{constructor(S,O){this.segments=S,this.children=O,this.parent=null,Object.values(O).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ni(this)}}class Ir{constructor(S,O){this.path=S,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=gt(this.parameters)),this._parameterMap}toString(){return vn(this)}}function Jn(D,S){return D.length===S.length&&D.every((O,b)=>O.path===S[b].path)}let ir=(()=>{var D;class S{}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return new Jr},providedIn:"root"}),S})();class Jr{parse(S){const O=new en(S);return new Cr(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(S){const O=`/${Lr(S.root,!0)}`,b=function ke(D){const S=Object.keys(D).map(O=>{const b=D[O];return Array.isArray(b)?b.map(N=>`${Dt(O)}=${Dt(N)}`).join("&"):`${Dt(O)}=${Dt(b)}`}).filter(O=>!!O);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${O}${b}${"string"==typeof S.fragment?`#${function We(D){return encodeURI(D)}(S.fragment)}`:""}`}}const Mi=new Jr;function ni(D){return D.segments.map(S=>vn(S)).join("/")}function Lr(D,S){if(!D.hasChildren())return ni(D);if(S){const O=D.children[Xe]?Lr(D.children[Xe],!1):"",b=[];return Object.entries(D.children).forEach(([N,X])=>{N!==Xe&&b.push(`${N}:${Lr(X,!1)}`)}),b.length>0?`${O}(${b.join("//")})`:O}{const O=function ti(D,S){let O=[];return Object.entries(D.children).forEach(([b,N])=>{b===Xe&&(O=O.concat(S(N,b)))}),Object.entries(D.children).forEach(([b,N])=>{b!==Xe&&(O=O.concat(S(N,b)))}),O}(D,(b,N)=>N===Xe?[Lr(D.children[Xe],!1)]:[`${N}:${Lr(b,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Xe]?`${ni(D)}/${O[0]}`:`${ni(D)}/(${O.join("//")})`}}function $r(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(D){return $r(D).replace(/%3B/gi,";")}function wt(D){return $r(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kt(D){return decodeURIComponent(D)}function sn(D){return Kt(D.replace(/\+/g,"%20"))}function vn(D){return`${wt(D.path)}${function zn(D){return Object.keys(D).map(S=>`;${wt(S)}=${wt(D[S])}`).join("")}(D.parameters)}`}const Z=/^[^\/()?;#]+/;function Y(D){const S=D.match(Z);return S?S[0]:""}const xe=/^[^\/()?;=#]+/,Be=/^[^=?&#]+/,kt=/^[^&#]+/;class en{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(S.length>0||Object.keys(O).length>0)&&(b[Xe]=new $t(S,O)),b}parseSegment(){const S=Y(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(S),new Ir(Kt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const O=function ee(D){const S=D.match(xe);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let b="";if(this.consumeOptional("=")){const N=Y(this.remaining);N&&(b=N,this.capture(b))}S[Kt(O)]=Kt(b)}parseQueryParam(S){const O=function bt(D){const S=D.match(Be);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let b="";if(this.consumeOptional("=")){const fe=function An(D){const S=D.match(kt);return S?S[0]:""}(this.remaining);fe&&(b=fe,this.capture(b))}const N=sn(O),X=sn(b);if(S.hasOwnProperty(N)){let fe=S[N];Array.isArray(fe)||(fe=[fe],S[N]=fe),fe.push(X)}else S[N]=X}parseParens(S){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Y(this.remaining),N=this.remaining[b.length];if("/"!==N&&")"!==N&&";"!==N)throw new f.vHH(4010,!1);let X;b.indexOf(":")>-1?(X=b.slice(0,b.indexOf(":")),this.capture(X),this.capture(":")):S&&(X=Xe);const fe=this.parseChildren();O[X]=1===Object.keys(fe).length?fe[Xe]:new $t([],fe),this.consumeOptional("//")}return O}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new f.vHH(4011,!1)}}function Fn(D){return D.segments.length>0?new $t([],{[Xe]:D}):D}function Yn(D){const S={};for(const b of Object.keys(D.children)){const X=Yn(D.children[b]);if(b===Xe&&0===X.segments.length&&X.hasChildren())for(const[fe,at]of Object.entries(X.children))S[fe]=at;else(X.segments.length>0||X.hasChildren())&&(S[b]=X)}return function Rr(D){if(1===D.numberOfChildren&&D.children[Xe]){const S=D.children[Xe];return new $t(D.segments.concat(S.segments),S.children)}return D}(new $t(D.segments,S))}function nt(D){return D instanceof Cr}function _t(D){var S;let O;const X=Fn(function b(fe){const at={};for(const pe of fe.children){const bn=b(pe);at[pe.outlet]=bn}const cn=new $t(fe.url,at);return fe===D&&(O=cn),cn}(D.root));return null!==(S=O)&&void 0!==S?S:X}function ft(D,S,O,b){let N=D;for(;N.parent;)N=N.parent;if(0===S.length)return Sn(N,N,N,O,b);const X=function Qn(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new er(!0,0,D);let S=0,O=!1;const b=D.reduce((N,X,fe)=>{if("object"==typeof X&&null!=X){if(X.outlets){const at={};return Object.entries(X.outlets).forEach(([cn,pe])=>{at[cn]="string"==typeof pe?pe.split("/"):pe}),[...N,{outlets:at}]}if(X.segmentPath)return[...N,X.segmentPath]}return"string"!=typeof X?[...N,X]:0===fe?(X.split("/").forEach((at,cn)=>{0==cn&&"."===at||(0==cn&&""===at?O=!0:".."===at?S++:""!=at&&N.push(at))}),N):[...N,X]},[]);return new er(O,S,b)}(S);if(X.toRoot())return Sn(N,N,new $t([],{}),O,b);const fe=function xi(D,S,O){if(D.isAbsolute)return new Gr(S,!0,0);if(!O)return new Gr(S,!1,NaN);if(null===O.parent)return new Gr(O,!0,0);const b=qt(D.commands[0])?0:1;return function dr(D,S,O){let b=D,N=S,X=O;for(;X>N;){if(X-=N,b=b.parent,!b)throw new f.vHH(4005,!1);N=b.segments.length}return new Gr(b,!1,N-X)}(O,O.segments.length-1+b,D.numberOfDoubleDots)}(X,N,D),at=fe.processChildren?cr(fe.segmentGroup,fe.index,X.commands):Mr(fe.segmentGroup,fe.index,X.commands);return Sn(N,fe.segmentGroup,at,O,b)}function qt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function jt(D){return"object"==typeof D&&null!=D&&D.outlets}function Sn(D,S,O,b,N){let fe,X={};b&&Object.entries(b).forEach(([cn,pe])=>{X[cn]=Array.isArray(pe)?pe.map(bn=>`${bn}`):`${pe}`}),fe=D===S?O:Zt(D,S,O);const at=Fn(Yn(fe));return new Cr(at,X,N)}function Zt(D,S,O){const b={};return Object.entries(D.children).forEach(([N,X])=>{b[N]=X===S?O:Zt(X,S,O)}),new $t(D.segments,b)}class er{constructor(S,O,b){if(this.isAbsolute=S,this.numberOfDoubleDots=O,this.commands=b,S&&b.length>0&&qt(b[0]))throw new f.vHH(4003,!1);const N=b.find(jt);if(N&&N!==kn(b))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gr{constructor(S,O,b){this.segmentGroup=S,this.processChildren=O,this.index=b}}function Mr(D,S,O){if(D||(D=new $t([],{})),0===D.segments.length&&D.hasChildren())return cr(D,S,O);const b=function Pr(D,S,O){let b=0,N=S;const X={match:!1,pathIndex:0,commandIndex:0};for(;N<D.segments.length;){if(b>=O.length)return X;const fe=D.segments[N],at=O[b];if(jt(at))break;const cn=`${at}`,pe=b<O.length-1?O[b+1]:null;if(N>0&&void 0===cn)break;if(cn&&pe&&"object"==typeof pe&&void 0===pe.outlets){if(!Br(cn,pe,fe))return X;b+=2}else{if(!Br(cn,{},fe))return X;b++}N++}return{match:!0,pathIndex:N,commandIndex:b}}(D,S,O),N=O.slice(b.commandIndex);if(b.match&&b.pathIndex<D.segments.length){const X=new $t(D.segments.slice(0,b.pathIndex),{});return X.children[Xe]=new $t(D.segments.slice(b.pathIndex),D.children),cr(X,0,N)}return b.match&&0===N.length?new $t(D.segments,{}):b.match&&!D.hasChildren()?br(D,S,O):b.match?cr(D,0,N):br(D,S,O)}function cr(D,S,O){if(0===O.length)return new $t(D.segments,{});{const b=function Or(D){return jt(D[0])?D[0].outlets:{[Xe]:D}}(O),N={};if(Object.keys(b).some(X=>X!==Xe)&&D.children[Xe]&&1===D.numberOfChildren&&0===D.children[Xe].segments.length){const X=cr(D.children[Xe],S,O);return new $t(D.segments,X.children)}return Object.entries(b).forEach(([X,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(N[X]=Mr(D.children[X],S,fe))}),Object.entries(D.children).forEach(([X,fe])=>{void 0===b[X]&&(N[X]=fe)}),new $t(D.segments,N)}}function br(D,S,O){const b=D.segments.slice(0,S);let N=0;for(;N<O.length;){const X=O[N];if(jt(X)){const cn=Wr(X.outlets);return new $t(b,cn)}if(0===N&&qt(O[0])){b.push(new Ir(D.segments[S].path,Bi(O[0]))),N++;continue}const fe=jt(X)?X.outlets[Xe]:`${X}`,at=N<O.length-1?O[N+1]:null;fe&&at&&qt(at)?(b.push(new Ir(fe,Bi(at))),N+=2):(b.push(new Ir(fe,{})),N++)}return new $t(b,{})}function Wr(D){const S={};return Object.entries(D).forEach(([O,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(S[O]=br(new $t([],{}),0,b))}),S}function Bi(D){const S={};return Object.entries(D).forEach(([O,b])=>S[O]=`${b}`),S}function Br(D,S,O){return D==O.path&&tn(S,O.parameters)}const Ci="imperative";class Dr{constructor(S,O){this.id=S,this.url=O}}class Ti extends Dr{constructor(S,O,b="imperative",N=null){super(S,O),this.type=0,this.navigationTrigger=b,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ei extends Dr{constructor(S,O,b){super(S,O),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qi extends Dr{constructor(S,O,b,N){super(S,O),this.reason=b,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kr extends Dr{constructor(S,O,b,N){super(S,O),this.reason=b,this.code=N,this.type=16}}class hi extends Dr{constructor(S,O,b,N){super(S,O),this.error=b,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J extends Dr{constructor(S,O,b,N){super(S,O),this.urlAfterRedirects=b,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends Dr{constructor(S,O,b,N){super(S,O),this.urlAfterRedirects=b,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Dr{constructor(S,O,b,N,X){super(S,O),this.urlAfterRedirects=b,this.state=N,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Dr{constructor(S,O,b,N){super(S,O),this.urlAfterRedirects=b,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Et extends Dr{constructor(S,O,b,N){super(S,O),this.urlAfterRedirects=b,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mt{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bt{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zt{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(S,O,b){this.routerEvent=S,this.position=O,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zn{}class ur{constructor(S){this.url=S}}class Ke{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lt,this.attachRef=null}}let lt=(()=>{var D;class S{constructor(){this.contexts=new Map}onChildOutletCreated(b,N){const X=this.getOrCreateContext(b);X.outlet=N,this.contexts.set(b,X)}onChildOutletDestroyed(b){const N=this.getContext(b);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let N=this.getContext(b);return N||(N=new Ke,this.contexts.set(b,N)),N}getContext(b){return this.contexts.get(b)||null}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();class Nt{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const O=this.pathFromRoot(S);return O.length>1?O[O.length-2]:null}children(S){const O=Ct(S,this._root);return O?O.children.map(b=>b.value):[]}firstChild(S){const O=Ct(S,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(S){const O=_n(S,this._root);return O.length<2?[]:O[O.length-2].children.map(N=>N.value).filter(N=>N!==S)}pathFromRoot(S){return _n(S,this._root).map(O=>O.value)}}function Ct(D,S){if(D===S.value)return S;for(const O of S.children){const b=Ct(D,O);if(b)return b}return null}function _n(D,S){if(D===S.value)return[S];for(const O of S.children){const b=_n(D,O);if(b.length)return b.unshift(S),b}return[]}class Xn{constructor(S,O){this.value=S,this.children=O}toString(){return`TreeNode(${this.value})`}}function sr(D){const S={};return D&&D.children.forEach(O=>S[O.value.outlet]=O),S}class lr extends Nt{constructor(S,O){super(S),this.snapshot=O,Gn(this,S)}toString(){return this.snapshot.toString()}}function ls(D,S){const O=function Eo(D,S){const fe=new wr([],{},{},"",{},Xe,S,null,{});return new yn("",new Xn(fe,[]))}(0,S),b=new he.X([new Ir("",{})]),N=new he.X({}),X=new he.X({}),fe=new he.X({}),at=new he.X(""),cn=new ci(b,N,fe,at,X,Xe,S,O.root);return cn.snapshot=O.root,new lr(new Xn(cn,[]),O)}class ci{constructor(S,O,b,N,X,fe,at,cn){var pe,bn;this.urlSubject=S,this.paramsSubject=O,this.queryParamsSubject=b,this.fragmentSubject=N,this.dataSubject=X,this.outlet=fe,this.component=at,this._futureSnapshot=cn,this.title=null!==(pe=null===(bn=this.dataSubject)||void 0===bn?void 0:bn.pipe((0,ge.U)(Wn=>Wn[Cn])))&&void 0!==pe?pe:(0,Ee.of)(void 0),this.url=S,this.params=O,this.queryParams=b,this.fragment=N,this.data=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ge.U)(S=>gt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ge.U)(S=>gt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function no(D,S="emptyOnly"){const O=D.pathFromRoot;let b=0;if("always"!==S)for(b=O.length-1;b>=1;){const N=O[b],X=O[b-1];if(N.routeConfig&&""===N.routeConfig.path)b--;else{if(X.component)break;b--}}return function Es(D){return D.reduce((S,O)=>{var b;return{params:{...S.params,...O.params},data:{...S.data,...O.data},resolve:{...O.data,...S.resolve,...null===(b=O.routeConfig)||void 0===b?void 0:b.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(b))}class wr{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[Cn]}constructor(S,O,b,N,X,fe,at,cn,pe){this.url=S,this.params=O,this.queryParams=b,this.fragment=N,this.data=X,this.outlet=fe,this.component=at,this.routeConfig=cn,this._resolve=pe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yn extends Nt{constructor(S,O){super(O),this.url=S,Gn(this,O)}toString(){return Yr(this._root)}}function Gn(D,S){S.value._routerState=D,S.children.forEach(O=>Gn(D,O))}function Yr(D){const S=D.children.length>0?` { ${D.children.map(Yr).join(", ")} } `:"";return`${D.value}${S}`}function ui(D){if(D.snapshot){const S=D.snapshot,O=D._futureSnapshot;D.snapshot=O,tn(S.queryParams,O.queryParams)||D.queryParamsSubject.next(O.queryParams),S.fragment!==O.fragment&&D.fragmentSubject.next(O.fragment),tn(S.params,O.params)||D.paramsSubject.next(O.params),function Ut(D,S){if(D.length!==S.length)return!1;for(let O=0;O<D.length;++O)if(!tn(D[O],S[O]))return!1;return!0}(S.url,O.url)||D.urlSubject.next(O.url),tn(S.data,O.data)||D.dataSubject.next(O.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Is(D,S){const O=tn(D.params,S.params)&&function Wt(D,S){return Jn(D,S)&&D.every((O,b)=>tn(O.parameters,S[b].parameters))}(D.url,S.url);return O&&!(!D.parent!=!S.parent)&&(!D.parent||Is(D.parent,S.parent))}let Ii=(()=>{var D;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(lt),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(ri,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:N,previousValue:X}=b.name;if(N)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){var b;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(b=this.inputBinder)||void 0===b||b.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){var N;return(null===(N=this.parentContexts.getContext(b))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);null!=b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,N){var X;this.activated=b,this._activatedRoute=N,this.location.insert(b.hostView),null===(X=this.inputBinder)||void 0===X||X.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,N){var X;if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=b;const fe=this.location,cn=b.snapshot.component,pe=this.parentContexts.getOrCreateContext(this.name).children,bn=new Io(b,pe,fe.injector);this.activated=fe.createComponent(cn,{index:fe.length,injector:bn,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(X=this.inputBinder)||void 0===X||X.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275dir=f.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),S})();class Io{constructor(S,O,b){this.route=S,this.childContexts=O,this.parent=b}get(S,O){return S===ci?this.route:S===lt?this.childContexts:this.parent.get(S,O)}}const ri=new f.OlP("");let gs=(()=>{var D;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){var N;null===(N=this.outletDataSubscriptions.get(b))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:N}=b,X=(0,Ge.a)([N.queryParams,N.params,N.data]).pipe((0,qe.w)(([fe,at,cn],pe)=>(cn={...fe,...at,...cn},0===pe?(0,Ee.of)(cn):Promise.resolve(cn)))).subscribe(fe=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(b);const at=(0,f.qFp)(N.component);if(at)for(const{templateName:cn}of at.inputs)b.activatedComponentRef.setInput(cn,fe[cn]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,X)}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),S})();function Bn(D,S,O){if(O&&D.shouldReuseRoute(S.value,O.value.snapshot)){const b=O.value;b._futureSnapshot=S.value;const N=function fi(D,S,O){return S.children.map(b=>{for(const N of O.children)if(D.shouldReuseRoute(b.value,N.value.snapshot))return Bn(D,b,N);return Bn(D,b)})}(D,S,O);return new Xn(b,N)}{if(D.shouldAttach(S.value)){const X=D.retrieve(S.value);if(null!==X){const fe=X.route;return fe.value._futureSnapshot=S.value,fe.children=S.children.map(at=>Bn(D,at)),fe}}const b=function Do(D){return new ci(new he.X(D.url),new he.X(D.params),new he.X(D.queryParams),new he.X(D.fragment),new he.X(D.data),D.outlet,D.component,D)}(S.value),N=S.children.map(X=>Bn(D,X));return new Xn(b,N)}}const Ms="ngNavigationCancelingError";function ii(D,S){const{redirectTo:O,navigationBehaviorOptions:b}=nt(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,N=Zr(!1,0,S);return N.url=O,N.navigationBehaviorOptions=b,N}function Zr(D,S,O){const b=new Error("NavigationCancelingError: "+(D||""));return b[Ms]=!0,b.cancellationCode=S,O&&(b.url=O),b}function vi(D){return D&&D[Ms]}let zi=(()=>{var D;class S{}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275cmp=f.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(b,N){1&b&&f._UZ(0,"router-outlet")},dependencies:[Ii],encapsulation:2}),S})();function Ri(D){const S=D.children&&D.children.map(Ri),O=S?{...D,children:S}:{...D};return!O.component&&!O.loadComponent&&(S||O.loadChildren)&&O.outlet&&O.outlet!==Xe&&(O.component=zi),O}function Oi(D){return D.outlet||Xe}function Ds(D){var S;if(!D)return null;if(null!==(S=D.routeConfig)&&void 0!==S&&S._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const b=O.routeConfig;if(null!=b&&b._loadedInjector)return b._loadedInjector;if(null!=b&&b._injector)return b._injector}return null}class Vi{constructor(S,O,b,N,X){this.routeReuseStrategy=S,this.futureState=O,this.currState=b,this.forwardEvent=N,this.inputBindingEnabled=X}activate(S){const O=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,b,S),ui(this.futureState.root),this.activateChildRoutes(O,b,S)}deactivateChildRoutes(S,O,b){const N=sr(O);S.children.forEach(X=>{const fe=X.value.outlet;this.deactivateRoutes(X,N[fe],b),delete N[fe]}),Object.values(N).forEach(X=>{this.deactivateRouteAndItsChildren(X,b)})}deactivateRoutes(S,O,b){const N=S.value,X=O?O.value:null;if(N===X)if(N.component){const fe=b.getContext(N.outlet);fe&&this.deactivateChildRoutes(S,O,fe.children)}else this.deactivateChildRoutes(S,O,b);else X&&this.deactivateRouteAndItsChildren(O,b)}deactivateRouteAndItsChildren(S,O){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,O):this.deactivateRouteAndOutlet(S,O)}detachAndStoreRouteSubtree(S,O){const b=O.getContext(S.value.outlet),N=b&&S.value.component?b.children:O,X=sr(S);for(const fe of Object.keys(X))this.deactivateRouteAndItsChildren(X[fe],N);if(b&&b.outlet){const fe=b.outlet.detach(),at=b.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:fe,route:S,contexts:at})}}deactivateRouteAndOutlet(S,O){const b=O.getContext(S.value.outlet),N=b&&S.value.component?b.children:O,X=sr(S);for(const fe of Object.keys(X))this.deactivateRouteAndItsChildren(X[fe],N);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(S,O,b){const N=sr(O);S.children.forEach(X=>{this.activateRoutes(X,N[X.value.outlet],b),this.forwardEvent(new ln(X.value.snapshot))}),S.children.length&&this.forwardEvent(new xt(S.value.snapshot))}activateRoutes(S,O,b){const N=S.value,X=O?O.value:null;if(ui(N),N===X)if(N.component){const fe=b.getOrCreateContext(N.outlet);this.activateChildRoutes(S,O,fe.children)}else this.activateChildRoutes(S,O,b);else if(N.component){const fe=b.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const at=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),fe.children.onOutletReAttached(at.contexts),fe.attachRef=at.componentRef,fe.route=at.route.value,fe.outlet&&fe.outlet.attach(at.componentRef,at.route.value),ui(at.route.value),this.activateChildRoutes(S,null,fe.children)}else{const at=Ds(N.snapshot);fe.attachRef=null,fe.route=N,fe.injector=at,fe.outlet&&fe.outlet.activateWith(N,fe.injector),this.activateChildRoutes(S,null,fe.children)}}else this.activateChildRoutes(S,null,b)}}class Hi{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Us{constructor(S,O){this.component=S,this.route=O}}function js(D,S,O){const b=D._root;return cs(b,S?S._root:null,O,[b.value])}function Ni(D,S){const O=Symbol(),b=S.get(D,O);return b===O?"function"!=typeof D||(0,f.Z0I)(D)?S.get(D):D:b}function cs(D,S,O,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const X=sr(S);return D.children.forEach(fe=>{(function Fo(D,S,O,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const X=D.value,fe=S?S.value:null,at=O?O.getContext(D.value.outlet):null;if(fe&&X.routeConfig===fe.routeConfig){const cn=function Lo(D,S,O){if("function"==typeof O)return O(D,S);switch(O){case"pathParamsChange":return!Jn(D.url,S.url);case"pathParamsOrQueryParamsChange":return!Jn(D.url,S.url)||!tn(D.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(D,S)||!tn(D.queryParams,S.queryParams);default:return!Is(D,S)}}(fe,X,X.routeConfig.runGuardsAndResolvers);cn?N.canActivateChecks.push(new Hi(b)):(X.data=fe.data,X._resolvedData=fe._resolvedData),cs(D,S,X.component?at?at.children:null:O,b,N),cn&&at&&at.outlet&&at.outlet.isActivated&&N.canDeactivateChecks.push(new Us(at.outlet.component,fe))}else fe&&Ro(S,at,N),N.canActivateChecks.push(new Hi(b)),cs(D,null,X.component?at?at.children:null:O,b,N)})(fe,X[fe.value.outlet],O,b.concat([fe.value]),N),delete X[fe.value.outlet]}),Object.entries(X).forEach(([fe,at])=>Ro(at,O.getContext(fe),N)),N}function Ro(D,S,O){const b=sr(D),N=D.value;Object.entries(b).forEach(([X,fe])=>{Ro(fe,N.component?S?S.children.getContext(X):null:S,O)}),O.canDeactivateChecks.push(new Us(N.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,N))}function wo(D){return"function"==typeof D}function B(D){return D instanceof $e.K||"EmptyError"===(null==D?void 0:D.name)}const P=Symbol("INITIAL_VALUE");function oe(){return(0,qe.w)(D=>(0,Ge.a)(D.map(S=>S.pipe((0,Me.q)(1),(0,se.O)(P)))).pipe((0,ge.U)(S=>{for(const O of S)if(!0!==O){if(O===P)return P;if(!1===O||O instanceof Cr)return O}return!0}),(0,ve.h)(S=>S!==P),(0,Me.q)(1)))}function En(D){return(0,Ae.z)((0,dt.b)(S=>{if(nt(S))throw ii(0,S)}),(0,ge.U)(S=>!0===S))}class Un{constructor(S){this.segmentGroup=S||null}}class mr{constructor(S){this.urlTree=S}}function Xr(D){return Ne(new Un(D))}function ns(D){return Ne(new mr(D))}class bs{constructor(S,O){this.urlSerializer=S,this.urlTree=O}noMatchError(S){return new f.vHH(4002,!1)}lineralizeSegments(S,O){let b=[],N=O.root;for(;;){if(b=b.concat(N.segments),0===N.numberOfChildren)return(0,Ee.of)(b);if(N.numberOfChildren>1||!N.children[Xe])return Ne(new f.vHH(4e3,!1));N=N.children[Xe]}}applyRedirectCommands(S,O,b){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),S,b)}applyRedirectCreateUrlTree(S,O,b,N){const X=this.createSegmentGroup(S,O.root,b,N);return new Cr(X,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(S,O){const b={};return Object.entries(S).forEach(([N,X])=>{if("string"==typeof X&&X.startsWith(":")){const at=X.substring(1);b[N]=O[at]}else b[N]=X}),b}createSegmentGroup(S,O,b,N){const X=this.createSegments(S,O.segments,b,N);let fe={};return Object.entries(O.children).forEach(([at,cn])=>{fe[at]=this.createSegmentGroup(S,cn,b,N)}),new $t(X,fe)}createSegments(S,O,b,N){return O.map(X=>X.path.startsWith(":")?this.findPosParam(S,X,N):this.findOrReturn(X,b))}findPosParam(S,O,b){const N=b[O.path.substring(1)];if(!N)throw new f.vHH(4001,!1);return N}findOrReturn(S,O){let b=0;for(const N of O){if(N.path===S.path)return O.splice(b),N;b++}return S}}const Xs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bo(D,S,O,b,N){const X=Vo(D,S,O);return X.matched?(b=function Zs(D,S){var O;return D.providers&&!D._injector&&(D._injector=(0,f.MMx)(D.providers,S,`Route: ${D.path}`)),null!==(O=D._injector)&&void 0!==O?O:S}(S,b),function In(D,S,O,b){const N=S.canMatch;if(!N||0===N.length)return(0,Ee.of)(!0);const X=N.map(fe=>{const at=Ni(fe,D);return dn(function di(D){return D&&wo(D.canMatch)}(at)?at.canMatch(S,O):D.runInContext(()=>at(S,O)))});return(0,Ee.of)(X).pipe(oe(),En())}(b,S,O).pipe((0,ge.U)(fe=>!0===fe?X:{...Xs}))):(0,Ee.of)(X)}function Vo(D,S,O){var b,N;if(""===S.path)return"full"===S.pathMatch&&(D.hasChildren()||O.length>0)?{...Xs}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const fe=(S.matcher||mt)(O,D,S);if(!fe)return{...Xs};const at={};Object.entries(null!==(b=fe.posParams)&&void 0!==b?b:{}).forEach(([pe,bn])=>{at[pe]=bn.path});const cn=fe.consumed.length>0?{...at,...fe.consumed[fe.consumed.length-1].parameters}:at;return{matched:!0,consumedSegments:fe.consumed,remainingSegments:O.slice(fe.consumed.length),parameters:cn,positionalParamSegments:null!==(N=fe.posParams)&&void 0!==N?N:{}}}function Ki(D,S,O,b){return O.length>0&&function Ca(D,S,O){return O.some(b=>Qs(D,S,b)&&Oi(b)!==Xe)}(D,O,b)?{segmentGroup:new $t(S,wa(b,new $t(O,D.children))),slicedSegments:[]}:0===O.length&&function ua(D,S,O){return O.some(b=>Qs(D,S,b))}(D,O,b)?{segmentGroup:new $t(D.segments,Fa(D,0,O,b,D.children)),slicedSegments:O}:{segmentGroup:new $t(D.segments,D.children),slicedSegments:O}}function Fa(D,S,O,b,N){const X={};for(const fe of b)if(Qs(D,O,fe)&&!N[Oi(fe)]){const at=new $t([],{});X[Oi(fe)]=at}return{...N,...X}}function wa(D,S){const O={};O[Xe]=S;for(const b of D)if(""===b.path&&Oi(b)!==Xe){const N=new $t([],{});O[Oi(b)]=N}return O}function Qs(D,S,O){return(!(D.hasChildren()||S.length>0)||"full"!==O.pathMatch)&&""===O.path}class Ta{constructor(S,O,b,N,X,fe,at){this.injector=S,this.configLoader=O,this.rootComponentType=b,this.config=N,this.urlTree=X,this.paramsInheritanceStrategy=fe,this.urlSerializer=at,this.allowRedirects=!0,this.applyRedirects=new bs(this.urlSerializer,this.urlTree)}noMatchError(S){return new f.vHH(4002,!1)}recognize(){const S=Ki(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Xe).pipe(Vt(O=>{if(O instanceof mr)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof Un?this.noMatchError(O):O}),(0,ge.U)(O=>{const b=new wr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),N=new Xn(b,O),X=new yn("",N),fe=function Fe(D,S,O=null,b=null){return ft(_t(D),S,O,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,X.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(X._root),{state:X,tree:fe}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Xe).pipe(Vt(b=>{throw b instanceof Un?this.noMatchError(b):b}))}inheritParamsAndData(S){const O=S.value,b=no(O,this.paramsInheritanceStrategy);O.params=Object.freeze(b.params),O.data=Object.freeze(b.data),S.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(S,O,b,N){return 0===b.segments.length&&b.hasChildren()?this.processChildren(S,O,b):this.processSegment(S,O,b,b.segments,N,!0)}processChildren(S,O,b){const N=[];for(const X of Object.keys(b.children))"primary"===X?N.unshift(X):N.push(X);return(0,Te.D)(N).pipe((0,ct.b)(X=>{const fe=b.children[X],at=function yi(D,S){const O=D.filter(b=>Oi(b)===S);return O.push(...D.filter(b=>Oi(b)!==S)),O}(O,X);return this.processSegmentGroup(S,at,fe,X)}),(0,mn.R)((X,fe)=>(X.push(...fe),X)),(0,Qt.d)(null),function Se(D,S){const O=arguments.length>=2;return b=>b.pipe(D?(0,ve.h)((N,X)=>D(N,X,b)):ye.y,ht(1),O?(0,Qt.d)(S):(0,ie.T)(()=>new $e.K))}(),(0,Oe.z)(X=>{if(null===X)return Xr(b);const fe=xl(X);return function Jl(D){D.sort((S,O)=>S.value.outlet===Xe?-1:O.value.outlet===Xe?1:S.value.outlet.localeCompare(O.value.outlet))}(fe),(0,Ee.of)(fe)}))}processSegment(S,O,b,N,X,fe){return(0,Te.D)(O).pipe((0,ct.b)(at=>{var cn;return this.processSegmentAgainstRoute(null!==(cn=at._injector)&&void 0!==cn?cn:S,O,at,b,N,X,fe).pipe(Vt(pe=>{if(pe instanceof Un)return(0,Ee.of)(null);throw pe}))}),(0,Qe.P)(at=>!!at),Vt(at=>{if(B(at))return function da(D,S,O){return 0===S.length&&!D.children[O]}(b,N,X)?(0,Ee.of)([]):Xr(b);throw at}))}processSegmentAgainstRoute(S,O,b,N,X,fe,at){return function Oo(D,S,O,b){return!!(Oi(D)===b||b!==Xe&&Qs(S,O,D))&&("**"===D.path||Vo(S,D,O).matched)}(b,N,X,fe)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(S,N,b,X,fe,at):at&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,N,O,b,X,fe):Xr(N):Xr(N)}expandSegmentAgainstRouteUsingRedirect(S,O,b,N,X,fe){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,b,N,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,O,b,N,X,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,O,b,N){const X=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?ns(X):this.applyRedirects.lineralizeSegments(b,X).pipe((0,Oe.z)(fe=>{const at=new $t(fe,{});return this.processSegment(S,O,at,fe,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,O,b,N,X,fe){const{matched:at,consumedSegments:cn,remainingSegments:pe,positionalParamSegments:bn}=Vo(O,N,X);if(!at)return Xr(O);const Wn=this.applyRedirects.applyRedirectCommands(cn,N.redirectTo,bn);return N.redirectTo.startsWith("/")?ns(Wn):this.applyRedirects.lineralizeSegments(N,Wn).pipe((0,Oe.z)(ki=>this.processSegment(S,b,O,ki.concat(pe),fe,!1)))}matchSegmentAgainstRoute(S,O,b,N,X,fe){let at;if("**"===b.path){var cn,pe;const bn=N.length>0?kn(N).parameters:{},Wn=new wr(N,bn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xs(b),Oi(b),null!==(cn=null!==(pe=b.component)&&void 0!==pe?pe:b._loadedComponent)&&void 0!==cn?cn:null,b,ha(b));at=(0,Ee.of)({snapshot:Wn,consumedSegments:[],remainingSegments:[]}),O.children={}}else at=Bo(O,b,N,S).pipe((0,ge.U)(({matched:bn,consumedSegments:Wn,remainingSegments:ki,parameters:Ui})=>{var Nr,us;return bn?{snapshot:new wr(Wn,Ui,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xs(b),Oi(b),null!==(Nr=null!==(us=b.component)&&void 0!==us?us:b._loadedComponent)&&void 0!==Nr?Nr:null,b,ha(b)),consumedSegments:Wn,remainingSegments:ki}:null}));return at.pipe((0,qe.w)(bn=>{var Wn;return null===bn?Xr(O):(S=null!==(Wn=b._injector)&&void 0!==Wn?Wn:S,this.getChildConfig(S,b,N).pipe((0,qe.w)(({routes:ki})=>{var Ui;const Nr=null!==(Ui=b._loadedInjector)&&void 0!==Ui?Ui:S,{snapshot:us,consumedSegments:Ss,remainingSegments:Xi}=bn,{segmentGroup:eo,slicedSegments:bi}=Ki(O,Ss,Xi,ki);if(0===bi.length&&eo.hasChildren())return this.processChildren(Nr,ki,eo).pipe((0,ge.U)(Qi=>null===Qi?null:[new Xn(us,Qi)]));if(0===ki.length&&0===bi.length)return(0,Ee.of)([new Xn(us,[])]);const Xo=Oi(b)===X;return this.processSegment(Nr,ki,eo,bi,Xo?Xe:X,!0).pipe((0,ge.U)(Qi=>[new Xn(us,Qi)]))})))}))}getChildConfig(S,O,b){return O.children?(0,Ee.of)({routes:O.children,injector:S}):O.loadChildren?void 0!==O._loadedRoutes?(0,Ee.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function Tt(D,S,O,b){const N=S.canLoad;if(void 0===N||0===N.length)return(0,Ee.of)(!0);const X=N.map(fe=>{const at=Ni(fe,D);return dn(function fo(D){return D&&wo(D.canLoad)}(at)?at.canLoad(S,O):D.runInContext(()=>at(S,O)))});return(0,Ee.of)(X).pipe(oe(),En())}(S,O,b).pipe((0,Oe.z)(N=>N?this.configLoader.loadChildren(S,O).pipe((0,dt.b)(X=>{O._loadedRoutes=X.routes,O._loadedInjector=X.injector})):function Hs(D){return Ne(Zr(!1,3))}())):(0,Ee.of)({routes:[],injector:S})}}function rl(D){const S=D.value.routeConfig;return S&&""===S.path}function xl(D){const S=[],O=new Set;for(const b of D){if(!rl(b)){S.push(b);continue}const N=S.find(X=>b.value.routeConfig===X.value.routeConfig);void 0!==N?(N.children.push(...b.children),O.add(N)):S.push(b)}for(const b of O){const N=xl(b.children);S.push(new Xn(b.value,N))}return S.filter(b=>!O.has(b))}function xs(D){return D.data||{}}function ha(D){return D.resolve||{}}function C(D){return"string"==typeof D.title||null===D.title}function U(D){return(0,qe.w)(S=>{const O=D(S);return O?(0,Te.D)(O).pipe((0,ge.U)(()=>S)):(0,Ee.of)(S)})}const _e=new f.OlP("ROUTES");let k=(()=>{var D;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,Ee.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const N=dn(b.loadComponent()).pipe((0,ge.U)(Ot),(0,dt.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=fe}),(0,rt.x)(()=>{this.componentLoaders.delete(b)})),X=new ut(N,()=>new Re.x).pipe(me());return this.componentLoaders.set(b,X),X}loadChildren(b,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ee.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const fe=function ce(D,S,O,b){return dn(D.loadChildren()).pipe((0,ge.U)(Ot),(0,Oe.z)(N=>N instanceof f.YKP||Array.isArray(N)?(0,Ee.of)(N):(0,Te.D)(S.compileModuleAsync(N))),(0,ge.U)(N=>{b&&b(D);let X,fe,at=!1;return Array.isArray(N)?(fe=N,!0):(X=N.create(O).injector,fe=X.get(_e,[],{optional:!0,self:!0}).flat()),{routes:fe.map(Ri),injector:X}}))}(N,this.compiler,b,this.onLoadEndListener).pipe((0,rt.x)(()=>{this.childrenLoaders.delete(N)})),at=new ut(fe,()=>new Re.x).pipe(me());return this.childrenLoaders.set(N,at),at}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();function Ot(D){return function je(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let an=(()=>{var D;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re.x,this.transitionAbortSubject=new Re.x,this.configLoader=(0,f.f3M)(k),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(ir),this.rootContexts=(0,f.f3M)(lt),this.inputBindingEnabled=null!==(0,f.f3M)(ri,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=X=>this.events.next(new Mt(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new st(X))}complete(){var b;null===(b=this.transitions)||void 0===b||b.complete()}handleNavigationRequest(b){var N;const X=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...b,id:X})}setupNavigations(b,N,X){return this.transitions=new he.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:b.urlHandlingStrategy.extract(N),urlAfterRedirects:b.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ci,restoredState:null,currentSnapshot:X.snapshot,targetSnapshot:null,currentRouterState:X,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ve.h)(fe=>0!==fe.id),(0,ge.U)(fe=>({...fe,extractedUrl:b.urlHandlingStrategy.extract(fe.rawUrl)})),(0,qe.w)(fe=>{this.currentTransition=fe;let at=!1,cn=!1;return(0,Ee.of)(fe).pipe((0,dt.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.rawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qe.w)(pe=>{var bn;const Wn=pe.currentBrowserUrl.toString(),ki=!b.navigated||pe.extractedUrl.toString()!==Wn||Wn!==pe.currentUrlTree.toString(),Ui=null!==(bn=pe.extras.onSameUrlNavigation)&&void 0!==bn?bn:b.onSameUrlNavigation;if(!ki&&"reload"!==Ui){const Nr="";return this.events.next(new Kr(pe.id,this.urlSerializer.serialize(pe.rawUrl),Nr,0)),pe.resolve(null),Ce.E}if(b.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return(0,Ee.of)(pe).pipe((0,qe.w)(Nr=>{var us,Ss;const Xi=null===(us=this.transitions)||void 0===us?void 0:us.getValue();return this.events.next(new Ti(Nr.id,this.urlSerializer.serialize(Nr.extractedUrl),Nr.source,Nr.restoredState)),Xi!==(null===(Ss=this.transitions)||void 0===Ss?void 0:Ss.getValue())?Ce.E:Promise.resolve(Nr)}),function Rl(D,S,O,b,N,X){return(0,Oe.z)(fe=>function Uo(D,S,O,b,N,X,fe="emptyOnly"){return new Ta(D,S,O,b,N,fe,X).recognize()}(D,S,O,b,fe.extractedUrl,N,X).pipe((0,ge.U)(({state:at,tree:cn})=>({...fe,targetSnapshot:at,urlAfterRedirects:cn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,dt.b)(Nr=>{fe.targetSnapshot=Nr.targetSnapshot,fe.urlAfterRedirects=Nr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Nr.urlAfterRedirects};const us=new J(Nr.id,this.urlSerializer.serialize(Nr.extractedUrl),this.urlSerializer.serialize(Nr.urlAfterRedirects),Nr.targetSnapshot);this.events.next(us)}));if(ki&&b.urlHandlingStrategy.shouldProcessUrl(pe.currentRawUrl)){const{id:Nr,extractedUrl:us,source:Ss,restoredState:Xi,extras:eo}=pe,bi=new Ti(Nr,this.urlSerializer.serialize(us),Ss,Xi);this.events.next(bi);const Xo=ls(0,this.rootComponentType).snapshot;return this.currentTransition=fe={...pe,targetSnapshot:Xo,urlAfterRedirects:us,extras:{...eo,skipLocationChange:!1,replaceUrl:!1}},(0,Ee.of)(fe)}{const Nr="";return this.events.next(new Kr(pe.id,this.urlSerializer.serialize(pe.extractedUrl),Nr,1)),pe.resolve(null),Ce.E}}),(0,dt.b)(pe=>{const bn=new q(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot);this.events.next(bn)}),(0,ge.U)(pe=>(this.currentTransition=fe={...pe,guards:js(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)},fe)),function $(D,S){return(0,Oe.z)(O=>{const{targetSnapshot:b,currentSnapshot:N,guards:{canActivateChecks:X,canDeactivateChecks:fe}}=O;return 0===fe.length&&0===X.length?(0,Ee.of)({...O,guardsResult:!0}):function de(D,S,O,b){return(0,Te.D)(D).pipe((0,Oe.z)(N=>function te(D,S,O,b,N){const X=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,Ee.of)(!0);const fe=X.map(at=>{var cn;const pe=null!==(cn=Ds(S))&&void 0!==cn?cn:N,bn=Ni(at,pe);return dn(function nl(D){return D&&wo(D.canDeactivate)}(bn)?bn.canDeactivate(D,S,O,b):pe.runInContext(()=>bn(D,S,O,b))).pipe((0,Qe.P)())});return(0,Ee.of)(fe).pipe(oe())}(N.component,N.route,O,S,b)),(0,Qe.P)(N=>!0!==N,!0))}(fe,b,N,D).pipe((0,Oe.z)(at=>at&&function $o(D){return"boolean"==typeof D}(at)?function Gt(D,S,O,b){return(0,Te.D)(S).pipe((0,ct.b)(N=>(0,ue.z)(function V(D,S){return null!==D&&S&&S(new Bt(D)),(0,Ee.of)(!0)}(N.route.parent,b),function y(D,S){return null!==D&&S&&S(new zt(D)),(0,Ee.of)(!0)}(N.route,b),function F(D,S,O){const b=S[S.length-1],X=S.slice(0,S.length-1).reverse().map(fe=>function Gi(D){const S=D.routeConfig?D.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:D,guards:S}:null}(fe)).filter(fe=>null!==fe).map(fe=>be(()=>{const at=fe.guards.map(cn=>{var pe;const bn=null!==(pe=Ds(fe.node))&&void 0!==pe?pe:O,Wn=Ni(cn,bn);return dn(function Ko(D){return D&&wo(D.canActivateChild)}(Wn)?Wn.canActivateChild(b,D):bn.runInContext(()=>Wn(b,D))).pipe((0,Qe.P)())});return(0,Ee.of)(at).pipe(oe())}));return(0,Ee.of)(X).pipe(oe())}(D,N.path,O),function E(D,S,O){const b=S.routeConfig?S.routeConfig.canActivate:null;if(!b||0===b.length)return(0,Ee.of)(!0);const N=b.map(X=>be(()=>{var fe;const at=null!==(fe=Ds(S))&&void 0!==fe?fe:O,cn=Ni(X,at);return dn(function Co(D){return D&&wo(D.canActivate)}(cn)?cn.canActivate(S,D):at.runInContext(()=>cn(S,D))).pipe((0,Qe.P)())}));return(0,Ee.of)(N).pipe(oe())}(D,N.route,O))),(0,Qe.P)(N=>!0!==N,!0))}(b,X,D,S):(0,Ee.of)(at)),(0,ge.U)(at=>({...O,guardsResult:at})))})}(this.environmentInjector,pe=>this.events.next(pe)),(0,dt.b)(pe=>{if(fe.guardsResult=pe.guardsResult,nt(pe.guardsResult))throw ii(0,pe.guardsResult);const bn=new De(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.events.next(bn)}),(0,ve.h)(pe=>!!pe.guardsResult||(this.cancelNavigationTransition(pe,"",3),!1)),U(pe=>{if(pe.guards.canActivateChecks.length)return(0,Ee.of)(pe).pipe((0,dt.b)(bn=>{const Wn=new Pe(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Wn)}),(0,qe.w)(bn=>{let Wn=!1;return(0,Ee.of)(bn).pipe(function po(D,S){return(0,Oe.z)(O=>{const{targetSnapshot:b,guards:{canActivateChecks:N}}=O;if(!N.length)return(0,Ee.of)(O);let X=0;return(0,Te.D)(N).pipe((0,ct.b)(fe=>function Cc(D,S,O,b){const N=D.routeConfig,X=D._resolve;return void 0!==(null==N?void 0:N.title)&&!C(N)&&(X[Cn]=N.title),function ws(D,S,O,b){const N=function Yo(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===N.length)return(0,Ee.of)({});const X={};return(0,Te.D)(N).pipe((0,Oe.z)(fe=>function si(D,S,O,b){var N;const X=null!==(N=Ds(S))&&void 0!==N?N:b,fe=Ni(D,X);return dn(fe.resolve?fe.resolve(S,O):X.runInContext(()=>fe(S,O)))}(D[fe],S,O,b).pipe((0,Qe.P)(),(0,dt.b)(at=>{X[fe]=at}))),ht(1),function Ze(D){return(0,ge.U)(()=>D)}(X),Vt(fe=>B(fe)?Ce.E:Ne(fe)))}(X,D,S,b).pipe((0,ge.U)(fe=>(D._resolvedData=fe,D.data=no(D,O).resolve,N&&C(N)&&(D.data[Cn]=N.title),null)))}(fe.route,b,D,S)),(0,dt.b)(()=>X++),ht(1),(0,Oe.z)(fe=>X===N.length?(0,Ee.of)(O):Ce.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,dt.b)({next:()=>Wn=!0,complete:()=>{Wn||this.cancelNavigationTransition(bn,"",2)}}))}),(0,dt.b)(bn=>{const Wn=new Et(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Wn)}))}),U(pe=>{const bn=Wn=>{var ki;const Ui=[];null!==(ki=Wn.routeConfig)&&void 0!==ki&&ki.loadComponent&&!Wn.routeConfig._loadedComponent&&Ui.push(this.configLoader.loadComponent(Wn.routeConfig).pipe((0,dt.b)(Nr=>{Wn.component=Nr}),(0,ge.U)(()=>{})));for(const Nr of Wn.children)Ui.push(...bn(Nr));return Ui};return(0,Ge.a)(bn(pe.targetSnapshot.root)).pipe((0,Qt.d)(),(0,Me.q)(1))}),U(()=>this.afterPreactivation()),(0,ge.U)(pe=>{const bn=function co(D,S,O){const b=Bn(D,S._root,O?O._root:void 0);return new lr(b,S)}(b.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return this.currentTransition=fe={...pe,targetRouterState:bn},fe}),(0,dt.b)(()=>{this.events.next(new Zn)}),((D,S,O,b)=>(0,ge.U)(N=>(new Vi(S,N.targetRouterState,N.currentRouterState,O,b).activate(D),N)))(this.rootContexts,b.routeReuseStrategy,pe=>this.events.next(pe),this.inputBindingEnabled),(0,Me.q)(1),(0,dt.b)({next:pe=>{var bn;at=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ei(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects))),null===(bn=b.titleStrategy)||void 0===bn||bn.updateTitle(pe.targetRouterState.snapshot),pe.resolve(!0)},complete:()=>{at=!0}}),function Rt(D){return(0,Ve.e)((S,O)=>{(0,le.Xf)(D).subscribe((0,Ie.x)(O,()=>O.complete(),tt.Z)),!O.closed&&S.subscribe(O)})}(this.transitionAbortSubject.pipe((0,dt.b)(pe=>{throw pe}))),(0,rt.x)(()=>{var pe;at||cn||this.cancelNavigationTransition(fe,"",1),(null===(pe=this.currentNavigation)||void 0===pe?void 0:pe.id)===fe.id&&(this.currentNavigation=null)}),Vt(pe=>{if(cn=!0,vi(pe))this.events.next(new qi(fe.id,this.urlSerializer.serialize(fe.extractedUrl),pe.message,pe.cancellationCode)),function $s(D){return vi(D)&&nt(D.url)}(pe)?this.events.next(new ur(pe.url)):fe.resolve(!1);else{var bn;this.events.next(new hi(fe.id,this.urlSerializer.serialize(fe.extractedUrl),pe,null!==(bn=fe.targetSnapshot)&&void 0!==bn?bn:void 0));try{fe.resolve(b.errorHandler(pe))}catch(Wn){fe.reject(Wn)}}return Ce.E}))}))}cancelNavigationTransition(b,N,X){const fe=new qi(b.id,this.urlSerializer.serialize(b.extractedUrl),N,X);this.events.next(fe),b.resolve(!1)}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();function fr(D){return D!==Ci}let vr=(()=>{var D;class S{buildTitle(b){let N,X=b.root;for(;void 0!==X;){var fe;N=null!==(fe=this.getResolvedTitleForRoute(X))&&void 0!==fe?fe:N,X=X.children.find(at=>at.outlet===Xe)}return N}getResolvedTitleForRoute(b){return b.data[Cn]}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return(0,f.f3M)(or)},providedIn:"root"}),S})(),or=(()=>{var D;class S extends vr{constructor(b){super(),this.title=b}updateTitle(b){const N=this.buildTitle(b);void 0!==N&&this.title.setTitle(N)}}return(D=S).\u0275fac=function(b){return new(b||D)(f.LFG(Ht.Dx))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})(),pr=(()=>{var D;class S{}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return(0,f.f3M)(Vr)},providedIn:"root"}),S})();class Di{shouldDetach(S){return!1}store(S,O){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,O){return S.routeConfig===O.routeConfig}}let Vr=(()=>{var D;class S extends Di{}return(D=S).\u0275fac=function(){let O;return function(N){return(O||(O=f.n5z(D)))(N||D)}}(),D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();const oi=new f.OlP("",{providedIn:"root",factory:()=>({})});let zs=(()=>{var D;class S{}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return(0,f.f3M)(Rs)},providedIn:"root"}),S})(),Rs=(()=>{var D;class S{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,N){return b}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();var Gs=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Gs||{});function ro(D,S){D.events.pipe((0,ve.h)(O=>O instanceof Ei||O instanceof qi||O instanceof hi||O instanceof Kr),(0,ge.U)(O=>O instanceof Ei||O instanceof Kr?Gs.COMPLETE:O instanceof qi&&(0===O.code||1===O.code)?Gs.REDIRECTING:Gs.FAILED),(0,ve.h)(O=>O!==Gs.REDIRECTING),(0,Me.q)(1)).subscribe(()=>{S()})}function is(D){throw D}function jo(D,S,O){return S.parse("/")}const Zo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cs=(()=>{var D;class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var b,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(b=null===(N=this.location.getState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==b?b:this.currentPageId}get events(){return this._events}constructor(){var b,N;this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this._events=new Re.x,this.options=(0,f.f3M)(oi,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||is,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(zs),this.routeReuseStrategy=(0,f.f3M)(pr),this.titleStrategy=(0,f.f3M)(vr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(b=null===(N=(0,f.f3M)(_e,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==b?b:[],this.navigationTransitions=(0,f.f3M)(an),this.urlSerializer=(0,f.f3M)(ir),this.location=(0,f.f3M)(He.Ye),this.componentInputBindingEnabled=!!(0,f.f3M)(ri,{optional:!0}),this.eventsSubscription=new Ye.w0,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ls(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(X=>{this.lastSuccessfulId=X.id,this.currentPageId=this.browserPageId},X=>{this.console.warn(`Unhandled Navigation Error: ${X}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:X}=this.navigationTransitions;if(null===X)return void(Ts(N)&&this._events.next(N));if(N instanceof Ti)fr(X.source)&&(this.browserUrlTree=X.extractedUrl);else if(N instanceof Kr)this.rawUrlTree=X.rawUrl;else if(N instanceof J){if("eager"===this.urlUpdateStrategy){if(!X.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl);this.setBrowserUrl(fe,X)}this.browserUrlTree=X.urlAfterRedirects}}else if(N instanceof Zn)this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects);else if(N instanceof qi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(X);else if(N instanceof ur){const fe=this.urlHandlingStrategy.merge(N.url,X.currentRawUrl),at={skipLocationChange:X.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fr(X.source)};this.scheduleNavigation(fe,Ci,null,at,{resolve:X.resolve,reject:X.reject,promise:X.promise})}N instanceof hi&&this.restoreHistory(X,!0),N instanceof Ei&&(this.navigated=!0),Ts(N)&&this._events.next(N)}catch(X){this.navigationTransitions.transitionAbortSubject.next(X)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ci,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const N="popstate"===b.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,N,b.state)},0)}))}navigateToSyncWithBrowser(b,N,X){const fe={replaceUrl:!0},at=null!=X&&X.navigationId?X:null;if(X){const pe={...X};delete pe.navigationId,delete pe.\u0275routerPageId,0!==Object.keys(pe).length&&(fe.state=pe)}const cn=this.parseUrl(b);this.scheduleNavigation(cn,N,at,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Ri),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,N={}){const{relativeTo:X,queryParams:fe,fragment:at,queryParamsHandling:cn,preserveFragment:pe}=N,bn=pe?this.currentUrlTree.fragment:at;let ki,Wn=null;switch(cn){case"merge":Wn={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=fe||null}null!==Wn&&(Wn=this.removeEmptyProps(Wn));try{ki=_t(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),ki=this.currentUrlTree.root}return ft(ki,b,Wn,null!=bn?bn:null)}navigateByUrl(b,N={skipLocationChange:!1}){const X=nt(b)?b:this.parseUrl(b),fe=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(fe,Ci,null,N)}navigate(b,N={skipLocationChange:!1}){return function fa(D){for(let S=0;S<D.length;S++)if(null==D[S])throw new f.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,N),N)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let N;try{N=this.urlSerializer.parse(b)}catch(X){N=this.malformedUriErrorHandler(X,this.urlSerializer,b)}return N}isActive(b,N){let X;if(X=!0===N?{...Zo}:!1===N?{...pi}:N,nt(b))return xr(this.currentUrlTree,b,X);const fe=this.parseUrl(b);return xr(this.currentUrlTree,fe,X)}removeEmptyProps(b){return Object.keys(b).reduce((N,X)=>{const fe=b[X];return null!=fe&&(N[X]=fe),N},{})}scheduleNavigation(b,N,X,fe,at){if(this.disposed)return Promise.resolve(!1);let cn,pe,bn;at?(cn=at.resolve,pe=at.reject,bn=at.promise):bn=new Promise((ki,Ui)=>{cn=ki,pe=Ui});const Wn=this.pendingTasks.add();return ro(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Wn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:fe,resolve:cn,reject:pe,promise:bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bn.catch(ki=>Promise.reject(ki))}setBrowserUrl(b,N){const X=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(X)||N.extras.replaceUrl){const at={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(X,"",at)}else{const fe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(X,"",fe)}}restoreHistory(b,N=!1){if("computed"===this.canceledNavigationResolution){var X;const at=this.currentPageId-this.browserPageId;0!==at?this.location.historyGo(at):this.currentUrlTree===(null===(X=this.getCurrentNavigation())||void 0===X?void 0:X.finalUrl)&&0===at&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,N){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:N}:{navigationId:b}}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();function Ts(D){return!(D instanceof Zn||D instanceof ur)}let il=(()=>{var D;class S{constructor(b,N,X,fe,at,cn){var pe;this.router=b,this.route=N,this.tabIndexAttribute=X,this.renderer=fe,this.el=at,this.locationStrategy=cn,this.href=null,this.commands=null,this.onChanges=new Re.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const bn=null===(pe=at.nativeElement.tagName)||void 0===pe?void 0:pe.toLowerCase();this.isAnchorElement="a"===bn||"area"===bn,this.isAnchorElement?this.subscription=b.events.subscribe(Wn=>{Wn instanceof Ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,N,X,fe,at){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||N||X||fe||at||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}updateHref(){var b;this.href=null!==this.urlTree&&this.locationStrategy?null===(b=this.locationStrategy)||void 0===b?void 0:b.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const N=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",N)}applyAttributeValue(b,N){const X=this.renderer,fe=this.el.nativeElement;null!==N?X.setAttribute(fe,b,N):X.removeAttribute(fe,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(D=S).\u0275fac=function(b){return new(b||D)(f.Y36(Cs),f.Y36(ci),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(He.S$))},D.\u0275dir=f.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,N){1&b&&f.NdJ("click",function(fe){return N.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&b&&f.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",f.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",f.VuI],replaceUrl:["replaceUrl","replaceUrl",f.VuI],routerLink:"routerLink"},standalone:!0,features:[f.Xq5,f.TTD]}),S})();class ai{}let sl=(()=>{var D;class S{preload(b,N){return N().pipe(Vt(()=>(0,Ee.of)(null)))}}return(D=S).\u0275fac=function(b){return new(b||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})(),Tc=(()=>{var D;class S{constructor(b,N,X,fe,at){this.router=b,this.injector=X,this.preloadingStrategy=fe,this.loader=at}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.h)(b=>b instanceof Ei),(0,ct.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,N){const X=[];for(const pe of N){var fe,at;pe.providers&&!pe._injector&&(pe._injector=(0,f.MMx)(pe.providers,b,`Route: ${pe.path}`));const bn=null!==(fe=pe._injector)&&void 0!==fe?fe:b,Wn=null!==(at=pe._loadedInjector)&&void 0!==at?at:bn;var cn;(pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent)&&X.push(this.preloadConfig(bn,pe)),(pe.children||pe._loadedRoutes)&&X.push(this.processRoutes(Wn,null!==(cn=pe.children)&&void 0!==cn?cn:pe._loadedRoutes))}return(0,Te.D)(X).pipe((0,At.J)())}preloadConfig(b,N){return this.preloadingStrategy.preload(N,()=>{let X;X=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(b,N):(0,Ee.of)(null);const fe=X.pipe((0,Oe.z)(at=>{var cn;return null===at?(0,Ee.of)(void 0):(N._loadedRoutes=at.routes,N._loadedInjector=at.injector,this.processRoutes(null!==(cn=at.injector)&&void 0!==cn?cn:b,at.routes))}));if(N.loadComponent&&!N._loadedComponent){const at=this.loader.loadComponent(N);return(0,Te.D)([fe,at]).pipe((0,At.J)())}return fe})}}return(D=S).\u0275fac=function(b){return new(b||D)(f.LFG(Cs),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ai),f.LFG(k))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();const Ws=new f.OlP("");let on=(()=>{var D;class S{constructor(b,N,X,fe,at={}){this.urlSerializer=b,this.transitions=N,this.viewportScroller=X,this.zone=fe,this.options=at,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},at.scrollPositionRestoration=at.scrollPositionRestoration||"disabled",at.anchorScrolling=at.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ti?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ei?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Kr&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof qn&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qn(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var b,N;null===(b=this.routerEventsSubscription)||void 0===b||b.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(D=S).\u0275fac=function(b){f.$Z()},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),S})();function Po(D,S){return{\u0275kind:D,\u0275providers:S}}function St(){const D=(0,f.f3M)(f.zs3);return S=>{var O,b;const N=D.get(f.z2F);if(S!==N.components[0])return;const X=D.get(Cs),fe=D.get(Yt);1===D.get(Ur)&&X.initialNavigation(),null===(O=D.get(Ol,null,f.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(b=D.get(Ws,null,f.XFs.Optional))||void 0===b||b.init(),X.resetRootComponentType(N.componentTypes[0]),fe.closed||(fe.next(),fe.complete(),fe.unsubscribe())}}const Yt=new f.OlP("",{factory:()=>new Re.x}),Ur=new f.OlP("",{providedIn:"root",factory:()=>1}),Ol=new f.OlP("");function ol(D){return Po(0,[{provide:Ol,useExisting:Tc},{provide:ai,useExisting:D}])}const La=new f.OlP("ROUTER_FORROOT_GUARD"),_r=[He.Ye,{provide:ir,useClass:Jr},Cs,lt,{provide:ci,useFactory:function Os(D){return D.routerState.root},deps:[Cs]},k,[]];function Wi(){return new f.PXZ("Router",Cs)}let nc=(()=>{var D;class S{constructor(b){}static forRoot(b,N){return{ngModule:S,providers:[_r,[],{provide:_e,multi:!0,useValue:b},{provide:La,useFactory:qr,deps:[[Cs,new f.FiY,new f.tp0]]},{provide:oi,useValue:N||{}},null!=N&&N.useHash?{provide:He.S$,useClass:He.Do}:{provide:He.S$,useClass:He.b0},{provide:Ws,useFactory:()=>{const D=(0,f.f3M)(He.EM),S=(0,f.f3M)(f.R0b),O=(0,f.f3M)(oi),b=(0,f.f3M)(an),N=(0,f.f3M)(ir);return O.scrollOffset&&D.setOffset(O.scrollOffset),new on(N,b,D,S,O)}},null!=N&&N.preloadingStrategy?ol(N.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Wi},null!=N&&N.initialNavigation?yu(N):[],null!=N&&N.bindToComponentInputs?Po(8,[gs,{provide:ri,useExisting:gs}]).\u0275providers:[],[{provide:Zi,useFactory:St},{provide:f.tb,multi:!0,useExisting:Zi}]]}}static forChild(b){return{ngModule:S,providers:[{provide:_e,multi:!0,useValue:b}]}}}return(D=S).\u0275fac=function(b){return new(b||D)(f.LFG(La,8))},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({}),S})();function qr(D){return"guarded"}function yu(D){return["disabled"===D.initialNavigation?Po(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const S=(0,f.f3M)(Cs);return()=>{S.setUpLocationChangeListener()}}},{provide:Ur,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Po(2,[{provide:Ur,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:S=>{const O=S.get(He.V_,Promise.resolve());return()=>O.then(()=>new Promise(b=>{const N=S.get(Cs),X=S.get(Yt);ro(N,()=>{b(!0)}),S.get(an).afterPreactivation=()=>(b(!0),X.closed?(0,Ee.of)(void 0):X),N.initialNavigation()}))}}]).\u0275providers:[]]}const Zi=new f.OlP("")},4303:(rn,it,x)=>{"use strict";x.d(it,{Jn:()=>mt,KN:()=>gn,Xd:()=>Rt,qX:()=>At});var f=x(5861),g=x(4537),K=x(7879),ne=x(9058),Te=x(1878);class Ee{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function he(Dt){const We=Dt.getComponent();return"VERSION"===(null==We?void 0:We.type)}(wt)){const Kt=wt.getImmediate();return`${Kt.library}/${Kt.version}`}return null}).filter(wt=>wt).join(" ")}}const Ge="@firebase/app",ue=new K.Yd("@firebase/app"),ye={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Se=new Map,Ze=new Map;function rt(Dt,We){try{Dt.container.addComponent(We)}catch(wt){ue.debug(`Component ${We.name} failed to register with FirebaseApp ${Dt.name}`,wt)}}function Rt(Dt){const We=Dt.name;if(Ze.has(We))return ue.debug(`There were multiple attempts to register component ${We}.`),!1;Ze.set(We,Dt);for(const wt of Se.values())rt(wt,Dt);return!0}function At(Dt,We){const wt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),Dt.container.getProvider(We)}const yt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),mt="10.4.0";function gn(Dt,We,wt){var Kt;let sn=null!==(Kt=ye[Dt])&&void 0!==Kt?Kt:Dt;wt&&(sn+=`-${wt}`);const vn=sn.match(/\s|\//),zn=We.match(/\s|\//);if(vn||zn){const ke=[`Unable to register library "${sn}" with version "${We}":`];return vn&&ke.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),vn&&zn&&ke.push("and"),zn&&ke.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void ue.warn(ke.join(" "))}Rt(new g.wA(`${sn}-version`,()=>({library:sn,version:We}),"VERSION"))}const Er="firebase-heartbeat-database",On=1,Pn="firebase-heartbeat-store";let $n=null;function ar(){return $n||($n=(0,Te.X3)(Er,On,{upgrade:(Dt,We)=>{0===We&&Dt.createObjectStore(Pn)}}).catch(Dt=>{throw yt.create("idb-open",{originalErrorMessage:Dt.message})})),$n}function Cr(){return(Cr=(0,f.Z)(function*(Dt){try{return yield(yield ar()).transaction(Pn).objectStore(Pn).get(Wt(Dt))}catch(We){if(We instanceof ne.ZR)ue.warn(We.message);else{const wt=yt.create("idb-get",{originalErrorMessage:null==We?void 0:We.message});ue.warn(wt.message)}}})).apply(this,arguments)}function $t(Dt,We){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(Dt,We){try{const Kt=(yield ar()).transaction(Pn,"readwrite");yield Kt.objectStore(Pn).put(We,Wt(Dt)),yield Kt.done}catch(wt){if(wt instanceof ne.ZR)ue.warn(wt.message);else{const Kt=yt.create("idb-set",{originalErrorMessage:null==wt?void 0:wt.message});ue.warn(Kt.message)}}})).apply(this,arguments)}function Wt(Dt){return`${Dt.name}!${Dt.options.appId}`}class ir{constructor(We){this.container=We,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new ni(wt),this._heartbeatsCachePromise=this._storage.read().then(Kt=>(this._heartbeatsCache=Kt,Kt))}triggerHeartbeat(){var We=this;return(0,f.Z)(function*(){const Kt=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=Jr();if(null===We._heartbeatsCache&&(We._heartbeatsCache=yield We._heartbeatsCachePromise),We._heartbeatsCache.lastSentHeartbeatDate!==sn&&!We._heartbeatsCache.heartbeats.some(vn=>vn.date===sn))return We._heartbeatsCache.heartbeats.push({date:sn,agent:Kt}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(vn=>{const zn=new Date(vn.date).valueOf();return Date.now()-zn<=2592e6}),We._storage.overwrite(We._heartbeatsCache)})()}getHeartbeatsHeader(){var We=this;return(0,f.Z)(function*(){if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null===We._heartbeatsCache||0===We._heartbeatsCache.heartbeats.length)return"";const wt=Jr(),{heartbeatsToSend:Kt,unsentEntries:sn}=function Mi(Dt,We=1024){const wt=[];let Kt=Dt.slice();for(const sn of Dt){const vn=wt.find(zn=>zn.agent===sn.agent);if(vn){if(vn.dates.push(sn.date),Lr(wt)>We){vn.dates.pop();break}}else if(wt.push({agent:sn.agent,dates:[sn.date]}),Lr(wt)>We){wt.pop();break}Kt=Kt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Kt}}(We._heartbeatsCache.heartbeats),vn=(0,ne.L)(JSON.stringify({version:2,heartbeats:Kt}));return We._heartbeatsCache.lastSentHeartbeatDate=wt,sn.length>0?(We._heartbeatsCache.heartbeats=sn,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),vn})()}}function Jr(){return(new Date).toISOString().substring(0,10)}class ni{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,f.Z)(function*(){return(yield We._canUseIndexedDBPromise)&&(yield function gr(Dt){return Cr.apply(this,arguments)}(We.app))||{heartbeats:[]}})()}overwrite(We){var wt=this;return(0,f.Z)(function*(){var Kt;if(yield wt._canUseIndexedDBPromise){const vn=yield wt.read();return $t(wt.app,{lastSentHeartbeatDate:null!==(Kt=We.lastSentHeartbeatDate)&&void 0!==Kt?Kt:vn.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var wt=this;return(0,f.Z)(function*(){var Kt;if(yield wt._canUseIndexedDBPromise){const vn=yield wt.read();return $t(wt.app,{lastSentHeartbeatDate:null!==(Kt=We.lastSentHeartbeatDate)&&void 0!==Kt?Kt:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...We.heartbeats]})}})()}}function Lr(Dt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function $r(Dt){Rt(new g.wA("platform-logger",We=>new Ee(We),"PRIVATE")),Rt(new g.wA("heartbeat",We=>new ir(We),"PRIVATE")),gn(Ge,"0.9.19",Dt),gn(Ge,"0.9.19","esm2017"),gn("fire-js","")}("")},4537:(rn,it,x)=>{"use strict";x.d(it,{H0:()=>Ge,wA:()=>K});var f=x(5861),g=x(9058);class K{constructor(ue,le,be){this.name=ue,this.instanceFactory=le,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const ne="[DEFAULT]";class Te{constructor(ue,le){this.name=ue,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const le=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(le)){const be=new g.BH;if(this.instancesDeferred.set(le,be),this.isInitialized(le)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:le});Ae&&be.resolve(Ae)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ue){var le;const be=this.normalizeInstanceIdentifier(null==ue?void 0:ue.identifier),Ae=null!==(le=null==ue?void 0:ue.optional)&&void 0!==le&&le;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ne){if(Ae)return null;throw Ne}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function he($e){return"EAGER"===$e.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[le,be]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(le);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ae});be.resolve(Ne)}catch{}}}}clearInstance(ue=ne){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,f.Z)(function*(){const le=Array.from(ue.instances.values());yield Promise.all([...le.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...le.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=ne){return this.instances.has(ue)}getOptions(ue=ne){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:le={}}=ue,be=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:be,options:le});for(const[Ne,Ce]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ne)&&Ce.resolve(Ae);return Ae}onInit(ue,le){var be;const Ae=this.normalizeInstanceIdentifier(le),Ne=null!==(be=this.onInitCallbacks.get(Ae))&&void 0!==be?be:new Set;Ne.add(ue),this.onInitCallbacks.set(Ae,Ne);const Ce=this.instances.get(Ae);return Ce&&ue(Ce,Ae),()=>{Ne.delete(ue)}}invokeOnInitCallbacks(ue,le){const be=this.onInitCallbacks.get(le);if(be)for(const Ae of be)try{Ae(ue,le)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:le={}}){let be=this.instances.get(ue);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:($e=ue,$e===ne?void 0:$e),options:le}),this.instances.set(ue,be),this.instancesOptions.set(ue,le),this.invokeOnInitCallbacks(be,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,be)}catch{}var $e;return be||null}normalizeInstanceIdentifier(ue=ne){return this.component?this.component.multipleInstances?ue:ne:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const le=this.getProvider(ue.name);if(le.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);le.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const le=new Te(ue,this);return this.providers.set(ue,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(rn,it,x)=>{"use strict";x.d(it,{Am:()=>$e,Ub:()=>Ge,Yd:()=>he,in:()=>g});const f=[];var g=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(g||{});const K={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ne=g.INFO,Te={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},Ee=(ue,le,...be)=>{if(le<ue.logLevel)return;const Ae=(new Date).toISOString(),Ne=Te[le];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Ne](`[${Ae}]  ${ue.name}:`,...be)};class he{constructor(le){this.name=le,this._logLevel=ne,this._logHandler=Ee,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in g))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?K[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...le),this._logHandler(this,g.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...le),this._logHandler(this,g.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,g.INFO,...le),this._logHandler(this,g.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,g.WARN,...le),this._logHandler(this,g.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...le),this._logHandler(this,g.ERROR,...le)}}function Ge(ue){f.forEach(le=>{le.setLogLevel(ue)})}function $e(ue,le){for(const be of f){let Ae=null;le&&le.level&&(Ae=K[le.level]),be.userLogHandler=null===ue?null:(Ne,Ce,...Ye)=>{const Ve=Ye.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Ce>=(null!=Ae?Ae:Ne.logLevel)&&ue({level:g[Ce].toLowerCase(),message:Ve,args:Ye,type:Ne.name})}}}},6761:(rn,it,x)=>{"use strict";x.d(it,{Br:()=>Lo,dr:()=>Mi,YG:()=>Kt,Sm:()=>sn,PM:()=>vn,FN:()=>zn,Zi:()=>ke,tO:()=>Z,Dq:()=>Y,W2:()=>bt,Gu:()=>Fe,gu:()=>_t,Xz:()=>ft,pK:()=>Sn,Ie:()=>Zt,Q$:()=>Or,q_:()=>Mr,z0:()=>br,fG:()=>Wr,B7:()=>qi,se:()=>Kr,jP:()=>ho,wd:()=>_n,sr:()=>lr,Pc:()=>de,r4:()=>B,HT:()=>Ro,SH:()=>yn,as:()=>On,U5:()=>Pn,YI:()=>ji,QI:()=>$n,j9:()=>ar,yF:()=>Ko});var f=x(5861),g=x(5879),K=x(95),ne=x(7582),Te=x(4829),Ee=x(5592),he=x(1631),Ge=x(4266),$e=x(4674),ue=x(7400);const le=["addListener","removeListener"],be=["addEventListener","removeEventListener"],Ae=["on","off"];function Ne(y,V,E,F){if((0,$e.m)(E)&&(F=E,E=void 0),F)return Ne(y,V,E).pipe((0,ue.Z)(F));const[te,Tt]=function Ie(y){return(0,$e.m)(y.addEventListener)&&(0,$e.m)(y.removeEventListener)}(y)?be.map(En=>In=>y[En](V,In,E)):function Ye(y){return(0,$e.m)(y.addListener)&&(0,$e.m)(y.removeListener)}(y)?le.map(Ce(y,V)):function Ve(y){return(0,$e.m)(y.on)&&(0,$e.m)(y.off)}(y)?Ae.map(Ce(y,V)):[];if(!te&&(0,Ge.z)(y))return(0,he.z)(En=>Ne(En,V,E))((0,Te.Xf)(y));if(!te)throw new TypeError("Invalid event target");return new Ee.y(En=>{const In=(...Un)=>En.next(1<Un.length?Un:Un[0]);return te(In),()=>Tt(In)})}function Ce(y,V){return E=>F=>y[E](V,F)}var me=x(8645),ut=x(5619),Re=x(2572),He=x(2096),ge=x(2692),Me=(x(1774),x(2690)),Qe=(x(7006),x(2952),x(9203),x(152)),ct=x(839),dt=x(3365),mn=(x(4505),x(1912)),ht=(x(6225),x(2364));x(619);var Se=x(2181),Ze=x(4664),rt=x(3997),tt=x(6814);const At=Qe.i,Xe=["*"],Hn=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y);let kn=(()=>{class y{constructor(E,F){this.injector=E,this.el=F,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(E){this.el.nativeElement.value=this.lastValue=E,dn(this.el)}handleValueChange(E,F){E===this.el.nativeElement&&(F!==this.lastValue&&(this.lastValue=F,this.onChange(F)),dn(this.el))}_handleBlurEvent(E){E===this.el.nativeElement&&(this.onTouched(),dn(this.el))}registerOnChange(E){this.onChange=E}registerOnTouched(E){this.onTouched=E}setDisabledState(E){this.el.nativeElement.disabled=E}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let E;try{E=this.injector.get(K.a5)}catch{}if(!E)return;E.statusChanges&&(this.statusChanges=E.statusChanges.subscribe(()=>dn(this.el)));const F=E.control;F&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Tt=>{if(typeof F[Tt]<"u"){const En=F[Tt].bind(F);F[Tt]=(...In)=>{En(...In),dn(this.el)}}})}}return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,hostBindings:function(E,F){1&E&&g.NdJ("ionBlur",function(Tt){return F._handleBlurEvent(Tt.target)})}}),y})();const dn=y=>{Hn(()=>{const V=y.nativeElement,E=null!=V.value&&V.value.toString().length>0,F=gn(V);Rn(V,F);const te=V.closest("ion-item");te&&Rn(te,E?[...F,"item-has-value"]:F)})},gn=y=>{const V=y.classList,E=[];for(let F=0;F<V.length;F++){const te=V.item(F);null!==te&&xr(te,"ng-")&&E.push(`ion-${te.substring(3)}`)}return E},Rn=(y,V)=>{const E=y.classList;E.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),E.add(...V)},xr=(y,V)=>y.substring(0,V.length)===V;let On=(()=>{class y extends kn{constructor(E,F){super(E,F)}handleInputEvent(E){this.handleValueChange(E,E.value)}registerOnChange(E){super.registerOnChange(F=>{E(""===F?null:parseFloat(F))})}}return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-input","type","number"]],hostBindings:function(E,F){1&E&&g.NdJ("ionInput",function(Tt){return F.handleInputEvent(Tt.target)})},features:[g._Bn([{provide:K.JU,useExisting:y,multi:!0}]),g.qOj]}),y})(),Pn=(()=>{class y extends kn{constructor(E,F){super(E,F)}_handleIonSelect(E){this.handleValueChange(E,E.checked)}}return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-radio"]],hostBindings:function(E,F){1&E&&g.NdJ("ionSelect",function(Tt){return F._handleIonSelect(Tt.target)})},features:[g._Bn([{provide:K.JU,useExisting:y,multi:!0}]),g.qOj]}),y})(),$n=(()=>{class y extends kn{constructor(E,F){super(E,F)}_handleChangeEvent(E){this.handleValueChange(E,E.value)}}return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(E,F){1&E&&g.NdJ("ionChange",function(Tt){return F._handleChangeEvent(Tt.target)})},features:[g._Bn([{provide:K.JU,useExisting:y,multi:!0}]),g.qOj]}),y})(),ar=(()=>{class y extends kn{constructor(E,F){super(E,F)}_handleInputEvent(E){this.handleValueChange(E,E.value)}}return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(E,F){1&E&&g.NdJ("ionInput",function(Tt){return F._handleInputEvent(Tt.target)})},features:[g._Bn([{provide:K.JU,useExisting:y,multi:!0}]),g.qOj]}),y})();const gr=(y,V)=>{const E=y.prototype;V.forEach(F=>{Object.defineProperty(E,F,{get(){return this.el[F]},set(te){this.z.runOutsideAngular(()=>this.el[F]=te)}})})},Cr=(y,V)=>{const E=y.prototype;V.forEach(F=>{E[F]=function(){const te=arguments;return this.z.runOutsideAngular(()=>this.el[F].apply(this.el,te))}})},$t=(y,V,E)=>{E.forEach(F=>y[F]=Ne(V,F))};function Wt(y){return function(E){const{defineCustomElementFn:F,inputs:te,methods:Tt}=y;return void 0!==F&&F(),te&&gr(E,te),Tt&&Cr(E,Tt),E}}let Mi=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({})],y),y})(),Kt=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],y),y})(),sn=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["collapse"]})],y),y})(),vn=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],y),y})(),zn=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["mode"]})],y),y})(),ke=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","mode","translucent"]})],y),y})(),Z=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","mode"]})],y),y})(),Y=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","mode"]})],y),y})(),bt=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),Fe=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["collapse","mode","translucent"]})],y),y})(),_t=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],y),y})(),ft=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["alt","src"]})],y),y})(),Sn=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],y),y})(),Zt=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],y),y})(),Or=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","mode","position"]})],y),y})(),Mr=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],y),y})(),br=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],y),y})(),Wr=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["autoHide","color","disabled","menu","mode","type"]})],y),y})(),qi=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],y),y})(),Kr=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement,$t(this,this.el,["ionChange"])}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["allowEmptySelection","name","value"]})],y),y})(),_n=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","size"]})],y),y})(),lr=(()=>{let y=class{constructor(E,F,te){this.z=te,E.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(E){return new(E||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,F){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ne.gn)([Wt({inputs:["color","mode"]})],y),y})(),ls=(()=>{class y{get(E,F){const te=ci();return te?te.get(E,F):null}getBoolean(E,F){const te=ci();return!!te&&te.getBoolean(E,F)}getNumber(E,F){const te=ci();return te?te.getNumber(E,F):0}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Eo=new g.OlP("USERCONFIG"),ci=()=>{if(typeof window<"u"){const y=window.Ionic;if(null!=y&&y.config)return y.config}return null};let no=(()=>{class y{constructor(E,F){this.doc=E,this.backButton=new me.x,this.keyboardDidShow=new me.x,this.keyboardDidHide=new me.x,this.pause=new me.x,this.resume=new me.x,this.resize=new me.x,F.run(()=>{var te;let Tt;this.win=E.defaultView,this.backButton.subscribeWithPriority=function(En,In){return this.subscribe(Un=>Un.register(En,mr=>F.run(()=>In(mr))))},wr(this.pause,E,"pause"),wr(this.resume,E,"resume"),wr(this.backButton,E,"ionBackButton"),wr(this.resize,this.win,"resize"),wr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),wr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(En=>{Tt=En}),null!==(te=this.win)&&void 0!==te&&te.cordova?E.addEventListener("deviceready",()=>{Tt("cordova")},{once:!0}):Tt("dom")})}is(E){return(0,Qe.a)(this.win,E)}platforms(){return(0,Qe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(E){return Es(this.win.location.href,E)}isLandscape(){return!this.isPortrait()}isPortrait(){var E,F;return null===(E=(F=this.win).matchMedia)||void 0===E?void 0:E.call(F,"(orientation: portrait)").matches}testUserAgent(E){const F=this.win.navigator;return!!(null!=F&&F.userAgent&&F.userAgent.indexOf(E)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return y.\u0275fac=function(E){return new(E||y)(g.LFG(tt.K0),g.LFG(g.R0b))},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Es=(y,V)=>{V=V.replace(/[[\]\\]/g,"\\$&");const F=new RegExp("[\\?&]"+V+"=([^&#]*)").exec(y);return F?decodeURIComponent(F[1].replace(/\+/g," ")):null},wr=(y,V,E)=>{V&&V.addEventListener(E,F=>{y.next(null!=F?F.detail:void 0)})};let yn=(()=>{class y{constructor(E,F,te,Tt){this.location=F,this.serializer=te,this.router=Tt,this.direction=Yr,this.animated=ui,this.guessDirection="forward",this.lastNavId=-1,Tt&&Tt.events.subscribe(En=>{if(En instanceof ge.OD){const In=En.restoredState?En.restoredState.navigationId:En.id;this.guessDirection=In<this.lastNavId?"back":"forward",this.guessAnimation=En.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?En.id:In}}),E.backButton.subscribeWithPriority(0,En=>{this.pop(),En()})}navigateForward(E,F={}){return this.setDirection("forward",F.animated,F.animationDirection,F.animation),this.navigate(E,F)}navigateBack(E,F={}){return this.setDirection("back",F.animated,F.animationDirection,F.animation),this.navigate(E,F)}navigateRoot(E,F={}){return this.setDirection("root",F.animated,F.animationDirection,F.animation),this.navigate(E,F)}back(E={animated:!0,animationDirection:"back"}){return this.setDirection("back",E.animated,E.animationDirection,E.animation),this.location.back()}pop(){var E=this;return(0,f.Z)(function*(){let F=E.topOutlet;for(;F;){if(yield F.pop())return!0;F=F.parentOutlet}return!1})()}setDirection(E,F,te,Tt){this.direction=E,this.animated=Gn(E,F,te),this.animationBuilder=Tt}setTopOutlet(E){this.topOutlet=E}consumeTransition(){let F,E="root";const te=this.animationBuilder;return"auto"===this.direction?(E=this.guessDirection,F=this.guessAnimation):(F=this.animated,E=this.direction),this.direction=Yr,this.animated=ui,this.animationBuilder=void 0,{direction:E,animation:F,animationBuilder:te}}navigate(E,F){if(Array.isArray(E))return this.router.navigate(E,F);{const te=this.serializer.parse(E.toString());return void 0!==F.queryParams&&(te.queryParams={...F.queryParams}),void 0!==F.fragment&&(te.fragment=F.fragment),this.router.navigateByUrl(te,F)}}}return y.\u0275fac=function(E){return new(E||y)(g.LFG(no),g.LFG(tt.Ye),g.LFG(ge.Hx),g.LFG(ge.F0,8))},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Gn=(y,V,E)=>{if(!1!==V){if(void 0!==E)return E;if("forward"===y||"back"===y)return y;if("root"===y&&!0===V)return"forward"}},Yr="auto",ui=void 0;class Is{constructor(V={}){this.data=V}get(V){return this.data[V]}}let Ii=(()=>{class y{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(E,F,te){return new Io(E,F,this.applicationRef,this.zone,te)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})();class Io{constructor(V,E,F,te,Tt){this.environmentInjector=V,this.injector=E,this.applicationRef=F,this.zone=te,this.elementReferenceKey=Tt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(V,E,F,te){return this.zone.run(()=>new Promise(Tt=>{const En={...F};void 0!==this.elementReferenceKey&&(En[this.elementReferenceKey]=V),Tt(ri(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,V,E,En,te,this.elementReferenceKey))}))}removeViewFromDom(V,E){return this.zone.run(()=>new Promise(F=>{const te=this.elRefMap.get(E);if(te){te.destroy(),this.elRefMap.delete(E);const Tt=this.elEventsMap.get(E);Tt&&(Tt(),this.elEventsMap.delete(E))}F()}))}}const ri=(y,V,E,F,te,Tt,En,In,Un,mr,Xr)=>{const ns=g.zs3.create({providers:fi(Un),parent:E}),rs=(0,g.LMc)(In,{environmentInjector:V,elementInjector:ns}),Hs=rs.instance,bs=rs.location.nativeElement;if(Un&&(Xr&&void 0!==Hs[Xr]&&console.error(`[Ionic Error]: ${Xr} is a reserved property when using ${En.tagName.toLowerCase()}. Rename or remove the "${Xr}" property from ${In.name}.`),Object.assign(Hs,Un)),mr)for(const Bo of mr)bs.classList.add(Bo);const Xs=co(y,Hs,bs);return En.appendChild(bs),F.attachView(rs.hostView),te.set(bs,rs),Tt.set(bs,Xs),bs},gs=[Me.L,Me.a,Me.b,Me.c,Me.d],co=(y,V,E)=>y.run(()=>{const F=gs.filter(te=>"function"==typeof V[te]).map(te=>{const Tt=En=>V[te](En.detail);return E.addEventListener(te,Tt),()=>E.removeEventListener(te,Tt)});return()=>F.forEach(te=>te())}),Bn=new g.OlP("NavParamsToken"),fi=y=>[{provide:Bn,useValue:y},{provide:Is,useFactory:Do,deps:[Bn]}],Do=y=>new Is(y),ii=(y,V)=>((y=y.filter(E=>E.stackId!==V.stackId)).push(V),y),vi=(y,V)=>{const E=y.createUrlTree(["."],{relativeTo:V});return y.serializeUrl(E)},zi=(y,V)=>!V||y.stackId!==V.stackId,Zs=(y,V)=>{if(!y)return;const E=Bs(V);for(let F=0;F<E.length;F++){if(F>=y.length)return E[F];if(E[F]!==y[F])return}},Bs=y=>y.split("/").map(V=>V.trim()).filter(V=>""!==V),ms=y=>{y&&(y.ref.destroy(),y.unlistenEvents())};class Vs{constructor(V,E,F,te,Tt,En){this.containerEl=E,this.router=F,this.navCtrl=te,this.zone=Tt,this.location=En,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==V?Bs(V):void 0}createView(V,E){var F;const te=vi(this.router,E),Tt=null==V||null===(F=V.location)||void 0===F?void 0:F.nativeElement,En=co(this.zone,V.instance,Tt);return{id:this.nextId++,stackId:Zs(this.tabsPrefix,te),unlistenEvents:En,element:Tt,ref:V,url:te}}getExistingView(V){const E=vi(this.router,V),F=this.views.find(te=>te.url===E);return F&&F.ref.changeDetectorRef.reattach(),F}setActive(V){var E,F;const te=this.navCtrl.consumeTransition();let{direction:Tt,animation:En,animationBuilder:In}=te;const Un=this.activeView,mr=zi(V,Un);mr&&(Tt="back",En=void 0);const Xr=this.views.slice();let ns;const rs=this.router;rs.getCurrentNavigation?ns=rs.getCurrentNavigation():null!==(E=rs.navigations)&&void 0!==E&&E.value&&(ns=rs.navigations.value),null!==(F=ns)&&void 0!==F&&null!==(F=F.extras)&&void 0!==F&&F.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Hs=this.views.includes(V),bs=this.insertView(V,Tt);Hs||V.ref.changeDetectorRef.detectChanges();const Xs=V.animationBuilder;return void 0===In&&"back"===Tt&&!mr&&void 0!==Xs&&(In=Xs),Un&&(Un.animationBuilder=In),this.zone.runOutsideAngular(()=>this.wait(()=>(Un&&Un.ref.changeDetectorRef.detach(),V.ref.changeDetectorRef.reattach(),this.transition(V,Un,En,this.canGoBack(1),!1,In).then(()=>uo(V,bs,Xr,this.location,this.zone)).then(()=>({enteringView:V,direction:Tt,animation:En,tabSwitch:mr})))))}canGoBack(V,E=this.getActiveStackId()){return this.getStack(E).length>V}pop(V,E=this.getActiveStackId()){return this.zone.run(()=>{const F=this.getStack(E);if(F.length<=V)return Promise.resolve(!1);const te=F[F.length-V-1];let Tt=te.url;const En=te.savedData;if(En){var In;const mr=En.get("primary");null!=mr&&null!==(In=mr.route)&&void 0!==In&&null!==(In=In._routerState)&&void 0!==In&&In.snapshot.url&&(Tt=mr.route._routerState.snapshot.url)}const{animationBuilder:Un}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Tt,{...te.savedExtras,animation:Un}).then(()=>!0)})}startBackTransition(){const V=this.activeView;if(V){const E=this.getStack(V.stackId),F=E[E.length-2],te=F.animationBuilder;return this.wait(()=>this.transition(F,V,"back",this.canGoBack(2),!0,te))}return Promise.resolve()}endBackTransition(V){V?(this.skipTransition=!0,this.pop(1)):this.activeView&&hr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(V){const E=this.getStack(V);return E.length>0?E[E.length-1]:void 0}getRootUrl(V){const E=this.getStack(V);return E.length>0?E[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ms),this.activeView=void 0,this.views=[]}getStack(V){return this.views.filter(E=>E.stackId===V)}insertView(V,E){return this.activeView=V,this.views=((y,V,E)=>"root"===E?ii(y,V):"forward"===E?((y,V)=>(y.indexOf(V)>=0?y=y.filter(F=>F.stackId!==V.stackId||F.id<=V.id):y.push(V),y))(y,V):((y,V)=>y.indexOf(V)>=0?y.filter(F=>F.stackId!==V.stackId||F.id<=V.id):ii(y,V))(y,V))(this.views,V,E),this.views.slice()}transition(V,E,F,te,Tt,En){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(E===V)return Promise.resolve(!1);const In=V?V.element:void 0,Un=E?E.element:void 0,mr=this.containerEl;return In&&In!==Un&&(In.classList.add("ion-page"),In.classList.add("ion-page-invisible"),In.parentElement!==mr&&mr.appendChild(In),mr.commit)?mr.commit(In,Un,{duration:void 0===F?0:void 0,direction:F,showGoBack:te,progressAnimation:Tt,animationBuilder:En}):Promise.resolve(!1)}wait(V){var E=this;return(0,f.Z)(function*(){void 0!==E.runningTask&&(yield E.runningTask,E.runningTask=void 0);const F=E.runningTask=V();return F.finally(()=>E.runningTask=void 0),F})()}}const uo=(y,V,E,F,te)=>"function"==typeof requestAnimationFrame?new Promise(Tt=>{requestAnimationFrame(()=>{hr(y,V,E,F,te),Tt()})}):Promise.resolve(),hr=(y,V,E,F,te)=>{te.run(()=>E.filter(Tt=>!V.includes(Tt)).forEach(ms)),V.forEach(Tt=>{const In=F.path().split("?")[0].split("#")[0];if(Tt!==y&&Tt.url!==In){const Un=Tt.element;Un.setAttribute("aria-hidden","true"),Un.classList.add("ion-page-hidden"),Tt.ref.changeDetectorRef.detach()}})};let ho=(()=>{class y{constructor(E,F,te,Tt,En,In,Un,mr){this.parentOutlet=mr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ut.X(null),this.activated=null,this._activatedRoute=null,this.name=ge.eC,this.stackWillChange=new g.vpe,this.stackDidChange=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(ge.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(bo,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,g.f3M)(ls),this.navCtrl=(0,g.f3M)(yn),this.nativeEl=Tt.nativeElement,this.name=E||ge.eC,this.tabsPrefix="true"===F?vi(En,Un):void 0,this.stackCtrl=new Vs(this.tabsPrefix,this.nativeEl,En,this.navCtrl,In,te),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(E){this.nativeEl.animation=E}set animated(E){this.nativeEl.animated=E}set swipeGesture(E){this._swipeGesture=E,this.nativeEl.swipeHandler=E?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:F=>this.stackCtrl.endBackTransition(F)}:void 0}ngOnDestroy(){var E;this.stackCtrl.destroy(),null===(E=this.inputBinder)||void 0===E||E.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const E=this.getContext();null!=E&&E.route&&this.activateWith(E.route,E.injector)}new Promise(E=>(0,ct.c)(this.nativeEl,E)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(E,F){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const F=this.getContext();this.activatedView.savedData=new Map(F.children.contexts);const te=this.activatedView.savedData.get("primary");if(te&&F.route&&(te.route={...F.route}),this.activatedView.savedExtras={},F.route){const Tt=F.route.snapshot;this.activatedView.savedExtras.queryParams=Tt.queryParams,this.activatedView.savedExtras.fragment=Tt.fragment}}const E=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,F){var te;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;let Tt,En=this.stackCtrl.getExistingView(E);if(En){Tt=this.activated=En.ref;const mr=En.savedData;mr&&(this.getContext().children.contexts=mr),this.updateActivatedRouteProxy(Tt.instance,E)}else{var In;const mr=E._futureSnapshot,Xr=this.parentContexts.getOrCreateContext(this.name).children,ns=new ut.X(null),rs=this.createActivatedRouteProxy(ns,E),Hs=new ts(rs,Xr,this.location.injector),bs=null!==(In=mr.routeConfig.component)&&void 0!==In?In:mr.component;Tt=this.activated=this.location.createComponent(bs,{index:this.location.length,injector:Hs,environmentInjector:null!=F?F:this.environmentInjector}),ns.next(Tt.instance),En=this.stackCtrl.createView(this.activated,E),this.proxyMap.set(Tt.instance,rs),this.currentActivatedRoute$.next({component:Tt.instance,activatedRoute:E})}null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.activatedView=En,this.navCtrl.setTopOutlet(this);const Un=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:En,tabSwitch:zi(En,Un)}),this.stackCtrl.setActive(En).then(mr=>{this.activateEvents.emit(Tt.instance),this.stackDidChange.emit(mr)})}canGoBack(E=1,F){return this.stackCtrl.canGoBack(E,F)}pop(E=1,F){return this.stackCtrl.pop(E,F)}getLastUrl(E){const F=this.stackCtrl.getLastUrl(E);return F?F.url:void 0}getLastRouteView(E){return this.stackCtrl.getLastUrl(E)}getRootView(E){return this.stackCtrl.getRootUrl(E)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(E,F){const te=new ge.gz;return te._futureSnapshot=F._futureSnapshot,te._routerState=F._routerState,te.snapshot=F.snapshot,te.outlet=F.outlet,te.component=F.component,te._paramMap=this.proxyObservable(E,"paramMap"),te._queryParamMap=this.proxyObservable(E,"queryParamMap"),te.url=this.proxyObservable(E,"url"),te.params=this.proxyObservable(E,"params"),te.queryParams=this.proxyObservable(E,"queryParams"),te.fragment=this.proxyObservable(E,"fragment"),te.data=this.proxyObservable(E,"data"),te}proxyObservable(E,F){return E.pipe((0,Se.h)(te=>!!te),(0,Ze.w)(te=>this.currentActivatedRoute$.pipe((0,Se.h)(Tt=>null!==Tt&&Tt.component===te),(0,Ze.w)(Tt=>Tt&&Tt.activatedRoute[F]),(0,rt.x)())))}updateActivatedRouteProxy(E,F){const te=this.proxyMap.get(E);if(!te)throw new Error("Could not find activated route proxy for view");te._futureSnapshot=F._futureSnapshot,te._routerState=F._routerState,te.snapshot=F.snapshot,te.outlet=F.outlet,te.component=F.component,this.currentActivatedRoute$.next({component:E,activatedRoute:F})}}return y.\u0275fac=function(E){return new(E||y)(g.$8M("name"),g.$8M("tabs"),g.Y36(tt.Ye),g.Y36(g.SBq),g.Y36(ge.F0),g.Y36(g.R0b),g.Y36(ge.gz),g.Y36(y,12))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),y})();class ts{constructor(V,E,F){this.route=V,this.childContexts=E,this.parent=F}get(V,E){return V===ge.gz?this.route:V===ge.y6?this.childContexts:this.parent.get(V,E)}}const bo=new g.OlP("");let Ri=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){var F;null===(F=this.outletDataSubscriptions.get(E))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:F}=E,te=(0,Re.a)([F.queryParams,F.params,F.data]).pipe((0,Ze.w)(([Tt,En,In],Un)=>(In={...Tt,...En,...In},0===Un?(0,He.of)(In):Promise.resolve(In)))).subscribe(Tt=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(E);const En=(0,g.qFp)(F.component);if(En)for(const{templateName:In}of En.inputs)E.activatedComponentRef.setInput(In,Tt[In]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,te)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})(),ji=(()=>{class y{constructor(E,F,te,Tt,En){this.locationStrategy=E,this.navCtrl=F,this.elementRef=te,this.router=Tt,this.routerLink=En,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var E;if(null!==(E=this.routerLink)&&void 0!==E&&E.urlTree){const F=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=F}}onClick(E){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),E.preventDefault()}}return y.\u0275fac=function(E){return new(E||y)(g.Y36(tt.S$),g.Y36(yn),g.Y36(g.SBq),g.Y36(ge.F0),g.Y36(ge.rH,8))},y.\u0275dir=g.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,F){1&E&&g.NdJ("click",function(Tt){return F.onClick(Tt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[g.TTD]}),y})();const Us={provide:K.Cf,useExisting:(0,g.Gpc)(()=>js),multi:!0};let js=(()=>{class y extends K.Fd{}return y.\u0275fac=function(){let V;return function(F){return(V||(V=g.n5z(y)))(F||y)}}(),y.\u0275dir=g.lG2({type:y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(E,F){2&E&&g.uIk("max",F._enabled?F.max:null)},features:[g._Bn([Us]),g.qOj]}),y})();const Gi={provide:K.Cf,useExisting:(0,g.Gpc)(()=>Ni),multi:!0};let Ni=(()=>{class y extends K.qQ{}return y.\u0275fac=function(){let V;return function(F){return(V||(V=g.n5z(y)))(F||y)}}(),y.\u0275dir=g.lG2({type:y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(E,F){2&E&&g.uIk("min",F._enabled?F.min:null)},features:[g._Bn([Gi]),g.qOj]}),y})();class cs{constructor(V){this.ctrl=V}create(V){return this.ctrl.create(V||{})}dismiss(V,E,F){return this.ctrl.dismiss(V,E,F)}getTop(){return this.ctrl.getTop()}}let Lo=(()=>{class y extends cs{constructor(){super(mn.a)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Ro=(()=>{class y extends cs{constructor(){super(mn.l)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),fo=(()=>{class y extends cs{constructor(){super(mn.m),this.angularDelegate=(0,g.f3M)(Ii),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(E){return super.create({...E,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})(),Co=(()=>{class y extends cs{constructor(){super(mn.c),this.angularDelegate=(0,g.f3M)(Ii),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(E){return super.create({...E,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})(),Ko=(()=>{class y extends cs{constructor(){super(mn.t)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class B{shouldDetach(V){return!1}shouldAttach(V){return!1}store(V,E){}retrieve(V){return null}shouldReuseRoute(V,E){if(V.routeConfig!==E.routeConfig)return!1;const F=V.params,te=E.params,Tt=Object.keys(F),En=Object.keys(te);if(Tt.length!==En.length)return!1;for(const In of Tt)if(te[In]!==F[In])return!1;return!0}}const P=(y,V,E)=>()=>{if(V.defaultView&&typeof window<"u"){(0,dt.s)({...y,_zoneGate:Tt=>E.run(Tt)});const te="__zone_symbol__addEventListener"in V.body?"__zone_symbol__addEventListener":"addEventListener";return function Rt(){var y=[];if(typeof window<"u"){var V=window;(!V.customElements||V.Element&&(!V.Element.prototype.closest||!V.Element.prototype.matches||!V.Element.prototype.remove||!V.Element.prototype.getRootNode))&&y.push(x.e(6748).then(x.t.bind(x,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||V.NodeList&&!V.NodeList.prototype.forEach||!V.fetch||!function(){try{var F=new URL("b","http://a");return F.pathname="c%20d","http://a/c%20d"===F.href&&F.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&y.push(x.e(2214).then(x.t.bind(x,2668,23)))}return Promise.all(y)}().then(()=>((y,V)=>{if(!(typeof window>"u"))return At(),(0,ht.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),V)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Hn,jmp:Tt=>E.runOutsideAngular(Tt),ael(Tt,En,In,Un){Tt[te](En,In,Un)},rel(Tt,En,In,Un){Tt.removeEventListener(En,In,Un)}}))}};let de=(()=>{class y{static forRoot(E){return{ngModule:y,providers:[{provide:Eo,useValue:E},{provide:g.ip1,useFactory:P,multi:!0,deps:[Eo,tt.K0,g.R0b]},{provide:bo,useFactory:Gt,deps:[ge.F0]}]}}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275mod=g.oAB({type:y}),y.\u0275inj=g.cJS({providers:[Ii,fo,Co],imports:[tt.ez]}),y})();function Gt(y){return null!=y&&y.componentInputBindingEnabled?new Ri:null}},1878:(rn,it,x)=>{"use strict";x.d(it,{X3:()=>ut});var f=x(5861);const g=(se,ve)=>ve.some(Oe=>se instanceof Oe);let K,ne;const he=new WeakMap,Ge=new WeakMap,$e=new WeakMap,ue=new WeakMap,le=new WeakMap;let Ne={get(se,ve,Oe){if(se instanceof IDBTransaction){if("done"===ve)return Ge.get(se);if("objectStoreNames"===ve)return se.objectStoreNames||$e.get(se);if("store"===ve)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Ie(se[ve])},set:(se,ve,Oe)=>(se[ve]=Oe,!0),has:(se,ve)=>se instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in se};function Ve(se){return"function"==typeof se?function Ye(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...ve){return se.apply(me(this),ve),Ie(he.get(this))}:function(...ve){return Ie(se.apply(me(this),ve))}:function(ve,...Oe){const Qe=se.call(me(this),ve,...Oe);return $e.set(Qe,ve.sort?ve.sort():[ve]),Ie(Qe)}}(se):(se instanceof IDBTransaction&&function Ae(se){if(Ge.has(se))return;const ve=new Promise((Oe,Qe)=>{const ct=()=>{se.removeEventListener("complete",dt),se.removeEventListener("error",Vt),se.removeEventListener("abort",Vt)},dt=()=>{Oe(),ct()},Vt=()=>{Qe(se.error||new DOMException("AbortError","AbortError")),ct()};se.addEventListener("complete",dt),se.addEventListener("error",Vt),se.addEventListener("abort",Vt)});Ge.set(se,ve)}(se),g(se,function Te(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Ne):se)}function Ie(se){if(se instanceof IDBRequest)return function be(se){const ve=new Promise((Oe,Qe)=>{const ct=()=>{se.removeEventListener("success",dt),se.removeEventListener("error",Vt)},dt=()=>{Oe(Ie(se.result)),ct()},Vt=()=>{Qe(se.error),ct()};se.addEventListener("success",dt),se.addEventListener("error",Vt)});return ve.then(Oe=>{Oe instanceof IDBCursor&&he.set(Oe,se)}).catch(()=>{}),le.set(ve,se),ve}(se);if(ue.has(se))return ue.get(se);const ve=Ve(se);return ve!==se&&(ue.set(se,ve),le.set(ve,se)),ve}const me=se=>le.get(se);function ut(se,ve,{blocked:Oe,upgrade:Qe,blocking:ct,terminated:dt}={}){const Vt=indexedDB.open(se,ve),mn=Ie(Vt);return Qe&&Vt.addEventListener("upgradeneeded",Qt=>{Qe(Ie(Vt.result),Qt.oldVersion,Qt.newVersion,Ie(Vt.transaction),Qt)}),Oe&&Vt.addEventListener("blocked",Qt=>Oe(Qt.oldVersion,Qt.newVersion,Qt)),mn.then(Qt=>{dt&&Qt.addEventListener("close",()=>dt()),ct&&Qt.addEventListener("versionchange",ht=>ct(ht.oldVersion,ht.newVersion,ht))}).catch(()=>{}),mn}const He=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],qe=new Map;function Me(se,ve){if(!(se instanceof IDBDatabase)||ve in se||"string"!=typeof ve)return;if(qe.get(ve))return qe.get(ve);const Oe=ve.replace(/FromIndex$/,""),Qe=ve!==Oe,ct=ge.includes(Oe);if(!(Oe in(Qe?IDBIndex:IDBObjectStore).prototype)||!ct&&!He.includes(Oe))return;const dt=function(){var Vt=(0,f.Z)(function*(mn,...Qt){const ht=this.transaction(mn,ct?"readwrite":"readonly");let ie=ht.store;return Qe&&(ie=ie.index(Qt.shift())),(yield Promise.all([ie[Oe](...Qt),ct&&ht.done]))[0]});return function(Qt){return Vt.apply(this,arguments)}}();return qe.set(ve,dt),dt}!function Ce(se){Ne=se(Ne)}(se=>({...se,get:(ve,Oe,Qe)=>Me(ve,Oe)||se.get(ve,Oe,Qe),has:(ve,Oe)=>!!Me(ve,Oe)||se.has(ve,Oe)}))},5861:(rn,it,x)=>{"use strict";function f(K,ne,Te,Ee,he,Ge,$e){try{var ue=K[Ge]($e),le=ue.value}catch(be){return void Te(be)}ue.done?ne(le):Promise.resolve(le).then(Ee,he)}function g(K){return function(){var ne=this,Te=arguments;return new Promise(function(Ee,he){var Ge=K.apply(ne,Te);function $e(le){f(Ge,Ee,he,$e,ue,"next",le)}function ue(le){f(Ge,Ee,he,$e,ue,"throw",le)}$e(void 0)})}}x.d(it,{Z:()=>g})},7582:(rn,it,x)=>{"use strict";function ne(ie,ye){var Se={};for(var Ze in ie)Object.prototype.hasOwnProperty.call(ie,Ze)&&ye.indexOf(Ze)<0&&(Se[Ze]=ie[Ze]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ze=Object.getOwnPropertySymbols(ie);rt<Ze.length;rt++)ye.indexOf(Ze[rt])<0&&Object.prototype.propertyIsEnumerable.call(ie,Ze[rt])&&(Se[Ze[rt]]=ie[Ze[rt]])}return Se}function Te(ie,ye,Se,Ze){var Rt,rt=arguments.length,tt=rt<3?ye:null===Ze?Ze=Object.getOwnPropertyDescriptor(ye,Se):Ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tt=Reflect.decorate(ie,ye,Se,Ze);else for(var At=ie.length-1;At>=0;At--)(Rt=ie[At])&&(tt=(rt<3?Rt(tt):rt>3?Rt(ye,Se,tt):Rt(ye,Se))||tt);return rt>3&&tt&&Object.defineProperty(ye,Se,tt),tt}function be(ie,ye,Se,Ze){return new(Se||(Se=Promise))(function(tt,Rt){function At(Cn){try{Xe(Ze.next(Cn))}catch(yt){Rt(yt)}}function Ht(Cn){try{Xe(Ze.throw(Cn))}catch(yt){Rt(yt)}}function Xe(Cn){Cn.done?tt(Cn.value):function rt(tt){return tt instanceof Se?tt:new Se(function(Rt){Rt(tt)})}(Cn.value).then(At,Ht)}Xe((Ze=Ze.apply(ie,ye||[])).next())})}function Re(ie){return this instanceof Re?(this.v=ie,this):new Re(ie)}function He(ie,ye,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ze=Se.apply(ie,ye||[]),tt=[];return rt={},Rt("next"),Rt("throw"),Rt("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function Rt(gt){Ze[gt]&&(rt[gt]=function(mt){return new Promise(function(Ut,tn){tt.push([gt,mt,Ut,tn])>1||At(gt,mt)})})}function At(gt,mt){try{!function Ht(gt){gt.value instanceof Re?Promise.resolve(gt.value.v).then(Xe,Cn):yt(tt[0][2],gt)}(Ze[gt](mt))}catch(Ut){yt(tt[0][3],Ut)}}function Xe(gt){At("next",gt)}function Cn(gt){At("throw",gt)}function yt(gt,mt){gt(mt),tt.shift(),tt.length&&At(tt[0][0],tt[0][1])}}function qe(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ye=ie[Symbol.asyncIterator];return ye?ye.call(ie):(ie=function Ye(ie){var ye="function"==typeof Symbol&&Symbol.iterator,Se=ye&&ie[ye],Ze=0;if(Se)return Se.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Ze>=ie.length&&(ie=void 0),{value:ie&&ie[Ze++],done:!ie}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),Se={},Ze("next"),Ze("throw"),Ze("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ze(tt){Se[tt]=ie[tt]&&function(Rt){return new Promise(function(At,Ht){!function rt(tt,Rt,At,Ht){Promise.resolve(Ht).then(function(Xe){tt({value:Xe,done:At})},Rt)}(At,Ht,(Rt=ie[tt](Rt)).done,Rt.value)})}}}x.d(it,{FC:()=>He,KL:()=>qe,_T:()=>ne,gn:()=>Te,mG:()=>be,qq:()=>Re}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=5351)}]);