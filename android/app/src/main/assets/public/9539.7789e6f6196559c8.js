"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9539],{9539:(w,m,r)=>{r.r(m),r.d(m,{LogInPageModule:()=>Y});var f=r(6814),s=r(95),l=r(6761),g=r(2692),v=r(5861),I=r(1273),o=r(5879),P=r(6796),y=r(8022),C=r(74),Z=r(5890);function T(n,a){1&n&&(o.TgZ(0,"div",14),o._uU(1,"EL campo de email no puede estar vac\xedo"),o.qZA())}function L(n,a){1&n&&(o.TgZ(0,"div",14),o._uU(1,"Debe ingresar un correo v\xe1lido"),o.qZA())}function A(n,a){if(1&n&&(o.TgZ(0,"div",12),o.YNc(1,T,2,0,"div",13),o.YNc(2,L,2,0,"div",13),o.qZA()),2&n){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.required),o.xp6(1),o.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.email)}}function M(n,a){1&n&&(o.TgZ(0,"div",14),o._uU(1,"EL campo de contrase\xf1a no puede estas vac\xedo"),o.qZA())}function b(n,a){if(1&n&&(o.TgZ(0,"div",12),o.YNc(1,M,2,0,"div",13),o.qZA()),2&n){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",null==i.form.controls.password.errors?null:i.form.controls.password.errors.required)}}const O=[{path:"",component:(()=>{var n;class a{constructor(e,t,c,u,d,p){this.navCtrl=e,this.afAuth=t,this.alertController=c,this.firestore=u,this.loadingController=d,this.toastController=p,this.form=new s.cw({email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required])})}ngOnInit(){}submit(){var e=this;return(0,v.Z)(function*(){const t=yield e.loadingController.create({message:"Iniciando Sesi\xf3n",duration:2e3,translucent:!0,backdropDismiss:!1});if(yield t.present(),e.form.valid)try{const{email:c,password:u}=e.form.value;yield e.afAuth.signInWithEmailAndPassword(c,u);const d=yield e.afAuth.currentUser;if(d){yield I.u.set({key:"user",value:JSON.stringify(d)});const p=d.uid;e.firestore.collection("usuarios").doc(p).valueChanges().subscribe(x=>{if(x){const h=x.tipo;"alumno"===h?e.navCtrl.navigateRoot("/alumno"):"docente"===h?e.navCtrl.navigateRoot("/docente"):(console.log("No tienes permiso de entrar"),e.presentToast("No tiene el permiso para ingresar ac\xe1"))}else console.log("Entro al otro N|2")})}yield t.dismiss()}catch(c){console.log("Error al inisiar sesi\xf3n: ",c),yield(yield e.alertController.create({header:"Error",message:"Credeciales invalidas, Intentelo denuevo:)",buttons:["ACEPTAR"]})).present()}})()}presentToast(e){var t=this;return(0,v.Z)(function*(){(yield t.toastController.create({message:e,duration:2500,position:"top"})).present()})()}}return(n=a).\u0275fac=function(e){return new(e||n)(o.Y36(l.SH),o.Y36(P.zQ),o.Y36(l.Br),o.Y36(y.ST),o.Y36(l.HT),o.Y36(l.yF))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-log-in"]],decls:19,vars:6,consts:[["title","Login"],[3,"fullscreen"],[1,"d-flex-center","div"],[1,"card"],[1,"auth-form",3,"ngSubmit"],["icon","mail-outline","autocomplete","email","type","email","label","Email",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a","requiered","","autofocus","",3,"control"],["expand","block","shape","round","type","submit",1,"iniciar",3,"disabled"],["slot","end","name","log-in"],["routerLink","/home"],["name","log-out"],[1,"validators"],["class","mensaje",4,"ngIf"],[1,"mensaje"]],template:function(e,t){1&e&&(o._UZ(0,"app-header",0),o.TgZ(1,"ion-content",1)(2,"h1"),o._uU(3,"Inicio de Sesi\xf3n"),o.qZA(),o.TgZ(4,"div",2)(5,"ion-card",3)(6,"form",4),o.NdJ("ngSubmit",function(){return t.submit()}),o._UZ(7,"app-custom-input",5),o.YNc(8,A,3,2,"div",6),o._UZ(9,"app-custom-input",7),o.YNc(10,b,2,1,"div",6),o.TgZ(11,"ion-button",8),o._uU(12," Iniciar Sesi\xf3n "),o._UZ(13,"ion-icon",9),o.qZA(),o.TgZ(14,"p",10),o._UZ(15,"ion-icon",11),o._uU(16," Volver "),o.qZA(),o.TgZ(17,"p"),o._uU(18,"Al ingresar a nuestra aplicaci\xf3n aceptas las Condiciones de uso y Pol\xedtica de privacidad."),o.qZA()()()()()),2&e&&(o.xp6(1),o.Q6J("fullscreen",!0),o.xp6(6),o.Q6J("control",t.form.controls.email),o.xp6(1),o.Q6J("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),o.xp6(1),o.Q6J("control",t.form.controls.password),o.xp6(1),o.Q6J("ngIf",t.form.controls.password.errors&&t.form.controls.password.touched),o.xp6(1),o.Q6J("disabled",t.form.invalid))},dependencies:[f.O5,s._Y,s.JL,s.F,l.YG,l.PM,l.W2,l.gu,l.YI,g.rH,C.G,Z.O],styles:["ion-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px;-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;-o-border-radius:10px;box-shadow:10px,5px,5px #000}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;font-family:Helvetica Neue;text-align:center;margin:30px auto}ion-content[_ngcontent-%COMP%]   .iniciar[_ngcontent-%COMP%]{margin-top:10px;height:40px;font-size:18px;text-transform:initial;border-radius:50px;box-shadow:1px 8px 8px #0000000d;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}ion-content[_ngcontent-%COMP%]   .olvidar[_ngcontent-%COMP%]{font-size:15px;text-transform:initial;box-shadow:1px 8px 8px #0000000d;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}ion-content[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{color:#ff0202;font-size:14px;display:grid;place-items:center}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;font-size:15px;text-align:center;color:#000;opacity:90%;margin-top:20px}"]}),a})()}];let N=(()=>{var n;class a{}return(n=a).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g.Bz.forChild(O),g.Bz]}),a})();var J=r(6208);let Y=(()=>{var n;class a{}return(n=a).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f.ez,s.u5,l.Pc,N,J.m]}),a})()}}]);