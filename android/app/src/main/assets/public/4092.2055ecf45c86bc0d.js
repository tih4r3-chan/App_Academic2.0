(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4092],{4092:(P,a,c)=>{"use strict";c.r(a),c.d(a,{GeneradorAsisPageModule:()=>S});var i=c(6814),s=c(95),t=c(6761),n=c(2692),r=c(5861),l=c(1273),u=c(7398),o=c(5879),w=c(9045),T=c(8022),I=c(2839),p=c(6593);const C=["qrcElement"];let L=(()=>{var A;class v{constructor(e,d){this.renderer=e,this.sanitizer=d,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new o.vpe,this.context=null}ngOnChanges(){var e=this;return(0,r.Z)(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((d,f)=>{(0,I.hz)(this.qrdata,e,(h,m)=>{h?f(h):d(m)})})}toCanvas(e,d){return new Promise((f,h)=>{(0,I.rT)(e,this.qrdata,d,m=>{m?h(m):f("success")})})}toSVG(e){return new Promise((d,f)=>{(0,I.toString)(this.qrdata,e,(h,m)=>{h?f(h):d(m)})})}renderElement(e){for(const d of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,d);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return(0,r.Z)(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const d={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},f=e.imageSrc,h=e.imageHeight||40,m=e.imageWidth||40;switch(e.elementType){case"canvas":{const g=e.renderer.createElement("canvas");e.context=g.getContext("2d"),e.toCanvas(g,d).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(g,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(g,"title",`${e.title}`),f&&e.context){e.centerImage=new Image(m,h),f!==e.centerImage.src&&(e.centerImage.src=f),h!==e.centerImage.height&&(e.centerImage.height=h),m!==e.centerImage.width&&(e.centerImage.width=m);const E=e.centerImage;E&&(E.onload=()=>{var B;null===(B=e.context)||void 0===B||B.drawImage(E,g.width/2-m/2,g.height/2-h/2,m,h)})}e.renderElement(g),e.emitQRCodeURL(g)}).catch(E=>{console.error("[angularx-qrcode] canvas error:",E)});break}case"svg":{const g=e.renderer.createElement("div");e.toSVG(d).then(E=>{e.renderer.setProperty(g,"innerHTML",E);const B=g.firstChild;e.renderer.setAttribute(B,"height",`${e.width}`),e.renderer.setAttribute(B,"width",`${e.width}`),e.renderElement(B),e.emitQRCodeURL(B)}).catch(E=>{console.error("[angularx-qrcode] svg error:",E)});break}default:{const g=e.renderer.createElement("img");e.toDataURL(d).then(E=>{e.alt&&g.setAttribute("alt",e.alt),e.ariaLabel&&g.setAttribute("aria-label",e.ariaLabel),g.setAttribute("src",E),e.title&&g.setAttribute("title",e.title),e.renderElement(g),e.emitQRCodeURL(g)}).catch(E=>{console.error("[angularx-qrcode] img/url error:",E)})}}}catch(d){console.error("[angularx-qrcode] Error generating QR Code:",d.message)}})()}emitQRCodeURL(e){const d=e.constructor.name;if(d===SVGSVGElement.name){const m=new Blob([e.outerHTML],{type:"image/svg+xml"}),g=URL.createObjectURL(m),E=this.sanitizer.bypassSecurityTrustUrl(g);return void this.qrCodeURL.emit(E)}let f="";d===HTMLCanvasElement.name&&(f=e.toDataURL("image/png")),d===HTMLImageElement.name&&(f=e.src),fetch(f).then(h=>h.blob()).then(h=>URL.createObjectURL(h)).then(h=>this.sanitizer.bypassSecurityTrustUrl(h)).then(h=>{this.qrCodeURL.emit(h)}).catch(h=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+h)})}}return(A=v).\u0275fac=function(e){return new(e||A)(o.Y36(o.Qsj),o.Y36(p.H7))},A.\u0275cmp=o.Xpm({type:A,selectors:[["qrcode"]],viewQuery:function(e,d){if(1&e&&o.Gf(C,7),2&e){let f;o.iGM(f=o.CRH())&&(d.qrcElement=f.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[o.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,d){1&e&&o._UZ(0,"div",null,0),2&e&&o.Tol(d.cssClass)},encapsulation:2,changeDetection:0}),v})(),R=(()=>{var A;class v{}return(A=v).\u0275fac=function(e){return new(e||A)},A.\u0275mod=o.oAB({type:A}),A.\u0275inj=o.cJS({}),v})();function D(A,v){if(1&A&&(o.TgZ(0,"div")(1,"p",9),o._uU(2),o.qZA()()),2&A){const y=o.oxw();o.xp6(2),o.hij(" Nombre de la Clase: ",y.clasess.nombre," ")}}const N=[{path:"",component:(()=>{var A;class v{constructor(e,d,f){this.apiService=e,this.firestore=d,this.toastController=f,this.texto="",this.mensaje=""}ngOnInit(){this.mostrarData(),this.leerUSer(),this.apiService.getClases().subscribe(e=>{this.clases=e}),this.apiService.getUsers().subscribe(e=>{this.userList=e,this.userList.forEach(d=>{this.userData&&this.userData.uid===d.uid&&(this.userData=d)})})}leerUSer(){var e=this;return(0,r.Z)(function*(){const d=yield l.u.get({key:"user"});d.value&&(e.userData=JSON.parse(d.value))})()}generarTextoAleatorio(){this.texto=Array.from({length:10},()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62*Math.random())]).join(""),this.mensaje="Mostrar el codigo QR a los alumnos para que pueda ser escaneado"}crearDocumento(){var e=this;return(0,r.Z)(function*(){if(e.generarTextoAleatorio(),e.apiService.getClases().subscribe(d=>{e.claseList=d;const f=e.userData.uid,h=d.find(m=>m.docenteId===f);if(h){const m=h.uid;e.firestore.collection("clase").doc(m).get().pipe((0,u.U)(g=>{if(g.exists){g.data();const U=!0,F=!1;e.firestore.collection("clase").doc(m).update({estado:U}).then(()=>{setTimeout(()=>{e.firestore.collection("clase").doc(m).update({estado:F}).then(()=>{console.log("La clase ya finalizo")}).catch(V=>{console.log("Error de actualizacion de estado --\x3e ",V)})},36e5)}).catch(V=>{console.log("Error de actualizacion de estado --\x3e",V)})}}))}else console.log("No hay coincidencia")}),e.userData){const d=e.userData.claseId;if(d&&e.clases){const f=e.clases.find(h=>h.uid===d);if(f){const h=f.listaA,m=new Date,g=m.toISOString().split("T")[0],B=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][m.getDay()],U=m.toLocaleTimeString(),F={nombreDocente:e.userData.nombre+" "+e.userData.apellido,claseId:d,listaA:h,fecha:g,hora:U,dia:B};yield l.u.set({key:"asistencia",value:JSON.stringify(F)}),e.firestore.collection("asistencia").add(F),console.log("El documento ya se creo en firestore"),e.presentToast("Ya se inicio la asistencia, desde ahora los alumnos tiene 40 minutos para marcar su asistencia",4e3)}}}})()}presentToast(e,d){var f=this;return(0,r.Z)(function*(){(yield f.toastController.create({message:e,duration:d,position:"top"})).present()})()}mostrarData(){var e=this;return(0,r.Z)(function*(){const d=yield l.u.get({key:"user"});d.value&&(e.userData=JSON.parse(d.value)),e.apiService.getUsers().subscribe(f=>{e.userList=f;const h=e.userList.find(m=>m.uid===e.userData.uid);h&&(e.userData=h)}),e.apiService.getClases().subscribe(f=>{e.clases=f;const h=e.userData.claseId,m=e.clases.find(g=>g.uid===h);m&&(e.clasess=m)})})()}}return(A=v).\u0275fac=function(e){return new(e||A)(o.Y36(w.s),o.Y36(T.ST),o.Y36(t.yF))},A.\u0275cmp=o.Xpm({type:A,selectors:[["app-generador-asis"]],decls:23,vars:6,consts:[[3,"translucent"],["slot","start"],["routerLink","/docente","color","primary"],["slot","icon-only","name","arrow-back"],[3,"fullscreen"],[1,"ion-margin"],[1,"ion-text-center",2,"color","#000"],["src","assets/img/fondo2.png"],[4,"ngIf"],[1,"ion-text-center"],[3,"click"],["color","success","routerLink","/asignaturas"],[3,"qrdata","width"]],template:function(e,d){1&e&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),o._UZ(4,"ion-icon",3),o.qZA()()()(),o.TgZ(5,"ion-content",4)(6,"div",5)(7,"ion-title",6),o._uU(8,"Asignaturas impartidas"),o.qZA()(),o.TgZ(9,"ion-card"),o._UZ(10,"ion-img",7),o.TgZ(11,"ion-card-content"),o.YNc(12,D,3,1,"div",8),o.qZA(),o.TgZ(13,"div",9)(14,"ion-button",10),o.NdJ("click",function(){return d.crearDocumento()}),o._uU(15," Tomar Asistencia "),o.qZA(),o.TgZ(16,"ion-button",11),o._uU(17," Curso "),o.qZA()(),o._UZ(18,"br"),o.TgZ(19,"div",9),o._UZ(20,"qrcode",12),o.TgZ(21,"p"),o._uU(22),o.qZA()()()()),2&e&&(o.Q6J("translucent",!0),o.xp6(5),o.Q6J("fullscreen",!0),o.xp6(7),o.Q6J("ngIf",d.clasess),o.xp6(8),o.Q6J("qrdata",d.texto)("width",250),o.xp6(2),o.Oqu(d.mensaje))},dependencies:[L,i.O5,t.YG,t.Sm,t.PM,t.FN,t.W2,t.Gu,t.gu,t.Xz,t.wd,t.sr,t.YI,n.rH],styles:["ion-header[_ngcontent-%COMP%]{width:100%}ion-header[_ngcontent-%COMP%]   .imagen1[_ngcontent-%COMP%]{width:90px;margin-left:100px;margin-top:0;box-shadow:1px 8px 8px #0000000d}ion-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:auto;text-align:center;font-size:15px}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin:20px auto auto;text-transform:uppercase}"]}),v})()}];let M=(()=>{var A;class v{}return(A=v).\u0275fac=function(e){return new(e||A)},A.\u0275mod=o.oAB({type:A}),A.\u0275inj=o.cJS({imports:[n.Bz.forChild(N),n.Bz]}),v})(),S=(()=>{var A;class v{}return(A=v).\u0275fac=function(e){return new(e||A)},A.\u0275mod=o.oAB({type:A}),A.\u0275inj=o.cJS({imports:[R,i.ez,s.u5,t.Pc,M]}),v})()},7206:P=>{"use strict";var a={single_source_shortest_paths:function(c,i,s){var t={},n={};n[i]=0;var l,u,o,w,T,p,r=a.PriorityQueue.make();for(r.push(i,0);!r.empty();)for(o in w=(l=r.pop()).cost,T=c[u=l.value]||{})T.hasOwnProperty(o)&&(p=w+T[o],(typeof n[o]>"u"||n[o]>p)&&(n[o]=p,r.push(o,p),t[o]=u));if(typeof s<"u"&&typeof n[s]>"u"){var R=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(R)}return t},extract_shortest_path_from_predecessor_list:function(c,i){for(var s=[],t=i;t;)s.push(t),t=c[t];return s.reverse(),s},find_path:function(c,i,s){var t=a.single_source_shortest_paths(c,i,s);return a.extract_shortest_path_from_predecessor_list(t,s)},PriorityQueue:{make:function(c){var t,i=a.PriorityQueue,s={};for(t in c=c||{},i)i.hasOwnProperty(t)&&(s[t]=i[t]);return s.queue=[],s.sorter=c.sorter||i.default_sorter,s},default_sorter:function(c,i){return c.cost-i.cost},push:function(c,i){this.queue.push({value:c,cost:i}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};P.exports=a},6119:P=>{"use strict";P.exports=function(c){for(var i=[],s=c.length,t=0;t<s;t++){var n=c.charCodeAt(t);if(n>=55296&&n<=56319&&s>t+1){var r=c.charCodeAt(t+1);r>=56320&&r<=57343&&(n=1024*(n-55296)+r-56320+65536,t+=1)}n<128?i.push(n):n<2048?(i.push(n>>6|192),i.push(63&n|128)):n<55296||n>=57344&&n<65536?(i.push(n>>12|224),i.push(n>>6&63|128),i.push(63&n|128)):n>=65536&&n<=1114111?(i.push(n>>18|240),i.push(n>>12&63|128),i.push(n>>6&63|128),i.push(63&n|128)):i.push(239,191,189)}return new Uint8Array(i).buffer}},2839:(P,a,c)=>{const s=c(8310),t=c(9770),n=c(6422),r=c(7772);function l(u,o,w,T,I){const p=[].slice.call(arguments,1),C=p.length,L="function"==typeof p[C-1];if(!L&&!s())throw new Error("Callback required as last argument");if(!L){if(C<1)throw new Error("Too few arguments provided");return 1===C?(w=o,o=T=void 0):2===C&&!o.getContext&&(T=w,w=o,o=void 0),new Promise(function(R,D){try{const b=t.create(w,T);R(u(b,o,T))}catch(b){D(b)}})}if(C<2)throw new Error("Too few arguments provided");2===C?(I=w,w=o,o=T=void 0):3===C&&(o.getContext&&typeof I>"u"?(I=T,T=void 0):(I=T,T=w,w=o,o=void 0));try{const R=t.create(w,T);I(null,u(R,o,T))}catch(R){I(R)}}a.rT=l.bind(null,n.render),a.hz=l.bind(null,n.renderToDataURL),a.toString=l.bind(null,function(u,o,w){return r.render(u,w)})},8310:P=>{P.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},5281:(P,a,c)=>{const i=c(2562).getSymbolSize;a.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,r=i(t),l=145===r?26:2*Math.ceil((r-13)/(2*n-2)),u=[r-7];for(let o=1;o<n-1;o++)u[o]=u[o-1]-l;return u.push(6),u.reverse()},a.getPositions=function(t){const n=[],r=a.getRowColCoords(t),l=r.length;for(let u=0;u<l;u++)for(let o=0;o<l;o++)0===u&&0===o||0===u&&o===l-1||u===l-1&&0===o||n.push([r[u],r[o]]);return n}},2993:(P,a,c)=>{const i=c(1239),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(n){this.mode=i.ALPHANUMERIC,this.data=n}t.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let l;for(l=0;l+2<=this.data.length;l+=2){let u=45*s.indexOf(this.data[l]);u+=s.indexOf(this.data[l+1]),r.put(u,11)}this.data.length%2&&r.put(s.indexOf(this.data[l]),6)},P.exports=t},6509:P=>{function a(){this.buffer=[],this.length=0}a.prototype={get:function(c){const i=Math.floor(c/8);return 1==(this.buffer[i]>>>7-c%8&1)},put:function(c,i){for(let s=0;s<i;s++)this.putBit(1==(c>>>i-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(c){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),c&&(this.buffer[i]|=128>>>this.length%8),this.length++}},P.exports=a},5147:P=>{function a(c){if(!c||c<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=c,this.data=new Uint8Array(c*c),this.reservedBit=new Uint8Array(c*c)}a.prototype.set=function(c,i,s,t){const n=c*this.size+i;this.data[n]=s,t&&(this.reservedBit[n]=!0)},a.prototype.get=function(c,i){return this.data[c*this.size+i]},a.prototype.xor=function(c,i,s){this.data[c*this.size+i]^=s},a.prototype.isReserved=function(c,i){return this.reservedBit[c*this.size+i]},P.exports=a},277:(P,a,c)=>{const i=c(6119),s=c(1239);function t(n){this.mode=s.BYTE,"string"==typeof n&&(n=i(n)),this.data=new Uint8Array(n)}t.getBitsLength=function(r){return 8*r},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,l=this.data.length;r<l;r++)n.put(this.data[r],8)},P.exports=t},7191:(P,a,c)=>{const i=c(8497),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];a.getBlocksCount=function(r,l){switch(l){case i.L:return s[4*(r-1)+0];case i.M:return s[4*(r-1)+1];case i.Q:return s[4*(r-1)+2];case i.H:return s[4*(r-1)+3];default:return}},a.getTotalCodewordsCount=function(r,l){switch(l){case i.L:return t[4*(r-1)+0];case i.M:return t[4*(r-1)+1];case i.Q:return t[4*(r-1)+2];case i.H:return t[4*(r-1)+3];default:return}}},8497:(P,a)=>{a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2},a.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},a.from=function(s,t){if(a.isValid(s))return s;try{return function c(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+i)}}(s)}catch{return t}}},5232:(P,a,c)=>{const i=c(2562).getSymbolSize;a.getPositions=function(n){const r=i(n);return[[0,0],[r-7,0],[0,r-7]]}},8508:(P,a,c)=>{const i=c(2562),n=i.getBCHDigit(1335);a.getEncodedBits=function(l,u){const o=l.bit<<3|u;let w=o<<10;for(;i.getBCHDigit(w)-n>=0;)w^=1335<<i.getBCHDigit(w)-n;return 21522^(o<<10|w)}},1674:(P,a)=>{const c=new Uint8Array(512),i=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)c[n]=t,i[t]=n,t<<=1,256&t&&(t^=285);for(let n=255;n<512;n++)c[n]=c[n-255]})(),a.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},a.exp=function(t){return c[t]},a.mul=function(t,n){return 0===t||0===n?0:c[i[t]+i[n]]}},9995:(P,a,c)=>{const i=c(1239),s=c(2562);function t(n){this.mode=i.KANJI,this.data=n}t.getBitsLength=function(r){return 13*r},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let r;for(r=0;r<this.data.length;r++){let l=s.toSJIS(this.data[r]);if(l>=33088&&l<=40956)l-=33088;else{if(!(l>=57408&&l<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");l-=49472}l=192*(l>>>8&255)+(255&l),n.put(l,13)}},P.exports=t},9023:(P,a)=>{a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(s,t,n){switch(s){case a.Patterns.PATTERN000:return(t+n)%2==0;case a.Patterns.PATTERN001:return t%2==0;case a.Patterns.PATTERN010:return n%3==0;case a.Patterns.PATTERN011:return(t+n)%3==0;case a.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case a.Patterns.PATTERN101:return t*n%2+t*n%3==0;case a.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case a.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}}a.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},a.from=function(t){return a.isValid(t)?parseInt(t,10):void 0},a.getPenaltyN1=function(t){const n=t.size;let r=0,l=0,u=0,o=null,w=null;for(let T=0;T<n;T++){l=u=0,o=w=null;for(let I=0;I<n;I++){let p=t.get(T,I);p===o?l++:(l>=5&&(r+=l-5+3),o=p,l=1),p=t.get(I,T),p===w?u++:(u>=5&&(r+=u-5+3),w=p,u=1)}l>=5&&(r+=l-5+3),u>=5&&(r+=u-5+3)}return r},a.getPenaltyN2=function(t){const n=t.size;let r=0;for(let l=0;l<n-1;l++)for(let u=0;u<n-1;u++){const o=t.get(l,u)+t.get(l,u+1)+t.get(l+1,u)+t.get(l+1,u+1);(4===o||0===o)&&r++}return 3*r},a.getPenaltyN3=function(t){const n=t.size;let r=0,l=0,u=0;for(let o=0;o<n;o++){l=u=0;for(let w=0;w<n;w++)l=l<<1&2047|t.get(o,w),w>=10&&(1488===l||93===l)&&r++,u=u<<1&2047|t.get(w,o),w>=10&&(1488===u||93===u)&&r++}return 40*r},a.getPenaltyN4=function(t){let n=0;const r=t.data.length;for(let u=0;u<r;u++)n+=t.data[u];return 10*Math.abs(Math.ceil(100*n/r/5)-10)},a.applyMask=function(t,n){const r=n.size;for(let l=0;l<r;l++)for(let u=0;u<r;u++)n.isReserved(u,l)||n.xor(u,l,i(t,u,l))},a.getBestMask=function(t,n){const r=Object.keys(a.Patterns).length;let l=0,u=1/0;for(let o=0;o<r;o++){n(o),a.applyMask(o,t);const w=a.getPenaltyN1(t)+a.getPenaltyN2(t)+a.getPenaltyN3(t)+a.getPenaltyN4(t);a.applyMask(o,t),w<u&&(u=w,l=o)}return l}},1239:(P,a,c)=>{const i=c(6161),s=c(2427);a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(r,l){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!i.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?r.ccBits[0]:l<27?r.ccBits[1]:r.ccBits[2]},a.getBestModeForData=function(r){return s.testNumeric(r)?a.NUMERIC:s.testAlphanumeric(r)?a.ALPHANUMERIC:s.testKanji(r)?a.KANJI:a.BYTE},a.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},a.isValid=function(r){return r&&r.bit&&r.ccBits},a.from=function(r,l){if(a.isValid(r))return r;try{return function t(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+n)}}(r)}catch{return l}}},8722:(P,a,c)=>{const i=c(1239);function s(t){this.mode=i.NUMERIC,this.data=t.toString()}s.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(n){let r,l,u;for(r=0;r+3<=this.data.length;r+=3)l=this.data.substr(r,3),u=parseInt(l,10),n.put(u,10);const o=this.data.length-r;o>0&&(l=this.data.substr(r),u=parseInt(l,10),n.put(u,3*o+1))},P.exports=s},2376:(P,a,c)=>{const i=c(1674);a.mul=function(t,n){const r=new Uint8Array(t.length+n.length-1);for(let l=0;l<t.length;l++)for(let u=0;u<n.length;u++)r[l+u]^=i.mul(t[l],n[u]);return r},a.mod=function(t,n){let r=new Uint8Array(t);for(;r.length-n.length>=0;){const l=r[0];for(let o=0;o<n.length;o++)r[o]^=i.mul(n[o],l);let u=0;for(;u<r.length&&0===r[u];)u++;r=r.slice(u)}return r},a.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let r=0;r<t;r++)n=a.mul(n,new Uint8Array([1,i.exp(r)]));return n}},9770:(P,a,c)=>{const i=c(2562),s=c(8497),t=c(6509),n=c(5147),r=c(5281),l=c(5232),u=c(9023),o=c(7191),w=c(1297),T=c(9467),I=c(8508),p=c(1239),C=c(1799);function N(y,e,d){const f=y.size,h=I.getEncodedBits(e,d);let m,g;for(m=0;m<15;m++)g=1==(h>>m&1),y.set(m<6?m:m<8?m+1:f-15+m,8,g,!0),y.set(8,m<8?f-m-1:m<9?15-m-1+1:15-m-1,g,!0);y.set(f-8,8,1,!0)}function v(y,e,d,f){let h;if(Array.isArray(y))h=C.fromArray(y);else{if("string"!=typeof y)throw new Error("Invalid data");{let U=e;if(!U){const F=C.rawSplit(y);U=T.getBestVersionForData(F,d)}h=C.fromString(y,U||40)}}const m=T.getBestVersionForData(h,d);if(!m)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<m)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+m+".\n")}else e=m;const g=function S(y,e,d){const f=new t;d.forEach(function(B){f.put(B.mode.bit,4),f.put(B.getLength(),p.getCharCountIndicator(B.mode,y)),B.write(f)});const g=8*(i.getSymbolTotalCodewords(y)-o.getTotalCodewordsCount(y,e));for(f.getLengthInBits()+4<=g&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(0);const E=(g-f.getLengthInBits())/8;for(let B=0;B<E;B++)f.put(B%2?17:236,8);return function A(y,e,d){const f=i.getSymbolTotalCodewords(e),m=f-o.getTotalCodewordsCount(e,d),g=o.getBlocksCount(e,d),B=g-f%g,U=Math.floor(f/g),F=Math.floor(m/g),V=F+1,Y=U-F,j=new w(Y);let O=0;const J=new Array(g),x=new Array(g);let G=0;const q=new Uint8Array(y.buffer);for(let H=0;H<g;H++){const Z=H<B?F:V;J[H]=q.slice(O,O+Z),x[H]=j.encode(J[H]),O+=Z,G=Math.max(G,Z)}const Q=new Uint8Array(f);let z,k,K=0;for(z=0;z<G;z++)for(k=0;k<g;k++)z<J[k].length&&(Q[K++]=J[k][z]);for(z=0;z<Y;z++)for(k=0;k<g;k++)Q[K++]=x[k][z];return Q}(f,y,e)}(e,d,h),E=i.getSymbolSize(e),B=new n(E);return function L(y,e){const d=y.size,f=l.getPositions(e);for(let h=0;h<f.length;h++){const m=f[h][0],g=f[h][1];for(let E=-1;E<=7;E++)if(!(m+E<=-1||d<=m+E))for(let B=-1;B<=7;B++)g+B<=-1||d<=g+B||y.set(m+E,g+B,E>=0&&E<=6&&(0===B||6===B)||B>=0&&B<=6&&(0===E||6===E)||E>=2&&E<=4&&B>=2&&B<=4,!0)}}(B,e),function R(y){const e=y.size;for(let d=8;d<e-8;d++){const f=d%2==0;y.set(d,6,f,!0),y.set(6,d,f,!0)}}(B),function D(y,e){const d=r.getPositions(e);for(let f=0;f<d.length;f++){const h=d[f][0],m=d[f][1];for(let g=-2;g<=2;g++)for(let E=-2;E<=2;E++)y.set(h+g,m+E,-2===g||2===g||-2===E||2===E||0===g&&0===E,!0)}}(B,e),N(B,d,0),e>=7&&function b(y,e){const d=y.size,f=T.getEncodedBits(e);let h,m,g;for(let E=0;E<18;E++)h=Math.floor(E/3),m=E%3+d-8-3,g=1==(f>>E&1),y.set(h,m,g,!0),y.set(m,h,g,!0)}(B,e),function M(y,e){const d=y.size;let f=-1,h=d-1,m=7,g=0;for(let E=d-1;E>0;E-=2)for(6===E&&E--;;){for(let B=0;B<2;B++)if(!y.isReserved(h,E-B)){let U=!1;g<e.length&&(U=1==(e[g]>>>m&1)),y.set(h,E-B,U),m--,-1===m&&(g++,m=7)}if(h+=f,h<0||d<=h){h-=f,f=-f;break}}}(B,g),isNaN(f)&&(f=u.getBestMask(B,N.bind(null,B,d))),u.applyMask(f,B),N(B,d,f),{modules:B,version:e,errorCorrectionLevel:d,maskPattern:f,segments:h}}a.create=function(e,d){if(typeof e>"u"||""===e)throw new Error("No input text");let h,m,f=s.M;return typeof d<"u"&&(f=s.from(d.errorCorrectionLevel,s.M),h=T.from(d.version),m=u.from(d.maskPattern),d.toSJISFunc&&i.setToSJISFunction(d.toSJISFunc)),v(e,h,f,m)}},1297:(P,a,c)=>{const i=c(2376);function s(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}s.prototype.initialize=function(n){this.degree=n,this.genPoly=i.generateECPolynomial(this.degree)},s.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(n.length+this.degree);r.set(n);const l=i.mod(r,this.genPoly),u=this.degree-l.length;if(u>0){const o=new Uint8Array(this.degree);return o.set(l,u),o}return l},P.exports=s},2427:(P,a)=>{const c="[0-9]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+")(?:.|[\r\n]))+";a.KANJI=new RegExp(s,"g"),a.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),a.BYTE=new RegExp(t,"g"),a.NUMERIC=new RegExp(c,"g"),a.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+s+"$"),r=new RegExp("^"+c+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");a.testKanji=function(o){return n.test(o)},a.testNumeric=function(o){return r.test(o)},a.testAlphanumeric=function(o){return l.test(o)}},1799:(P,a,c)=>{const i=c(1239),s=c(8722),t=c(2993),n=c(277),r=c(9995),l=c(2427),u=c(2562),o=c(7206);function w(b){return unescape(encodeURIComponent(b)).length}function T(b,N,M){const S=[];let A;for(;null!==(A=b.exec(M));)S.push({data:A[0],index:A.index,mode:N,length:A[0].length});return S}function I(b){const N=T(l.NUMERIC,i.NUMERIC,b),M=T(l.ALPHANUMERIC,i.ALPHANUMERIC,b);let S,A;return u.isKanjiModeEnabled()?(S=T(l.BYTE,i.BYTE,b),A=T(l.KANJI,i.KANJI,b)):(S=T(l.BYTE_KANJI,i.BYTE,b),A=[]),N.concat(M,S,A).sort(function(y,e){return y.index-e.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function p(b,N){switch(N){case i.NUMERIC:return s.getBitsLength(b);case i.ALPHANUMERIC:return t.getBitsLength(b);case i.KANJI:return r.getBitsLength(b);case i.BYTE:return n.getBitsLength(b)}}function D(b,N){let M;const S=i.getBestModeForData(b);if(M=i.from(N,S),M!==i.BYTE&&M.bit<S.bit)throw new Error('"'+b+'" cannot be encoded with mode '+i.toString(M)+".\n Suggested mode is: "+i.toString(S));switch(M===i.KANJI&&!u.isKanjiModeEnabled()&&(M=i.BYTE),M){case i.NUMERIC:return new s(b);case i.ALPHANUMERIC:return new t(b);case i.KANJI:return new r(b);case i.BYTE:return new n(b)}}a.fromArray=function(N){return N.reduce(function(M,S){return"string"==typeof S?M.push(D(S,null)):S.data&&M.push(D(S.data,S.mode)),M},[])},a.fromString=function(N,M){const A=function L(b){const N=[];for(let M=0;M<b.length;M++){const S=b[M];switch(S.mode){case i.NUMERIC:N.push([S,{data:S.data,mode:i.ALPHANUMERIC,length:S.length},{data:S.data,mode:i.BYTE,length:S.length}]);break;case i.ALPHANUMERIC:N.push([S,{data:S.data,mode:i.BYTE,length:S.length}]);break;case i.KANJI:N.push([S,{data:S.data,mode:i.BYTE,length:w(S.data)}]);break;case i.BYTE:N.push([{data:S.data,mode:i.BYTE,length:w(S.data)}])}}return N}(I(N,u.isKanjiModeEnabled())),v=function R(b,N){const M={},S={start:{}};let A=["start"];for(let v=0;v<b.length;v++){const y=b[v],e=[];for(let d=0;d<y.length;d++){const f=y[d],h=""+v+d;e.push(h),M[h]={node:f,lastCount:0},S[h]={};for(let m=0;m<A.length;m++){const g=A[m];M[g]&&M[g].node.mode===f.mode?(S[g][h]=p(M[g].lastCount+f.length,f.mode)-p(M[g].lastCount,f.mode),M[g].lastCount+=f.length):(M[g]&&(M[g].lastCount=f.length),S[g][h]=p(f.length,f.mode)+4+i.getCharCountIndicator(f.mode,N))}}A=e}for(let v=0;v<A.length;v++)S[A[v]].end=0;return{map:S,table:M}}(A,M),y=o.find_path(v.map,"start","end"),e=[];for(let d=1;d<y.length-1;d++)e.push(v.table[y[d]].node);return a.fromArray(function C(b){return b.reduce(function(N,M){const S=N.length-1>=0?N[N.length-1]:null;return S&&S.mode===M.mode?(N[N.length-1].data+=M.data,N):(N.push(M),N)},[])}(e))},a.rawSplit=function(N){return a.fromArray(I(N,u.isKanjiModeEnabled()))}},2562:(P,a)=>{let c;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];a.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},a.getSymbolTotalCodewords=function(t){return i[t]},a.getBCHDigit=function(s){let t=0;for(;0!==s;)t++,s>>>=1;return t},a.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');c=t},a.isKanjiModeEnabled=function(){return typeof c<"u"},a.toSJIS=function(t){return c(t)}},6161:(P,a)=>{a.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}},9467:(P,a,c)=>{const i=c(2562),s=c(7191),t=c(8497),n=c(1239),r=c(6161),u=i.getBCHDigit(7973);function w(p,C){return n.getCharCountIndicator(p,C)+4}function T(p,C){let L=0;return p.forEach(function(R){const D=w(R.mode,C);L+=D+R.getBitsLength()}),L}a.from=function(C,L){return r.isValid(C)?parseInt(C,10):L},a.getCapacity=function(C,L,R){if(!r.isValid(C))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=n.BYTE);const N=8*(i.getSymbolTotalCodewords(C)-s.getTotalCodewordsCount(C,L));if(R===n.MIXED)return N;const M=N-w(R,C);switch(R){case n.NUMERIC:return Math.floor(M/10*3);case n.ALPHANUMERIC:return Math.floor(M/11*2);case n.KANJI:return Math.floor(M/13);default:return Math.floor(M/8)}},a.getBestVersionForData=function(C,L){let R;const D=t.from(L,t.M);if(Array.isArray(C)){if(C.length>1)return function I(p,C){for(let L=1;L<=40;L++)if(T(p,L)<=a.getCapacity(L,C,n.MIXED))return L}(C,D);if(0===C.length)return 1;R=C[0]}else R=C;return function o(p,C,L){for(let R=1;R<=40;R++)if(C<=a.getCapacity(R,L,p))return R}(R.mode,R.getLength(),D)},a.getEncodedBits=function(C){if(!r.isValid(C)||C<7)throw new Error("Invalid QR Code version");let L=C<<12;for(;i.getBCHDigit(L)-u>=0;)L^=7973<<i.getBCHDigit(L)-u;return C<<12|L}},6422:(P,a,c)=>{const i=c(1101);a.render=function(r,l,u){let o=u,w=l;typeof o>"u"&&(!l||!l.getContext)&&(o=l,l=void 0),l||(w=function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),o=i.getOptions(o);const T=i.getImageWidth(r.modules.size,o),I=w.getContext("2d"),p=I.createImageData(T,T);return i.qrToImageData(p.data,r,o),function s(n,r,l){n.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=l,r.width=l,r.style.height=l+"px",r.style.width=l+"px"}(I,w,T),I.putImageData(p,0,0),w},a.renderToDataURL=function(r,l,u){let o=u;return typeof o>"u"&&(!l||!l.getContext)&&(o=l,l=void 0),o||(o={}),a.render(r,l,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}},7772:(P,a,c)=>{const i=c(1101);function s(r,l){const u=r.a/255,o=l+'="'+r.hex+'"';return u<1?o+" "+l+'-opacity="'+u.toFixed(2).slice(1)+'"':o}function t(r,l,u){let o=r+l;return typeof u<"u"&&(o+=" "+u),o}a.render=function(l,u,o){const w=i.getOptions(u),T=l.modules.size,I=l.modules.data,p=T+2*w.margin,C=w.color.light.a?"<path "+s(w.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",L="<path "+s(w.color.dark,"stroke")+' d="'+function n(r,l,u){let o="",w=0,T=!1,I=0;for(let p=0;p<r.length;p++){const C=Math.floor(p%l),L=Math.floor(p/l);!C&&!T&&(T=!0),r[p]?(I++,p>0&&C>0&&r[p-1]||(o+=T?t("M",C+u,.5+L+u):t("m",w,0),w=0,T=!1),C+1<l&&r[p+1]||(o+=t("h",I),I=0)):w++}return o}(I,T,w.margin)+'"/>',b='<svg xmlns="http://www.w3.org/2000/svg" '+(w.width?'width="'+w.width+'" height="'+w.width+'" ':"")+'viewBox="0 0 '+p+" "+p+'" shape-rendering="crispEdges">'+C+L+"</svg>\n";return"function"==typeof o&&o(null,b),b}},1101:(P,a)=>{function c(i){if("number"==typeof i&&(i=i.toString()),"string"!=typeof i)throw new Error("Color should be defined as hex string");let s=i.slice().replace("#","").split("");if(s.length<3||5===s.length||s.length>8)throw new Error("Invalid hex color: "+i);(3===s.length||4===s.length)&&(s=Array.prototype.concat.apply([],s.map(function(n){return[n,n]}))),6===s.length&&s.push("F","F");const t=parseInt(s.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+s.slice(0,6).join("")}}a.getOptions=function(s){s||(s={}),s.color||(s.color={});const n=s.width&&s.width>=21?s.width:void 0;return{width:n,scale:n?4:s.scale||4,margin:typeof s.margin>"u"||null===s.margin||s.margin<0?4:s.margin,color:{dark:c(s.color.dark||"#000000ff"),light:c(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},a.getScale=function(s,t){return t.width&&t.width>=s+2*t.margin?t.width/(s+2*t.margin):t.scale},a.getImageWidth=function(s,t){const n=a.getScale(s,t);return Math.floor((s+2*t.margin)*n)},a.qrToImageData=function(s,t,n){const r=t.modules.size,l=t.modules.data,u=a.getScale(r,n),o=Math.floor((r+2*n.margin)*u),w=n.margin*u,T=[n.color.light,n.color.dark];for(let I=0;I<o;I++)for(let p=0;p<o;p++){let C=4*(I*o+p),L=n.color.light;I>=w&&p>=w&&I<o-w&&p<o-w&&(L=T[l[Math.floor((I-w)/u)*r+Math.floor((p-w)/u)]?1:0]),s[C++]=L.r,s[C++]=L.g,s[C++]=L.b,s[C]=L.a}}}}]);